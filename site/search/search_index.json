{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"\ud83d\ude80 nation.fun!","text":"<p>Um projeto modelo para conectar agentes e criar novos de forma simples e elegante</p> <p> </p> <p>Doc Site</p>"},{"location":"#sobre-o-projeto","title":"\ud83d\udccb Sobre o Projeto","text":"<p>nation.fun \u00e9 uma plataforma inovadora e bem estruturada que funciona como um projeto modelo para conectar com agentes inteligentes e criar novos agentes de forma pr\u00e1tica e eficiente. Este projeto foi desenvolvido com as melhores pr\u00e1ticas de engenharia de software, incluindo testes unit\u00e1rios, BDD (Behavior-Driven Development), integra\u00e7\u00e3o com Next.js e hospedagem via GitHub Pages.</p> <p>Ideal para desenvolvedores que desejam entender como trabalhar com sistemas de agentes, criar integra\u00e7\u00f5es escal\u00e1veis e manter um c\u00f3digo limpo e bem documentado.</p>"},{"location":"#objetivo","title":"Objetivo","text":"<p>Ser uma plataforma que ajude o empreendedor a atender e automatizar o processo de atendimento aos clientes.</p>"},{"location":"#jornada","title":"Jornada","text":"<ul> <li>1 - Login with Privy</li> <li>2 - Add founds in walley privy</li> <li>3 - Buy Nation pass</li> <li>4 - Buy NATO</li> <li>5 - Add CAP in agente</li> <li>6 - Add agent by template (atendente : clinica / empresa endenharia / ecommerce )</li> <li>7 - Channel [whatsapp / telegram] | Integration [calendar / ecommece ]</li> </ul>"},{"location":"#especificacao-do-projeto-nationfun","title":"Especifica\u00e7\u00e3o do Projeto nation.fun","text":""},{"location":"#objetivo-principal","title":"Objetivo Principal","text":"<p>Fomentar a venda da NFT Nation Pass e do token $NATION, criando uma plataforma que permita o onboarding f\u00e1cil de usu\u00e1rios para a cria\u00e7\u00e3o e uso de agentes automatizados, facilitando o atendimento aos seus clientes de forma simples e eficiente.</p>"},{"location":"#descricao","title":"Descri\u00e7\u00e3o","text":"<p>O projeto visa permitir que, em poucos passos, qualquer usu\u00e1rio possa criar seu pr\u00f3prio agente automatizado, capaz de atender clientes em diferentes nichos e canais, automatizando processos de atendimento para empreendedores e empresas.</p>"},{"location":"#funcionalidades-principais","title":"Funcionalidades Principais","text":"<ol> <li>Login com Privy: Autentica\u00e7\u00e3o segura e pr\u00e1tica via Privy.</li> <li>Adicionar fundos na carteira Privy: Usu\u00e1rios adicionam fundos para opera\u00e7\u00f5es dentro da plataforma.</li> <li>Comprar Nation Pass (NFT): Venda da NFT que d\u00e1 acesso a funcionalidades exclusivas.</li> <li>Comprar token $NATION: Facilita transa\u00e7\u00f5es e intera\u00e7\u00f5es dentro do ecossistema.</li> <li>Adicionar CAP no agente: Personaliza\u00e7\u00e3o e configura\u00e7\u00e3o do agente automatizado.</li> <li>Adicionar agente por template: Cria\u00e7\u00e3o r\u00e1pida com modelos prontos para diferentes perfis:<ul> <li>Atendente para cl\u00ednica</li> <li>Empresa de engenharia</li> <li>E-commerce</li> </ul> </li> <li>Canais e integra\u00e7\u00f5es: Suporte para m\u00faltiplos canais e integra\u00e7\u00f5es, como:<ul> <li>Canais: WhatsApp, Telegram</li> <li>Integra\u00e7\u00f5es: Calend\u00e1rio, E-commerce</li> </ul> </li> </ol>"},{"location":"#publico-alvo","title":"P\u00fablico-Alvo","text":"<p>Empreendedores e pequenos neg\u00f3cios que buscam automatizar e melhorar o atendimento ao cliente, utilizando agentes automatizados sem complexidade t\u00e9cnica.</p>"},{"location":"#beneficios-esperados","title":"Benef\u00edcios Esperados","text":"<ul> <li>Processo simplificado de onboarding para usu\u00e1rios.</li> <li>Automatiza\u00e7\u00e3o eficiente de processos de atendimento.</li> <li>Expans\u00e3o do uso das NFTs e tokens no ecossistema Nation.</li> <li>Plataforma escal\u00e1vel e integr\u00e1vel com v\u00e1rios canais e ferramentas externas.</li> </ul>"},{"location":"#caracteristicas-principais","title":"\u2728 Caracter\u00edsticas Principais","text":"<ul> <li>Conex\u00e3o com Agentes: Conecte-se facilmente com agentes existentes</li> <li>Cria\u00e7\u00e3o de Novos Agentes: Interface intuitiva para criar e gerenciar agentes</li> <li>Estrutura Limpa: Projeto bem organizado e f\u00e1cil de estender</li> <li>Testes Automatizados: Cobertura com testes unit\u00e1rios e BDD</li> <li>Deploy Autom\u00e1tico: Hospedagem via GitHub Pages</li> <li>Documenta\u00e7\u00e3o Completa: C\u00f3digo autoexplicativo com boas pr\u00e1ticas</li> </ul>"},{"location":"#tecnologias-utilizadas","title":"\ud83d\udee0\ufe0f Tecnologias Utilizadas","text":"Tecnologia Uso Gherkin BDD e especifica\u00e7\u00f5es de comportamento JavaScript L\u00f3gica e interatividade Next.js Framework React para aplica\u00e7\u00f5es web CSS Estilos e design responsivo HTML Marca\u00e7\u00e3o sem\u00e2ntica Git Controle de vers\u00e3o GitHub Pages Hospedagem est\u00e1tica"},{"location":"#como-comecar","title":"\ud83d\ude80 Como Come\u00e7ar","text":""},{"location":"#pre-requisitos","title":"Pr\u00e9-requisitos","text":"<ul> <li>Node.js 16+ instalado</li> <li>npm ou yarn como gerenciador de pacotes</li> <li>Git instalado na sua m\u00e1quina</li> </ul>"},{"location":"#instalacao","title":"Instala\u00e7\u00e3o","text":"<ol> <li> <p>Clone o reposit\u00f3rio: <code>bash    git clone https://github.com/govinda777/nation.fun.git    cd nation.fun</code></p> </li> <li> <p>Instale as depend\u00eancias: <code>bash    npm install    # ou    yarn install</code></p> </li> <li> <p>Execute o projeto em desenvolvimento: <code>bash    npm run dev    # ou    yarn dev</code></p> </li> <li> <p>Abra no navegador: <code>http://localhost:3000</code></p> </li> </ol>"},{"location":"#estrutura-do-projeto","title":"\ud83d\udcc1 Estrutura do Projeto","text":"<pre><code>nation.fun/\n\u251c\u2500\u2500 public/              # Arquivos est\u00e1ticos\n\u251c\u2500\u2500 components/          # Componentes React reutiliz\u00e1veis\n\u251c\u2500\u2500 pages/              # P\u00e1ginas da aplica\u00e7\u00e3o\n\u251c\u2500\u2500 styles/             # Arquivos de estilo CSS\n\u251c\u2500\u2500 features/           # Especifica\u00e7\u00f5es BDD (.feature)\n\u251c\u2500\u2500 tests/              # Testes unit\u00e1rios\n\u251c\u2500\u2500 next.config.js      # Configura\u00e7\u00e3o Next.js\n\u251c\u2500\u2500 package.json        # Depend\u00eancias do projeto\n\u2514\u2500\u2500 README.md           # Este arquivo\n</code></pre>"},{"location":"#testes","title":"\ud83e\uddea Testes","text":"<p>Execute os testes para garantir que tudo est\u00e1 funcionando corretamente:</p> <pre><code># Testes unit\u00e1rios\nnpm run test\n\n# BDD com Gherkin\nnpm run test:bdd\n\n# Cobertura de testes\nnpm run test:coverage\n</code></pre>"},{"location":"#deploy","title":"\ud83d\udea2 Deploy","text":"<p>O projeto est\u00e1 configurado para deploy autom\u00e1tico via GitHub Pages:</p> <pre><code># Build para produ\u00e7\u00e3o\nnpm run build\n\n# Deploy\nnpm run deploy\n</code></pre> <p>Acesse seu projeto em: https://govinda777.github.io/nation.fun/</p>"},{"location":"#documentacao","title":"\ud83d\udcd6 Documenta\u00e7\u00e3o","text":"<p>Para uma vis\u00e3o detalhada da arquitetura, guias de instala\u00e7\u00e3o, e refer\u00eancia da API, acesse nossa documenta\u00e7\u00e3o completa aqui.</p>"},{"location":"#contribuindo","title":"\ud83e\udd1d Contribuindo","text":"<p>Contribui\u00e7\u00f5es s\u00e3o bem-vindas! Para contribuir com o projeto:</p> <ol> <li>Fa\u00e7a um Fork do projeto</li> <li>Crie uma branch para sua feature (<code>git checkout -b feature/MinhaFeature</code>)</li> <li>Commit suas mudan\u00e7as (<code>git commit -am 'Adiciona MinhaFeature'</code>)</li> <li>Push para a branch (<code>git push origin feature/MinhaFeature</code>)</li> <li>Abra um Pull Request</li> </ol> <p>Para mais detalhes, veja o CONTRIBUTING.md</p>"},{"location":"#codigo-de-conduta","title":"\ud83d\udccb C\u00f3digo de Conduta","text":"<p>Este projeto adota um C\u00f3digo de Conduta que todos os contribuidores devem seguir. Leia o CODE_OF_CONDUCT.md para mais informa\u00e7\u00f5es.</p>"},{"location":"#licenca","title":"\ud83d\udcc4 Licen\u00e7a","text":"<p>Este projeto est\u00e1 licenciado sob a MIT License - veja o arquivo LICENSE para detalhes.</p>"},{"location":"#roadmap","title":"\ud83c\udfaf Roadmap","text":"<ul> <li>[ ] Autentica\u00e7\u00e3o de usu\u00e1rios</li> <li>[ ] Dashboard avan\u00e7ado de agentes</li> <li>[ ] Integra\u00e7\u00e3o com mais plataformas</li> <li>[ ] API REST completa</li> <li>[ ] Documenta\u00e7\u00e3o em v\u00eddeo</li> </ul>"},{"location":"#suporte","title":"\ud83d\udcde Suporte","text":"<p>Tem d\u00favidas ou problemas?</p> <ul> <li>\ud83d\udce7 Abra uma issue</li> <li>\ud83d\udcac Participate das discuss\u00f5es</li> <li>\ud83d\udcda Consulte a documenta\u00e7\u00e3o</li> </ul>"},{"location":"#autor","title":"\ud83d\udc64 Autor","text":"<p>Govinda - @govinda777</p>"},{"location":"#agradecimentos","title":"\ud83d\ude4f Agradecimentos","text":"<p>Agrade\u00e7o a todos que contribuem, reportam bugs e sugerem melhorias para este projeto!</p>   Made with \u2764\ufe0f by [govinda777](https://github.com/govinda777)  [\u2b06 voltar ao topo](#nation.fun)"},{"location":"erc4337-integration/","title":"Documenta\u00e7\u00e3o T\u00e9cnica: Integra\u00e7\u00e3o ERC-4337 com Privy e Ramp Network","text":"<p>Este documento detalha a arquitetura e a implementa\u00e7\u00e3o do fluxo de on-ramp e swap de tokens no projeto Nation.fun, utilizando o padr\u00e3o ERC-4337 para proporcionar uma experi\u00eancia de usu\u00e1rio simplificada e sem a necessidade de g\u00e1s (gasless).</p>"},{"location":"erc4337-integration/#arquitetura-geral","title":"Arquitetura Geral","text":"<p>A solu\u00e7\u00e3o implementada combina tr\u00eas tecnologias principais para criar um fluxo cont\u00ednuo, desde a compra de criptomoedas com moeda fiduci\u00e1ria (BRL) at\u00e9 a aquisi\u00e7\u00e3o do token nativo da plataforma (NATO).</p> <ol> <li> <p>Privy: Utilizado para a autentica\u00e7\u00e3o de usu\u00e1rios e a cria\u00e7\u00e3o de carteiras incorporadas (embedded wallets). A Privy abstrai a complexidade da cria\u00e7\u00e3o e gerenciamento de carteiras, permitindo que os usu\u00e1rios fa\u00e7am login com m\u00e9todos familiares, como e-mail ou redes sociais.</p> </li> <li> <p>Ramp Network: Escolhido como o parceiro de on-ramp. A Ramp permite que os usu\u00e1rios comprem criptomoedas (neste caso, USDC na rede Base) diretamente na aplica\u00e7\u00e3o, utilizando m\u00e9todos de pagamento locais, como o Pix.</p> </li> <li> <p>ZeroDev/Kernel (Paymaster): Embora a configura\u00e7\u00e3o do Paymaster n\u00e3o tenha sido implementada diretamente no c\u00f3digo, a arquitetura foi projetada para ser compat\u00edvel com um Paymaster ERC-4337, como o da ZeroDev. O objetivo \u00e9 patrocinar as transa\u00e7\u00f5es de swap, permitindo que os usu\u00e1rios convertam USDC para NATO sem a necessidade de possuir ETH para pagar pelo g\u00e1s.</p> </li> </ol>"},{"location":"erc4337-integration/#fluxo-da-transacao","title":"Fluxo da Transa\u00e7\u00e3o","text":"<p>O fluxo do usu\u00e1rio foi projetado para ser o mais simples poss\u00edvel:</p> <ol> <li>Login e Cria\u00e7\u00e3o da Carteira: O usu\u00e1rio cria uma conta na plataforma atrav\u00e9s do Privy, que automaticamente gera uma carteira incorporada na rede Base.</li> <li>On-Ramp (BRL \u2192 USDC): O usu\u00e1rio utiliza o widget da Ramp Network para comprar USDC na rede Base com Reais (BRL), via Pix. Os tokens USDC s\u00e3o depositados diretamente na carteira Privy do usu\u00e1rio.</li> <li>Swap (USDC \u2192 NATO): Com o saldo de USDC, o usu\u00e1rio pode realizar a troca (swap) para o token NATO. Esta opera\u00e7\u00e3o \u00e9 executada atrav\u00e9s de um contrato de roteador da Uniswap V2 na rede Base.</li> <li>Transa\u00e7\u00e3o Gasless (Patrocinada): A transa\u00e7\u00e3o de swap \u00e9 projetada para ser patrocinada por um Paymaster. O usu\u00e1rio apenas aprova a transa\u00e7\u00e3o, e o custo do g\u00e1s \u00e9 coberto pela plataforma.</li> </ol>"},{"location":"erc4337-integration/#implementacao-tecnica","title":"Implementa\u00e7\u00e3o T\u00e9cnica","text":""},{"location":"erc4337-integration/#componentes-e-servicos","title":"Componentes e Servi\u00e7os","text":"<ul> <li> <p><code>services/web3.js</code>: Este arquivo centraliza toda a l\u00f3gica de intera\u00e7\u00e3o com a blockchain. Ele cont\u00e9m:</p> <ul> <li>Os endere\u00e7os dos contratos do token NATO e do roteador da Uniswap V2.</li> <li>Os ABIs dos contratos.</li> <li>Fun\u00e7\u00f5es para obter o provedor (provider), instanciar os contratos e executar a l\u00f3gica de swap.</li> </ul> </li> <li> <p><code>components/OnRamp.js</code>: Um componente React que encapsula toda a interface e a l\u00f3gica do fluxo de on-ramp e swap. Ele \u00e9 respons\u00e1vel por:</p> <ul> <li>Exibir os saldos de USDC e NATO do usu\u00e1rio.</li> <li>Inicializar e exibir o widget da Ramp Network.</li> <li>Chamar a fun\u00e7\u00e3o de swap quando o usu\u00e1rio decide converter seus tokens.</li> </ul> </li> </ul>"},{"location":"erc4337-integration/#como-utilizar","title":"Como Utilizar","text":"<p>Para adicionar o fluxo de on-ramp em qualquer p\u00e1gina, basta importar e renderizar o componente <code>OnRamp</code>:</p> <pre><code>import OnRamp from '../components/OnRamp';\n\n// Em seu componente React\n&lt;OnRamp /&gt;\n</code></pre> <p>A l\u00f3gica de exibi\u00e7\u00e3o do widget e a execu\u00e7\u00e3o do swap j\u00e1 est\u00e3o encapsuladas dentro do componente, proporcionando uma integra\u00e7\u00e3o simples e r\u00e1pida.</p>"},{"location":"erc4337-integration/#configuracao-de-variaveis-de-ambiente","title":"Configura\u00e7\u00e3o de Vari\u00e1veis de Ambiente","text":"<p>Para que a integra\u00e7\u00e3o com a Ramp Network funcione, \u00e9 necess\u00e1rio configurar a seguinte vari\u00e1vel de ambiente em um arquivo <code>.env.local</code> na raiz do projeto:</p> <pre><code>NEXT_PUBLIC_RAMP_API_KEY=sua_chave_de_api_da_ramp\n</code></pre> <p>Substitua <code>sua_chave_de_api_da_ramp</code> pela chave de API fornecida pela Ramp Network.</p>"},{"location":"arquitetura/iac/","title":"Agente Nation como C\u00f3digo (IaC) com Next.js + GitHub Pages","text":""},{"location":"arquitetura/iac/#resumo-executivo","title":"\ud83c\udfaf Resumo Executivo","text":"<p>Voc\u00ea solicitou uma forma mais simples de configurar agentes Nation usando c\u00f3digo em vez de clicar em dashboards. Criei uma solu\u00e7\u00e3o Infrastructure as Code (IaC) baseada em:</p> <ul> <li>Next.js (editor visual web)</li> <li>GitHub Pages (hospedagem gratuita)</li> <li>YAML (configura\u00e7\u00e3o leg\u00edvel)</li> <li>JSON Schema (valida\u00e7\u00e3o autom\u00e1tica)</li> <li>GitHub Actions (CI/CD)</li> </ul>"},{"location":"arquitetura/iac/#resultado-tudo-e-codigo-versionado-em-git","title":"Resultado: Tudo \u00e9 c\u00f3digo versionado em Git","text":""},{"location":"arquitetura/iac/#arquivos-entregues","title":"\ud83d\udce6 Arquivos Entregues","text":"<p>nation-ecommerce-guide.pdf (23 p\u00e1ginas) - Guia completo de arquitetura - Vis\u00e3o geral de pagamentos x402 - Skills nativas da Nation - Exemplos pr\u00e1ticos</p> <p>nation-ecommerce-agent.zip (Aplicativo Interativo) - Demo visual do fluxo de compra - Simula pagamento x402 - Mostra hist\u00f3rico de pedidos</p> <p>code-examples.md - Exemplos prontos para implementa\u00e7\u00e3o - Backend Express.js com x402 - Cliente Next.js com Web3 - Smart contracts para auditoria</p> <p>iac-solution.md (Solu\u00e7\u00e3o IaC Completa) - Arquitetura detalhada - JSON Schema de valida\u00e7\u00e3o - Componentes React - GitHub Actions workflow - 10 vantagens da abordagem</p> <p>quickstart-iac.md (10 Passos R\u00e1pidos) - Setup inicial (30 min) - Cria\u00e7\u00e3o JSON Schema - Validador TypeScript - Componente Editor - CI/CD GitHub Actions</p> <p>iac-complete-guide.md (Guia Completo) - Comparativa antes vs depois - 3 n\u00edveis de uso (Dev/UI/CLI) - Data flow diagrama - Estrutura de pastas - Scripts npm</p>"},{"location":"arquitetura/iac/#como-funciona-a-solucao","title":"\ud83c\udfd7\ufe0f Como Funciona a Solu\u00e7\u00e3o","text":""},{"location":"arquitetura/iac/#1-arquivo-yaml-agente","title":"1\ufe0f\u20e3 Arquivo YAML = Agente","text":"<pre><code>agent:\n  name: ecommerce-bot\n  model: gpt-4\n  version: 1.0.0\n\nskills:\n  - name: catalog\n    endpoint: https://api.com/catalog\n  - name: payment\n    endpoint: https://api.com/payment\n\npayment:\n  network: base\n  token: usdc\n  agent_wallet: 0x...\n</code></pre>"},{"location":"arquitetura/iac/#2-validacao-automatica","title":"2\ufe0f\u20e3 Valida\u00e7\u00e3o Autom\u00e1tica","text":"<pre><code>YAML \u2192 Parse \u2192 Validate (JSON Schema) \u2192 TypeScript Types\n                                              \u2193\n                                    \u2713 V\u00e1lido / \u2717 Erros\n</code></pre>"},{"location":"arquitetura/iac/#3-github-actions-cicd","title":"3\ufe0f\u20e3 GitHub Actions CI/CD","text":"<pre><code>git push\n    \u2193\nGitHub Actions\n\u251c\u2500 Valida YAML\n\u251c\u2500 Verifica Schema\n\u251c\u2500 Executa testes\n\u2514\u2500 Deploy GitHub Pages\n    \u2193\nSite atualizado + Git versioning\n</code></pre>"},{"location":"arquitetura/iac/#4-editor-visual-no-navegador","title":"4\ufe0f\u20e3 Editor Visual no Navegador","text":"<pre><code>https://seu-username.github.io/seu-repositorio\n\u251c\u2500 Editor YAML side-by-side\n\u251c\u2500 Preview JSON em tempo real\n\u251c\u2500 Lista de todos os agentes\n\u2514\u2500 Valida\u00e7\u00e3o on-the-fly\n</code></pre>"},{"location":"arquitetura/iac/#tres-formas-de-usar","title":"\ud83c\udfa8 Tr\u00eas Formas de Usar","text":"Tipo de Usu\u00e1rio Como Usa Resultado Engenheiro DevOps <code>vim configs/agent.yaml</code> + <code>npm run validate:configs</code> + <code>git push</code> Agente validado e deployado Gerente de Produto Abre site web \u2192 Preenche formul\u00e1rio \u2192 Submit PR Agente pronto para review SRE/Automa\u00e7\u00e3o <code>npm run deploy:agent my-agent</code> Deploy direto via CLI"},{"location":"arquitetura/iac/#vantagens-vs-solucao-manual","title":"\u2705 Vantagens vs Solu\u00e7\u00e3o Manual","text":"Aspecto Manual Dashboard IaC (Nossa Solu\u00e7\u00e3o) Versionamento \u274c N\u00e3o \u2705 Git history completo Collabora\u00e7\u00e3o \u274c N\u00e3o \u2705 PRs com code review Valida\u00e7\u00e3o \u274c Ap\u00f3s salvar \u2705 Antes de fazer push Reproducibilidade \u274c Dif\u00edcil \u2705 Mesma config em qualquer lugar Auditoria \u26a0\ufe0f Limitada \u2705 <code>git log</code> completo Rollback \u274c Manual \u2705 <code>git revert</code> autom\u00e1tico Documenta\u00e7\u00e3o \u274c Separada \u2705 YAML \u00e9 auto-doc CI/CD \u274c N\u00e3o \u2705 GitHub Actions Hosting \ud83d\udcb0 Pago \u2705 GitHub Pages (gr\u00e1tis) Offline \u274c N\u00e3o \u2705 Validar offline"},{"location":"arquitetura/iac/#implementacao-rapida-esta-semana","title":"\ud83d\ude80 Implementa\u00e7\u00e3o R\u00e1pida (Esta Semana)","text":""},{"location":"arquitetura/iac/#dia-1-2-setup-base-2-3-horas","title":"Dia 1-2: Setup Base (2-3 horas)","text":"<pre><code># 1. Criar estrutura\nmkdir -p src/{components,lib,pages/api,types} public/configs\n\n# 2. Setup Next.js\nnpx create-next-app@latest . --typescript\n\n# 3. Instalar deps\nnpm install js-yaml ajv\n</code></pre>"},{"location":"arquitetura/iac/#dia-3-validador-2-horas","title":"Dia 3: Validador (2 horas)","text":"<ul> <li>Criar <code>agent.schema.json</code></li> <li>Criar <code>src/lib/agent-validator.ts</code></li> <li>Testar valida\u00e7\u00e3o local</li> </ul>"},{"location":"arquitetura/iac/#dia-4-editor-web-3-horas","title":"Dia 4: Editor Web (3 horas)","text":"<ul> <li>Criar <code>src/components/AgentEditor.tsx</code></li> <li>Criar <code>src/pages/editor.tsx</code></li> <li>Testar no navegador local</li> </ul>"},{"location":"arquitetura/iac/#dia-5-cicd-2-horas","title":"Dia 5: CI/CD (2 horas)","text":"<ul> <li>Criar <code>.github/workflows/deploy.yml</code></li> <li>Push para main</li> <li>GitHub Actions executa automaticamente</li> </ul>"},{"location":"arquitetura/iac/#resultado-site-ativo-em-github-pages-em-1-2-dias-uteis","title":"Resultado: Site ativo em GitHub Pages em 1-2 dias \u00fateis","text":""},{"location":"arquitetura/iac/#pre-requisitos","title":"\ud83d\udccb Pr\u00e9-requisitos","text":"<p>\u2705 Node.js 20+ \u2705 Git + GitHub \u2705 GitHub Pages habilitado no reposit\u00f3rio \u2705 Conhecimento b\u00e1sico TypeScript/React (opcional, templates fornecidos)</p>"},{"location":"arquitetura/iac/#o-que-voce-recebe","title":"\ud83c\udf81 O Que Voc\u00ea Recebe","text":""},{"location":"arquitetura/iac/#documentacao-83-paginas","title":"\ud83d\udcc4 Documenta\u00e7\u00e3o (83 p\u00e1ginas)","text":"<ul> <li>Setup completo passo a passo</li> <li>Arquitetura explicada</li> <li>Exemplos de c\u00f3digo prontos</li> </ul>"},{"location":"arquitetura/iac/#templates-de-codigo","title":"\ud83d\udcbe Templates de C\u00f3digo","text":"<ul> <li>JSON Schema pronto para usar</li> <li>Componentes React React</li> <li>Scripts Node.js</li> <li>GitHub Actions workflow</li> <li>Testes unit\u00e1rios</li> </ul>"},{"location":"arquitetura/iac/#ferramentas","title":"\ud83d\udd27 Ferramentas","text":"<ul> <li>Validador YAML/JSON</li> <li>CLI de valida\u00e7\u00e3o</li> <li>Editor visual interativo</li> <li>Deploy script</li> </ul>"},{"location":"arquitetura/iac/#exemplos","title":"\ud83d\udcca Exemplos","text":"<ul> <li>E-commerce agent completo</li> <li>Trading agent</li> <li>Support agent</li> <li>Fixtures para testes</li> </ul>"},{"location":"arquitetura/iac/#beneficios-principais","title":"\ud83c\udf1f Benef\u00edcios Principais","text":"<ol> <li>Single Source of Truth: Tudo em Git, uma verdade absoluta</li> <li>Colabora\u00e7\u00e3o Segura: PRs com valida\u00e7\u00e3o autom\u00e1tica</li> <li>Zero Custo de Hosting: GitHub Pages gratuito</li> <li>Auditoria Completa: Quem mudou o qu\u00ea e quando</li> <li>Reproducibilidade: <code>git clone</code> e tudo funciona igual</li> <li>Escalabilidade: Gerenciar 1 ou 100 agentes da mesma forma</li> <li>Documenta\u00e7\u00e3o Autom\u00e1tica: YAML \u00e9 self-documenting</li> <li>Offline-First: Validar sem internet</li> </ol>"},{"location":"arquitetura/iac/#suporte-proximos-passos","title":"\ud83d\udcde Suporte Pr\u00f3ximos Passos","text":"<ol> <li>Clone reposit\u00f3rio template (quando preparado)</li> <li>Follow quickstart.md (passo a passo visual)</li> <li>Deploy primeiro agente (teste ponta a ponta)</li> <li>Compartilhe feedback (iterate e melhore)</li> </ol>"},{"location":"arquitetura/iac/#conclusao","title":"\ud83c\udfaf Conclus\u00e3o","text":"<p>Voc\u00ea agora tem uma solu\u00e7\u00e3o enterprise-grade para gerenciar agentes Nation usando Infrastructure as Code, totalmente versionada em Git e deployada no GitHub Pages.</p> <p>Nenhuma configura\u00e7\u00e3o manual no dashboard. Tudo \u00e9 c\u00f3digo.</p> <p>Pr\u00f3ximo passo: Implementar a estrutura base do reposit\u00f3rio com os templates fornecidos!</p> <p>Fontes [1] Using YAML Files To Define Tasks And Parameters For AI ... https://empathyfirstmedia.com/yaml-files-ai-agents/ [2] AI-Enhanced Infrastructure as Code (IaC) for Smart ... https://papers.ssrn.com/sol3/papers.cfm?abstract_id=5202062 [3] Equipping agents for the real world with Agent Skills https://www.anthropic.com/engineering/equipping-agents-for-the-real-world-with-agent-skills [4] Automating Jenkins with Configuration as Code (JCasC) https://buildkite.com/resources/blog/automating-jenkins-with-jcasc-configuration-as-code/ [5] How Can Agentic AI Revolutionize Infrastructure as Code ... https://www.getmonetizely.com/articles/how-can-agentic-ai-revolutionize-infrastructure-as-code-and-deployment-automation [6] Deep Dive on Agents Infrastructure https://www.dtcp.capital/fileadmin/DTCP/Bilder/News/202507_DTCP_Agent_Infrastructure_Preview_v1.pdf [7] Custom agents configuration - GitHub Enterprise Cloud Docs https://docs.github.com/en/enterprise-cloud@latest/copilot/reference/custom-agents-configuration [8] Configuration Management with Infrastructure as Code (IaC) https://www.linkedin.com/pulse/configuration-management-infrastructure-code-iac-ashvit--wnlsc [9] What are AI agents? https://github.com/resources/articles/what-are-ai-agents [10] Jenkins Configuration as Code https://www.jenkins.io/projects/jcasc/ [11] Deploy a Next.js Static Site to GitHub Pages - superflux https://superflux.dev/blog/github-pages-using-nextjs [12] sylvainlaurent/yaml-json-validator-maven-plugin https://github.com/sylvainlaurent/yaml-json-validator-maven-plugin [13] 12 CLI Tools That Are Redefining Developer Workflows https://www.qodo.ai/blog/best-cli-tools/ [14] Deploy Next.js on GitHub Pages - ragTech https://ragtech.hashnode.dev/ragtech-website-deploying-a-nextjs-app-on-github-pages-with-our-custom-domain [15] dsanders11/json-schema-validate-action https://github.com/dsanders11/json-schema-validate-action [16] google-gemini/gemini-cli: An open-source AI agent ... https://github.com/google-gemini/gemini-cli [17] Deploy a Next.js App to GitHub Pages https://www.youtube.com/watch?v=mJuz45RXeXY [18] YAML/JSON validation against JSON Schema \u00b7 Actions https://github.com/marketplace/actions/yaml-json-validation-against-json-schema [19] Gemini CLI: your open-source AI agent https://blog.google/technology/developers/introducing-gemini-cli-open-source-ai-agent/ [20] Next.js template to deploy to GitHub Pages as a static site. https://github.com/nextjs/deploy-github-pages</p>"},{"location":"arquitetura/iac/#solucao-agente-nation-como-codigo-iac-com-nextjs-github-pages","title":"Solu\u00e7\u00e3o: Agente Nation como C\u00f3digo (IaC) com Next.js + GitHub Pages","text":""},{"location":"arquitetura/iac/#1-arquitetura-proposta","title":"1. Arquitetura Proposta","text":"<pre><code>seu-repositorio/\n\u251c\u2500\u2500 .github/\n\u2502   \u2514\u2500\u2500 workflows/\n\u2502       \u2514\u2500\u2500 deploy.yml                 # CI/CD para GitHub Pages\n\u251c\u2500\u2500 public/\n\u2502   \u2514\u2500\u2500 configs/                       # Arquivos de configura\u00e7\u00e3o p\u00fablico\n\u2502       \u251c\u2500\u2500 agent.schema.json          # JSON Schema para valida\u00e7\u00e3o\n\u2502       \u2514\u2500\u2500 examples/\n\u2502           \u2514\u2500\u2500 ecommerce-agent.yaml   # Exemplo de configura\u00e7\u00e3o\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 components/\n\u2502   \u2502   \u251c\u2500\u2500 AgentEditor.tsx            # Editor visual de config\n\u2502   \u2502   \u251c\u2500\u2500 AgentPreview.tsx           # Preview da config\n\u2502   \u2502   \u2514\u2500\u2500 SkillsManager.tsx          # Gerenciador de skills\n\u2502   \u251c\u2500\u2500 lib/\n\u2502   \u2502   \u251c\u2500\u2500 agent-validator.ts         # Valida\u00e7\u00e3o YAML/JSON\n\u2502   \u2502   \u251c\u2500\u2500 agent-parser.ts            # Parser de configura\u00e7\u00e3o\n\u2502   \u2502   \u2514\u2500\u2500 schema.json                # Schema interno\n\u2502   \u251c\u2500\u2500 pages/\n\u2502   \u2502   \u251c\u2500\u2500 index.tsx                  # Homepage\n\u2502   \u2502   \u251c\u2500\u2500 editor.tsx                 # Editor de agente\n\u2502   \u2502   \u2514\u2500\u2500 api/\n\u2502   \u2502       \u2514\u2500\u2500 validate.ts            # API de valida\u00e7\u00e3o\n\u2502   \u2514\u2500\u2500 types/\n\u2502       \u2514\u2500\u2500 agent.ts                   # TypeScript types\n\u251c\u2500\u2500 configs/                           # Configura\u00e7\u00f5es de exemplo\n\u2502   \u251c\u2500\u2500 ecommerce-agent.yaml\n\u2502   \u251c\u2500\u2500 trading-agent.yaml\n\u2502   \u2514\u2500\u2500 support-agent.yaml\n\u251c\u2500\u2500 tests/\n\u2502   \u251c\u2500\u2500 agent.validator.test.ts\n\u2502   \u2514\u2500\u2500 fixtures/\n\u2502       \u2514\u2500\u2500 valid-agent.yaml\n\u251c\u2500\u2500 scripts/\n\u2502   \u251c\u2500\u2500 validate-configs.ts            # Script de valida\u00e7\u00e3o CLI\n\u2502   \u2514\u2500\u2500 deploy-agent.ts                # Script de deploy\n\u251c\u2500\u2500 next.config.mjs\n\u251c\u2500\u2500 tsconfig.json\n\u251c\u2500\u2500 package.json\n\u2514\u2500\u2500 README.md\n</code></pre>"},{"location":"arquitetura/iac/#2-estrutura-de-configuracao-yaml-iac","title":"2. Estrutura de Configura\u00e7\u00e3o YAML (IaC)","text":""},{"location":"arquitetura/iac/#arquivo-publicconfigsagentschemajson","title":"Arquivo: <code>public/configs/agent.schema.json</code>","text":"<pre><code>{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"title\": \"Nation Agent Configuration Schema\",\n  \"type\": \"object\",\n  \"required\": [\"agent\", \"skills\", \"payment\"],\n  \"properties\": {\n    \"agent\": {\n      \"type\": \"object\",\n      \"required\": [\"name\", \"description\", \"version\"],\n      \"properties\": {\n        \"name\": {\n          \"type\": \"string\",\n          \"minLength\": 3,\n          \"maxLength\": 50,\n          \"pattern\": \"^[a-zA-Z0-9-]+$\",\n          \"description\": \"Agent name (alphanumeric and hyphens only)\"\n        },\n        \"description\": {\n          \"type\": \"string\",\n          \"minLength\": 10,\n          \"maxLength\": 500\n        },\n        \"version\": {\n          \"type\": \"string\",\n          \"pattern\": \"^\\\\d+\\\\.\\\\d+\\\\.\\\\d+$\",\n          \"description\": \"Semantic versioning (e.g., 1.0.0)\"\n        },\n        \"model\": {\n          \"type\": \"object\",\n          \"required\": [\"provider\", \"name\"],\n          \"properties\": {\n            \"provider\": {\n              \"type\": \"string\",\n              \"enum\": [\"openai\", \"claude\", \"gemini\"]\n            },\n            \"name\": {\n              \"type\": \"string\"\n            },\n            \"temperature\": {\n              \"type\": \"number\",\n              \"minimum\": 0,\n              \"maximum\": 2\n            },\n            \"max_tokens\": {\n              \"type\": \"integer\",\n              \"minimum\": 100,\n              \"maximum\": 128000\n            }\n          }\n        },\n        \"system_prompt\": {\n          \"type\": \"string\",\n          \"minLength\": 50,\n          \"description\": \"Core system instruction for the agent\"\n        }\n      }\n    },\n    \"skills\": {\n      \"type\": \"array\",\n      \"minItems\": 1,\n      \"items\": {\n        \"type\": \"object\",\n        \"required\": [\"name\", \"type\", \"endpoint\"],\n        \"properties\": {\n          \"name\": {\n            \"type\": \"string\",\n            \"enum\": [\"catalog\", \"order\", \"payment\", \"audit\", \"custom\"]\n          },\n          \"type\": {\n            \"type\": \"string\",\n            \"enum\": [\n              \"data_retrieval\",\n              \"state_management\",\n              \"blockchain_interaction\",\n              \"logging\"\n            ]\n          },\n          \"endpoint\": {\n            \"type\": \"string\",\n            \"format\": \"uri\"\n          },\n          \"method\": {\n            \"type\": \"string\",\n            \"enum\": [\"GET\", \"POST\", \"PUT\", \"DELETE\"],\n            \"default\": \"GET\"\n          },\n          \"parameters\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"object\",\n              \"required\": [\"name\", \"type\"],\n              \"properties\": {\n                \"name\": { \"type\": \"string\" },\n                \"type\": { \"type\": \"string\" },\n                \"required\": { \"type\": \"boolean\" },\n                \"description\": { \"type\": \"string\" }\n              }\n            }\n          },\n          \"timeout_seconds\": {\n            \"type\": \"integer\",\n            \"minimum\": 5,\n            \"maximum\": 300\n          },\n          \"retry_policy\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"max_attempts\": { \"type\": \"integer\" },\n              \"backoff_multiplier\": { \"type\": \"number\" }\n            }\n          }\n        }\n      }\n    },\n    \"payment\": {\n      \"type\": \"object\",\n      \"required\": [\"network\", \"token\"],\n      \"properties\": {\n        \"network\": {\n          \"type\": \"string\",\n          \"enum\": [\"base\", \"base-sepolia\", \"solana\", \"solana-devnet\"]\n        },\n        \"token\": {\n          \"type\": \"string\",\n          \"enum\": [\"usdc\", \"eurc\", \"spl-token\"]\n        },\n        \"facilitator\": {\n          \"type\": \"string\",\n          \"enum\": [\"cdp\", \"circle\", \"payai\"]\n        },\n        \"agent_wallet_address\": {\n          \"type\": \"string\",\n          \"pattern\": \"^0x[a-fA-F0-9]{40}$\"\n        },\n        \"min_payment_usdc\": {\n          \"type\": \"number\",\n          \"minimum\": 0.0001\n        },\n        \"payment_timeout_seconds\": {\n          \"type\": \"integer\",\n          \"minimum\": 30,\n          \"maximum\": 600\n        }\n      }\n    },\n    \"storage\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"type\": {\n          \"type\": \"string\",\n          \"enum\": [\"memory\", \"postgres\", \"mongodb\"]\n        },\n        \"connection_string\": {\n          \"type\": \"string\"\n        },\n        \"backup_enabled\": {\n          \"type\": \"boolean\"\n        }\n      }\n    },\n    \"security\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"encryption_enabled\": {\n          \"type\": \"boolean\",\n          \"default\": true\n        },\n        \"api_key_required\": {\n          \"type\": \"boolean\",\n          \"default\": true\n        },\n        \"rate_limit_requests_per_minute\": {\n          \"type\": \"integer\",\n          \"minimum\": 1\n        },\n        \"allowed_origins\": {\n          \"type\": \"array\",\n          \"items\": { \"type\": \"string\" }\n        }\n      }\n    },\n    \"monitoring\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"enabled\": {\n          \"type\": \"boolean\"\n        },\n        \"log_level\": {\n          \"type\": \"string\",\n          \"enum\": [\"debug\", \"info\", \"warn\", \"error\"]\n        },\n        \"sentry_dsn\": {\n          \"type\": \"string\",\n          \"format\": \"uri\"\n        }\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"arquitetura/iac/#arquivo-configsecommerce-agentyaml","title":"Arquivo: <code>configs/ecommerce-agent.yaml</code>","text":"<pre><code># Agent Configuration as Code (IaC)\n# Version: 1.0.0\n# Purpose: E-Commerce Agent with USDC Payment Processing via x402\n\nagent:\n  name: ecommerce-bot\n  description: \"Autonomous e-commerce agent with USDC payment processing\"\n  version: \"1.0.0\"\n\n  model:\n    provider: openai\n    name: gpt-4-turbo\n    temperature: 0.7\n    max_tokens: 2000\n\n  system_prompt: |\n    You are an autonomous e-commerce assistant. Your responsibilities:\n    1. Help customers browse products in the catalog\n    2. Process orders and confirm details\n    3. Handle USDC payments via x402\n    4. Provide order tracking and support\n    5. Maintain transaction records for auditability\n\n    Always be professional, accurate with prices, and verify stock before confirming orders.\n\nskills:\n  # Skill 1: Product Catalog\n  - name: catalog\n    type: data_retrieval\n    endpoint: \"https://api.ecommerce-agent.example.com/api/catalog\"\n    method: GET\n    description: \"Browse and search product catalog\"\n    parameters:\n      - name: category\n        type: string\n        required: false\n        description: \"Product category (electronics, accessories, etc)\"\n      - name: search\n        type: string\n        required: false\n        description: \"Search by product name\"\n      - name: limit\n        type: integer\n        required: false\n        description: \"Number of results (default: 20)\"\n    timeout_seconds: 10\n    cache_seconds: 300\n    retry_policy:\n      max_attempts: 3\n      backoff_multiplier: 2\n\n  # Skill 2: Order Processing\n  - name: order\n    type: state_management\n    endpoint: \"https://api.ecommerce-agent.example.com/api/orders\"\n    method: POST\n    description: \"Create and manage customer orders\"\n    parameters:\n      - name: items\n        type: array\n        required: true\n        description: \"List of products {product_id, quantity}\"\n      - name: delivery_address\n        type: string\n        required: true\n        description: \"Shipping address\"\n      - name: customer_wallet\n        type: string\n        required: true\n        description: \"Customer's USDC wallet address\"\n    timeout_seconds: 30\n    retry_policy:\n      max_attempts: 2\n\n  # Skill 3: Payment Processing (x402)\n  - name: payment\n    type: blockchain_interaction\n    endpoint: \"https://api.ecommerce-agent.example.com/api/payment/process\"\n    method: POST\n    description: \"Process USDC payments via x402\"\n    parameters:\n      - name: order_id\n        type: string\n        required: true\n      - name: amount_usdc\n        type: number\n        required: true\n      - name: payment_signature\n        type: string\n        required: true\n        description: \"USDC transfer authorization signature\"\n    timeout_seconds: 60\n    retry_policy:\n      max_attempts: 3\n      backoff_multiplier: 2\n\n  # Skill 4: Audit &amp; Logging\n  - name: audit\n    type: logging\n    endpoint: \"https://api.ecommerce-agent.example.com/api/audit\"\n    method: POST\n    description: \"Record transactions on-chain for auditability\"\n    parameters:\n      - name: event_type\n        type: string\n        required: true\n        enum: [\"order_created\", \"payment_received\", \"order_completed\"]\n      - name: order_id\n        type: string\n        required: true\n      - name: details\n        type: object\n        required: false\n    timeout_seconds: 20\n\npayment:\n  network: base\n  token: usdc\n  facilitator: cdp\n  agent_wallet_address: \"0x7a2Ce34542b34a08bE1aC92F58F5F8E4C9D3B4A2\"\n  min_payment_usdc: 0.01\n  payment_timeout_seconds: 300\n\nstorage:\n  type: postgres\n  connection_string: \"${DB_CONNECTION_STRING}\"\n  backup_enabled: true\n\nsecurity:\n  encryption_enabled: true\n  api_key_required: true\n  rate_limit_requests_per_minute: 60\n  allowed_origins:\n    - \"https://ecommerce.example.com\"\n    - \"https://nation.fun\"\n\nmonitoring:\n  enabled: true\n  log_level: info\n  sentry_dsn: \"${SENTRY_DSN}\"\n</code></pre>"},{"location":"arquitetura/iac/#3-typescript-types-e-validador","title":"3. TypeScript Types e Validador","text":""},{"location":"arquitetura/iac/#arquivo-srctypesagentts","title":"Arquivo: <code>src/types/agent.ts</code>","text":"<pre><code>export interface AgentConfig {\n  agent: AgentInfo;\n  skills: Skill[];\n  payment: PaymentConfig;\n  storage?: StorageConfig;\n  security?: SecurityConfig;\n  monitoring?: MonitoringConfig;\n}\n\nexport interface AgentInfo {\n  name: string;\n  description: string;\n  version: string;\n  model: ModelConfig;\n  system_prompt: string;\n}\n\nexport interface ModelConfig {\n  provider: \"openai\" | \"claude\" | \"gemini\";\n  name: string;\n  temperature: number;\n  max_tokens: number;\n}\n\nexport interface Skill {\n  name: \"catalog\" | \"order\" | \"payment\" | \"audit\" | \"custom\";\n  type: \"data_retrieval\" | \"state_management\" | \"blockchain_interaction\" | \"logging\";\n  endpoint: string;\n  method: \"GET\" | \"POST\" | \"PUT\" | \"DELETE\";\n  description: string;\n  parameters: SkillParameter[];\n  timeout_seconds: number;\n  cache_seconds?: number;\n  retry_policy?: RetryPolicy;\n}\n\nexport interface SkillParameter {\n  name: string;\n  type: string;\n  required: boolean;\n  description?: string;\n  enum?: string[];\n}\n\nexport interface RetryPolicy {\n  max_attempts: number;\n  backoff_multiplier: number;\n}\n\nexport interface PaymentConfig {\n  network: \"base\" | \"base-sepolia\" | \"solana\" | \"solana-devnet\";\n  token: \"usdc\" | \"eurc\" | \"spl-token\";\n  facilitator: \"cdp\" | \"circle\" | \"payai\";\n  agent_wallet_address: string;\n  min_payment_usdc: number;\n  payment_timeout_seconds: number;\n}\n\nexport interface StorageConfig {\n  type: \"memory\" | \"postgres\" | \"mongodb\";\n  connection_string?: string;\n  backup_enabled?: boolean;\n}\n\nexport interface SecurityConfig {\n  encryption_enabled: boolean;\n  api_key_required: boolean;\n  rate_limit_requests_per_minute: number;\n  allowed_origins: string[];\n}\n\nexport interface MonitoringConfig {\n  enabled: boolean;\n  log_level: \"debug\" | \"info\" | \"warn\" | \"error\";\n  sentry_dsn?: string;\n}\n</code></pre>"},{"location":"arquitetura/iac/#arquivo-srclibagent-validatorts","title":"Arquivo: <code>src/lib/agent-validator.ts</code>","text":"<pre><code>import Ajv, { JSONSchemaType } from \"ajv\";\nimport YAML from \"js-yaml\";\nimport { AgentConfig } from \"@/types/agent\";\n\nconst ajv = new Ajv({\n  allErrors: true,\n  verbose: true,\n});\n\nexport class AgentValidator {\n  private schema: any;\n\n  constructor(schemaPath: string = \"/configs/agent.schema.json\") {\n    // Load schema in runtime\n  }\n\n  /**\n   * Validate YAML configuration against JSON Schema\n   */\n  validateYAML(yamlContent: string): {\n    valid: boolean;\n    errors: any[];\n    config?: AgentConfig;\n  } {\n    try {\n      // Parse YAML\n      const config = YAML.load(yamlContent) as AgentConfig;\n\n      // Validate against schema\n      const validate = ajv.compile(this.schema);\n      const valid = validate(config);\n\n      if (!valid) {\n        return {\n          valid: false,\n          errors: validate.errors || [],\n        };\n      }\n\n      // Additional custom validations\n      const customErrors = this.validateCustomRules(config);\n      if (customErrors.length &gt; 0) {\n        return {\n          valid: false,\n          errors: customErrors,\n        };\n      }\n\n      return {\n        valid: true,\n        errors: [],\n        config,\n      };\n    } catch (error) {\n      return {\n        valid: false,\n        errors: [\n          {\n            message: error instanceof Error ? error.message : \"Unknown error\",\n          },\n        ],\n      };\n    }\n  }\n\n  /**\n   * Custom validation rules\n   */\n  private validateCustomRules(config: AgentConfig): any[] {\n    const errors: any[] = [];\n\n    // Validate that at least one skill is defined\n    if (!config.skills || config.skills.length === 0) {\n      errors.push({\n        path: \"skills\",\n        message: \"At least one skill must be defined\",\n      });\n    }\n\n    // Validate skill endpoints\n    config.skills?.forEach((skill, index) =&gt; {\n      try {\n        new URL(skill.endpoint);\n      } catch {\n        errors.push({\n          path: `skills[${index}].endpoint`,\n          message: `Invalid URL: ${skill.endpoint}`,\n        });\n      }\n    });\n\n    // Validate wallet address format\n    if (!config.payment.agent_wallet_address.match(/^0x[a-fA-F0-9]{40}$/)) {\n      errors.push({\n        path: \"payment.agent_wallet_address\",\n        message: \"Invalid Ethereum wallet address\",\n      });\n    }\n\n    // Validate semantic versioning\n    if (!config.agent.version.match(/^\\d+\\.\\d+\\.\\d+$/)) {\n      errors.push({\n        path: \"agent.version\",\n        message: \"Version must follow semantic versioning (e.g., 1.0.0)\",\n      });\n    }\n\n    return errors;\n  }\n\n  /**\n   * Export configuration to JSON\n   */\n  exportJSON(config: AgentConfig): string {\n    return JSON.stringify(config, null, 2);\n  }\n\n  /**\n   * Export configuration to YAML\n   */\n  exportYAML(config: AgentConfig): string {\n    return YAML.dump(config, { indent: 2 });\n  }\n}\n</code></pre>"},{"location":"arquitetura/iac/#4-componente-react-para-editor-visual","title":"4. Componente React para Editor Visual","text":""},{"location":"arquitetura/iac/#arquivo-srccomponentsagenteditortsx","title":"Arquivo: <code>src/components/AgentEditor.tsx</code>","text":"<pre><code>\"use client\";\n\nimport React, { useState } from \"react\";\nimport { AgentConfig } from \"@/types/agent\";\nimport { AgentValidator } from \"@/lib/agent-validator\";\nimport YAML from \"js-yaml\";\n\nexport default function AgentEditor() {\n  const [yamlContent, setYamlContent] = useState&lt;string&gt;(\"\");\n  const [validationResult, setValidationResult] = useState&lt;any&gt;(null);\n  const [activeTab, setActiveTab] = useState&lt;\"editor\" | \"preview\"&gt;(\"editor\");\n\n  const validator = new AgentValidator();\n\n  const handleValidate = () =&gt; {\n    const result = validator.validateYAML(yamlContent);\n    setValidationResult(result);\n  };\n\n  const handleLoadExample = async () =&gt; {\n    try {\n      const response = await fetch(\"/configs/ecommerce-agent.yaml\");\n      const text = await response.text();\n      setYamlContent(text);\n    } catch (error) {\n      alert(\"Failed to load example configuration\");\n    }\n  };\n\n  const handleExport = (format: \"yaml\" | \"json\") =&gt; {\n    if (!validationResult?.valid) {\n      alert(\"Please fix validation errors first\");\n      return;\n    }\n\n    let content: string;\n    let filename: string;\n\n    if (format === \"yaml\") {\n      content = validator.exportYAML(validationResult.config);\n      filename = \"agent-config.yaml\";\n    } else {\n      content = validator.exportJSON(validationResult.config);\n      filename = \"agent-config.json\";\n    }\n\n    // Download file\n    const blob = new Blob([content], { type: \"text/plain\" });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = filename;\n    a.click();\n  };\n\n  return (\n    &lt;div className=\"agent-editor\"&gt;\n      &lt;div className=\"editor-header\"&gt;\n        &lt;h1&gt;\ud83e\udd16 Nation Agent Configuration Editor&lt;/h1&gt;\n        &lt;div className=\"header-buttons\"&gt;\n          &lt;button onClick={handleLoadExample} className=\"btn-secondary\"&gt;\n            \ud83d\udccb Load Example\n          &lt;/button&gt;\n          &lt;button onClick={handleValidate} className=\"btn-primary\"&gt;\n            \u2713 Validate\n          &lt;/button&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n\n      &lt;div className=\"editor-tabs\"&gt;\n        &lt;button\n          className={`tab ${activeTab === \"editor\" ? \"active\" : \"\"}`}\n          onClick={() =&gt; setActiveTab(\"editor\")}\n        &gt;\n          Code Editor\n        &lt;/button&gt;\n        &lt;button\n          className={`tab ${activeTab === \"preview\" ? \"active\" : \"\"}`}\n          onClick={() =&gt; setActiveTab(\"preview\")}\n        &gt;\n          Preview\n        &lt;/button&gt;\n      &lt;/div&gt;\n\n      &lt;div className=\"editor-container\"&gt;\n        {activeTab === \"editor\" ? (\n          &lt;textarea\n            className=\"yaml-editor\"\n            value={yamlContent}\n            onChange={(e) =&gt; setYamlContent(e.target.value)}\n            placeholder=\"Paste your YAML configuration here...\"\n          /&gt;\n        ) : (\n          &lt;div className=\"preview-pane\"&gt;\n            {validationResult?.valid ? (\n              &lt;div className=\"preview-content\"&gt;\n                &lt;div className=\"success-banner\"&gt;\n                  \u2713 Configuration is valid!\n                &lt;/div&gt;\n                &lt;pre&gt;\n                  {JSON.stringify(validationResult?.config, null, 2)}\n                &lt;/pre&gt;\n              &lt;/div&gt;\n            ) : (\n              &lt;div className=\"preview-message\"&gt;\n                Validate your configuration to see the preview\n              &lt;/div&gt;\n            )}\n          &lt;/div&gt;\n        )}\n      &lt;/div&gt;\n\n      {validationResult &amp;&amp; (\n        &lt;div className=\"validation-results\"&gt;\n          {validationResult.valid ? (\n            &lt;div className=\"success\"&gt;\n              &lt;h3&gt;\u2713 Validation Passed!&lt;/h3&gt;\n              &lt;div className=\"export-buttons\"&gt;\n                &lt;button\n                  onClick={() =&gt; handleExport(\"yaml\")}\n                  className=\"btn-secondary\"\n                &gt;\n                  \ud83d\udce5 Export as YAML\n                &lt;/button&gt;\n                &lt;button\n                  onClick={() =&gt; handleExport(\"json\")}\n                  className=\"btn-secondary\"\n                &gt;\n                  \ud83d\udce5 Export as JSON\n                &lt;/button&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n          ) : (\n            &lt;div className=\"errors\"&gt;\n              &lt;h3&gt;\u2717 Validation Errors ({validationResult.errors.length})&lt;/h3&gt;\n              &lt;ul&gt;\n                {validationResult.errors.map((error: any, idx: number) =&gt; (\n                  &lt;li key={idx}&gt;\n                    &lt;strong&gt;{error.path || \"root\"}:&lt;/strong&gt; {error.message}\n                  &lt;/li&gt;\n                ))}\n              &lt;/ul&gt;\n            &lt;/div&gt;\n          )}\n        &lt;/div&gt;\n      )}\n\n      &lt;style jsx&gt;{`\n        .agent-editor {\n          max-width: 1200px;\n          margin: 0 auto;\n          padding: 20px;\n        }\n\n        .editor-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 20px;\n          padding: 20px;\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n          border-radius: 8px;\n          color: white;\n        }\n\n        .header-buttons {\n          display: flex;\n          gap: 10px;\n        }\n\n        .editor-tabs {\n          display: flex;\n          border-bottom: 2px solid #e0e0e0;\n          margin-bottom: 20px;\n        }\n\n        .tab {\n          padding: 10px 20px;\n          background: none;\n          border: none;\n          cursor: pointer;\n          border-bottom: 3px solid transparent;\n          font-weight: 500;\n          transition: all 0.3s;\n        }\n\n        .tab.active {\n          border-bottom-color: #667eea;\n          color: #667eea;\n        }\n\n        .editor-container {\n          background: #f5f5f5;\n          border: 1px solid #ddd;\n          border-radius: 8px;\n          height: 500px;\n          margin-bottom: 20px;\n        }\n\n        .yaml-editor {\n          width: 100%;\n          height: 100%;\n          font-family: \"Courier New\", monospace;\n          padding: 15px;\n          border: none;\n          border-radius: 8px;\n          resize: none;\n        }\n\n        .validation-results {\n          background: white;\n          border-radius: 8px;\n          padding: 20px;\n          margin-top: 20px;\n        }\n\n        .success {\n          background: #d4edda;\n          border: 1px solid #c3e6cb;\n          color: #155724;\n          padding: 15px;\n          border-radius: 8px;\n        }\n\n        .errors {\n          background: #f8d7da;\n          border: 1px solid #f5c6cb;\n          color: #721c24;\n          padding: 15px;\n          border-radius: 8px;\n        }\n\n        .btn-primary,\n        .btn-secondary {\n          padding: 10px 20px;\n          border: none;\n          border-radius: 6px;\n          cursor: pointer;\n          font-weight: 600;\n          transition: all 0.3s;\n        }\n\n        .btn-primary {\n          background: white;\n          color: #667eea;\n        }\n\n        .btn-secondary {\n          background: #667eea;\n          color: white;\n        }\n      `}&lt;/style&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>"},{"location":"arquitetura/iac/#5-script-cli-para-validacao","title":"5. Script CLI para Valida\u00e7\u00e3o","text":""},{"location":"arquitetura/iac/#arquivo-scriptsvalidate-configsts","title":"Arquivo: <code>scripts/validate-configs.ts</code>","text":"<pre><code>#!/usr/bin/env node\n\nimport fs from \"fs\";\nimport path from \"path\";\nimport YAML from \"js-yaml\";\nimport Ajv from \"ajv\";\n\nconst ajv = new Ajv();\n\nasync function validateConfigs() {\n  const configDir = path.join(__dirname, \"../configs\");\n  const schemaPath = path.join(__dirname, \"../public/configs/agent.schema.json\");\n\n  // Load schema\n  const schema = JSON.parse(fs.readFileSync(schemaPath, \"utf-8\"));\n  const validate = ajv.compile(schema);\n\n  // Get all YAML files\n  const files = fs\n    .readdirSync(configDir)\n    .filter((f) =&gt; f.endsWith(\".yaml\") || f.endsWith(\".yml\"));\n\n  let passedCount = 0;\n  let failedCount = 0;\n\n  console.log(`\\n\ud83d\udd0d Validating ${files.length} configuration files...\\n`);\n\n  for (const file of files) {\n    const filePath = path.join(configDir, file);\n    console.log(`\ud83d\udcc4 ${file}...`);\n\n    try {\n      const content = fs.readFileSync(filePath, \"utf-8\");\n      const config = YAML.load(content);\n\n      const valid = validate(config);\n\n      if (valid) {\n        console.log(`   \u2713 Valid\\n`);\n        passedCount++;\n      } else {\n        console.log(`   \u2717 Invalid`);\n        validate.errors?.forEach((err) =&gt; {\n          console.log(`     - ${err.schemaPath}: ${err.message}`);\n        });\n        console.log(\"\");\n        failedCount++;\n      }\n    } catch (error) {\n      console.log(`   \u2717 Error: ${error}\\n`);\n      failedCount++;\n    }\n  }\n\n  console.log(`\\n\ud83d\udcca Results: ${passedCount} passed, ${failedCount} failed`);\n  process.exit(failedCount &gt; 0 ? 1 : 0);\n}\n\nvalidateConfigs();\n</code></pre>"},{"location":"arquitetura/iac/#6-github-actions-workflow","title":"6. GitHub Actions Workflow","text":""},{"location":"arquitetura/iac/#arquivo-githubworkflowsvalidate-and-deployyml","title":"Arquivo: <code>.github/workflows/validate-and-deploy.yml</code>","text":"<pre><code>name: Validate Configs &amp; Deploy\n\non:\n  push:\n    branches: [main]\n    paths:\n      - \"configs/**\"\n      - \"src/**\"\n      - \"package.json\"\n  pull_request:\n    branches: [main]\n\njobs:\n  validate:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Setup Node.js\n        uses: actions/setup-node@v4\n        with:\n          node-version: \"20\"\n          cache: \"npm\"\n\n      - name: Install dependencies\n        run: npm ci\n\n      - name: Validate configurations\n        run: npm run validate:configs\n\n      - name: Run tests\n        run: npm run test\n\n      - name: Lint code\n        run: npm run lint\n\n  build-and-deploy:\n    needs: validate\n    runs-on: ubuntu-latest\n    if: github.ref == 'refs/heads/main'\n    permissions:\n      contents: read\n      pages: write\n      id-token: write\n\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Setup Node.js\n        uses: actions/setup-node@v4\n        with:\n          node-version: \"20\"\n          cache: \"npm\"\n\n      - name: Install dependencies\n        run: npm ci\n\n      - name: Build Next.js site\n        run: npm run build\n\n      - name: Setup Pages\n        uses: actions/configure-pages@v4\n\n      - name: Upload artifact\n        uses: actions/upload-pages-artifact@v3\n        with:\n          path: ./out\n\n      - name: Deploy to GitHub Pages\n        id: deployment\n        uses: actions/deploy-pages@v3\n</code></pre>"},{"location":"arquitetura/iac/#7-packagejson-scripts","title":"7. Package.json Scripts","text":""},{"location":"arquitetura/iac/#arquivo-packagejson-scripts-section","title":"Arquivo: <code>package.json</code> (scripts section)","text":"<pre><code>{\n  \"scripts\": {\n    \"dev\": \"next dev\",\n    \"build\": \"next build &amp;&amp; next export\",\n    \"start\": \"next start\",\n    \"lint\": \"eslint .\",\n    \"type-check\": \"tsc --noEmit\",\n    \"test\": \"jest\",\n    \"test:watch\": \"jest --watch\",\n    \"validate:configs\": \"ts-node scripts/validate-configs.ts\",\n    \"validate:config\": \"ts-node scripts/validate-single-config.ts\",\n    \"deploy:agent\": \"ts-node scripts/deploy-agent.ts\"\n  },\n  \"devDependencies\": {\n    \"@types/js-yaml\": \"^4.0.9\",\n    \"@types/node\": \"^20.0.0\",\n    \"@types/react\": \"^18.0.0\",\n    \"ajv\": \"^8.12.0\",\n    \"eslint\": \"^8.40.0\",\n    \"jest\": \"^29.5.0\",\n    \"js-yaml\": \"^4.1.0\",\n    \"next\": \"^14.0.0\",\n    \"react\": \"^18.2.0\",\n    \"react-dom\": \"^18.2.0\",\n    \"ts-node\": \"^10.9.1\",\n    \"typescript\": \"^5.0.0\"\n  }\n}\n</code></pre>"},{"location":"arquitetura/iac/#8-exemplo-de-teste-unitario","title":"8. Exemplo de Teste Unit\u00e1rio","text":""},{"location":"arquitetura/iac/#arquivo-testsagentvalidatortestts","title":"Arquivo: <code>tests/agent.validator.test.ts</code>","text":"<pre><code>import { AgentValidator } from \"@/lib/agent-validator\";\nimport fs from \"fs\";\n\ndescribe(\"AgentValidator\", () =&gt; {\n  let validator: AgentValidator;\n\n  beforeAll(() =&gt; {\n    validator = new AgentValidator();\n  });\n\n  it(\"should validate a correct YAML configuration\", () =&gt; {\n    const yaml = fs.readFileSync(\n      \"configs/ecommerce-agent.yaml\",\n      \"utf-8\"\n    );\n    const result = validator.validateYAML(yaml);\n    expect(result.valid).toBe(true);\n    expect(result.errors.length).toBe(0);\n  });\n\n  it(\"should reject invalid wallet address\", () =&gt; {\n    const yaml = `\nagent:\n  name: test-agent\n  description: Test agent\n  version: 1.0.0\n  model:\n    provider: openai\n    name: gpt-4\n    temperature: 0.7\n    max_tokens: 2000\n  system_prompt: Test prompt\n\nskills:\n  - name: catalog\n    type: data_retrieval\n    endpoint: https://example.com/api/catalog\n    method: GET\n    parameters: []\n    timeout_seconds: 10\n\npayment:\n  network: base\n  token: usdc\n  facilitator: cdp\n  agent_wallet_address: \"invalid-address\"\n  min_payment_usdc: 0.01\n  payment_timeout_seconds: 300\n`;\n    const result = validator.validateYAML(yaml);\n    expect(result.valid).toBe(false);\n  });\n\n  it(\"should export configuration as JSON\", () =&gt; {\n    const yaml = fs.readFileSync(\n      \"configs/ecommerce-agent.yaml\",\n      \"utf-8\"\n    );\n    const result = validator.validateYAML(yaml);\n    if (result.valid &amp;&amp; result.config) {\n      const json = validator.exportJSON(result.config);\n      expect(() =&gt; JSON.parse(json)).not.toThrow();\n    }\n  });\n});\n</code></pre>"},{"location":"arquitetura/iac/#9-instrucoes-de-uso","title":"9. Instru\u00e7\u00f5es de Uso","text":""},{"location":"arquitetura/iac/#passo-1-clonar-e-instalar","title":"Passo 1: Clonar e Instalar","text":"<pre><code>git clone seu-repositorio\ncd seu-repositorio\nnpm install\n</code></pre>"},{"location":"arquitetura/iac/#passo-2-desenvolver-localmente","title":"Passo 2: Desenvolver Localmente","text":"<pre><code>npm run dev\n# Abre em http://localhost:3000\n</code></pre>"},{"location":"arquitetura/iac/#passo-3-criar-configuracao-de-agente","title":"Passo 3: Criar Configura\u00e7\u00e3o de Agente","text":"<p>Copie <code>configs/ecommerce-agent.yaml</code> e customize:</p> <pre><code>cp configs/ecommerce-agent.yaml configs/meu-agente.yaml\n# Edite meu-agente.yaml com suas especifica\u00e7\u00f5es\n</code></pre>"},{"location":"arquitetura/iac/#passo-4-validar-localmente","title":"Passo 4: Validar Localmente","text":"<pre><code>npm run validate:configs\n</code></pre>"},{"location":"arquitetura/iac/#passo-5-fazer-commit","title":"Passo 5: Fazer Commit","text":"<pre><code>git add configs/meu-agente.yaml\ngit commit -m \"feat: add meu-agente configuration\"\ngit push origin main\n</code></pre>"},{"location":"arquitetura/iac/#passo-6-deploy-automatico","title":"Passo 6: Deploy Autom\u00e1tico","text":"<p>GitHub Actions valida automaticamente: - \u2713 Syntax YAML - \u2713 JSON Schema compliance - \u2713 Custom rules - \u2713 Builds e deploys no GitHub Pages</p>"},{"location":"arquitetura/iac/#10-vantagens-dessa-arquitetura","title":"10. Vantagens dessa Arquitetura","text":"Aspecto Benef\u00edcio Versionamento Hist\u00f3rico completo no Git Colabora\u00e7\u00e3o Pull Requests para validar mudan\u00e7as Valida\u00e7\u00e3o Automated checks antes de deploy Reprodutibilidade Mesmo setup em qualquer ambiente Documentation YAML \u00e9 auto-documentado CI/CD Deployment autom\u00e1tico com GitHub Actions Escalabilidade Gerenciar m\u00faltiplos agentes facilmente Auditoria Rastreabilidade completa de mudan\u00e7as"},{"location":"arquitetura/visao-geral/","title":"Vis\u00e3o Geral","text":"<p>Excelente! Tenho informa\u00e7\u00f5es muito ricas. Agora vou criar uma an\u00e1lise t\u00e9cnica profunda e estruturada que responda \u00e0s suas perguntas de forma integrada.</p>"},{"location":"arquitetura/visao-geral/#arquitetura-de-agentes-agentic-rag-para-consultas-de-bi-uma-analise-tecnica-integrada","title":"Arquitetura de Agentes Agentic RAG para Consultas de BI: Uma An\u00e1lise T\u00e9cnica Integrada","text":""},{"location":"arquitetura/visao-geral/#analise-da-questao-arquitetonica-go-vs-python-para-orquestracao-de-agentes","title":"An\u00e1lise da Quest\u00e3o Arquitet\u00f4nica: Go vs Python para Orquestra\u00e7\u00e3o de Agentes","text":""},{"location":"arquitetura/visao-geral/#1-comparacao-estrategica-das-arquiteturas","title":"1. Compara\u00e7\u00e3o Estrat\u00e9gica das Arquiteturas","text":"<p>Diante do desafio de integrar o nation.fun (Next.js + JavaScript) com um Agente Consultor de BI que execute Agentic RAG, existem duas estrat\u00e9gias fundamentalmente distintas:</p>"},{"location":"arquitetura/visao-geral/#opcao-1-backend-em-python-langchainautogen-via-api-rest","title":"Op\u00e7\u00e3o 1: Backend em Python (LangChain/AutoGen via API REST)","text":"<p>Arquitetura: - Frontend: nation.fun (Next.js) em GitHub Pages - Camada intermedi\u00e1ria: API REST (JSON) entre Next.js e servi\u00e7o Python - Backend: Servi\u00e7o Python isolado rodando LangChain/AutoGen em container</p> <p>Vantagens: - Ecossistema maduro: LangChain (especialmente LangGraph desde 2024) oferece orquestra\u00e7\u00e3o de estados consolidada. O ReAct-style prompting e reflection loops s\u00e3o primitivas de primeira classe.[1][2][3] - Observabilidade integrada: LangSmith fornece rastreamento nativo de tool calls, decis\u00f5es de agentes e loops iterativos. Isso reduz drasticamente o overhead de implementar observabilidade do zero.[4] - Comunidade ativa em IA: Frameworks como CrewAI tamb\u00e9m oferecem abstra\u00e7\u00f5es de multi-agentes com suporte nativo a async.[5]</p> <p>Desvantagens: - Complexidade operacional: Requer containeriza\u00e7\u00e3o, CI/CD separado, gerenciamento de processos Python. Debugging remoto \u00e9 mais complexo que em processos locais. - Lat\u00eancia de rede: Toda chamada de agent \u2192 retrieval \u2192 LLM \u2192 feedback requer round-trips HTTP. Para BI em tempo real, isso pode ser cr\u00edtico. - Custo computacional: Servi\u00e7os Python (especialmente com LangChain) t\u00eam overhead de mem\u00f3ria maior que Go puro.[6][7]</p>"},{"location":"arquitetura/visao-geral/#opcao-2-backend-em-go-langchaingogenkit-para-orquestracao-de-agentes","title":"Op\u00e7\u00e3o 2: Backend em Go (LangChainGo/Genkit para orquestra\u00e7\u00e3o de agentes)","text":"<p>Arquitetura: - Frontend: nation.fun (Next.js) em GitHub Pages - Camada API: gRPC-Gateway + REST bridge para consumo de Next.js - Backend: Servi\u00e7o Go unificado com Genkit 1.0 / LangChainGo para orquestra\u00e7\u00e3o</p> <p>Vantagens: - Concorr\u00eancia nativa: Go excels em multiplexar centenas de agentes simultaneamente via goroutines. Para BI consultivo (m\u00faltiplas queries paralelas), isso \u00e9 cr\u00edtico.[7][6] - Deployment simplificado: Binary \u00fanico, sem depend\u00eancias de runtime. Ideal para GitHub Actions \u2192 VPS ou Kubernetes.[6] - Performance determin\u00edstica: Sem GIL (Global Interpreter Lock do Python), overhead de execu\u00e7\u00e3o \u00e9 previs\u00edvel mesmo sob carga.[6]</p> <p>Desvantagens: - Ecossistema em forma\u00e7\u00e3o: Genkit (lan\u00e7ado 2024) e LangChainGo ainda n\u00e3o cobrem todos os padr\u00f5es avan\u00e7ados de Agentic RAG. Reflex\u00e3o (ReAct) e self-correction precisam ser codificadas manualmente.[6] - Menos integra\u00e7\u00e3o com ferramentas de IA: LangSmith \u00e9 Python-first. Observabilidade em Go requer OpenTelemetry manual.[8][6]</p>"},{"location":"arquitetura/visao-geral/#recomendacao-arquitetonica-abordagem-hibrida-com-go-como-orquestrador","title":"Recomenda\u00e7\u00e3o Arquitet\u00f4nica: Abordagem H\u00edbrida com Go como Orquestrador","text":"<p>Para o caso de nation.fun + Agentic RAG de BI, recomenda-se:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  nation.fun         \u2502\n\u2502  (Next.js + React)  \u2502\n\u2502  GitHub Pages       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2502 HTTPS (REST/gRPC-Web)\n           \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Go Backend (Primary Orchestrator)\u2502\n\u2502  \u251c\u2500 Genkit/LangChainGo Core      \u2502\n\u2502  \u251c\u2500 State Machine (Agent Nodes)  \u2502\n\u2502  \u251c\u2500 gRPC-Gateway (REST bridge)   \u2502\n\u2502  \u2514\u2500 OpenTelemetry (Tracing)      \u2502\n\u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2502                     \u2502\n     \u2502                     \u2502 Python microservice\n     \u2502                     \u2502 (optional, via gRPC)\n     \u25bc                     \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Vector DB       \u2502  \u2502 LangChain Worker \u2502\n\u2502 (Weaviate/      \u2502  \u2502 (Complex RAG     \u2502\n\u2502  Pinecone)      \u2502  \u2502  refinements)    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Justificativa: 1. Go orquestra as m\u00e1quinas de estado do agente (decis\u00f5es de qual tool chamar, quando refinar query, quando validar resultados).[2][3] 2. LangChainGo/Genkit em Go fornece primitivas b\u00e1sicas de agent loops com concorr\u00eancia otimizada.[6] 3. Python opcional: Se l\u00f3gica de refinamento de RAG for muito complexa (por ex., fine-tuning de rerankers), delegue via servi\u00e7o gRPC ass\u00edncrono.[9][7] 4. gRPC-Gateway exp\u00f5e endpoints REST que nation.fun consome via fetch/axios.[10][11]</p> <p>Minimiza\u00e7\u00e3o de Debugging/Deployment:</p> <ul> <li>Debugging: Go + Genkit Studio permite visualiza\u00e7\u00e3o gr\u00e1fica do agente graph durante desenvolvimento (similar a LangGraph Studio, mas em Go).[3][6]</li> <li>Deployment: Binary \u00fanico para Go (sem depend\u00eancias Python) \u2192 GitHub Actions compila e publica em VPS/Render/Railway em minutos.[12][13]</li> <li>Observabilidade unificada: OpenTelemetry (OTEL) em Go + exporta para Datadog/Grafana. Traces incluem tool calls, estado de agent, lat\u00eancia de retrieval.[8]</li> </ul>"},{"location":"arquitetura/visao-geral/#2-integracao-com-nationfun-padrao-cicd-e-estrutura-limpa","title":"2. Integra\u00e7\u00e3o com nation.fun: Padr\u00e3o CI/CD e Estrutura Limpa","text":""},{"location":"arquitetura/visao-geral/#estrutura-de-projeto-recomendada","title":"Estrutura de Projeto Recomendada:","text":"<pre><code>nation-rag-project/\n\u251c\u2500\u2500 apps/\n\u2502   \u251c\u2500\u2500 frontend/              # Next.js (nation.fun)\n\u2502   \u2502   \u251c\u2500\u2500 pages/\n\u2502   \u2502   \u251c\u2500\u2500 components/\n\u2502   \u2502   \u2514\u2500\u2500 __tests__/         # Jest + @testing-library\n\u2502   \u2502\n\u2502   \u2514\u2500\u2500 backend-go/            # Go Backend (Agente)\n\u2502       \u251c\u2500\u2500 cmd/\n\u2502       \u2502   \u2514\u2500\u2500 server/\n\u2502       \u251c\u2500\u2500 internal/\n\u2502       \u2502   \u251c\u2500\u2500 agent/         # State machine, node logic\n\u2502       \u2502   \u251c\u2500\u2500 retrieval/     # Vector DB interface\n\u2502       \u2502   \u251c\u2500\u2500 lm/            # LLM calls (Genkit wrapper)\n\u2502       \u2502   \u2514\u2500\u2500 observability/ # OTEL instrumentation\n\u2502       \u251c\u2500\u2500 proto/\n\u2502       \u2502   \u2514\u2500\u2500 agent.proto    # gRPC service definitions\n\u2502       \u251c\u2500\u2500 go.mod\n\u2502       \u2514\u2500\u2500 Dockerfile\n\u2502\n\u251c\u2500\u2500 .github/\n\u2502   \u2514\u2500\u2500 workflows/\n\u2502       \u251c\u2500\u2500 frontend-ci.yml    # Next.js build + test\n\u2502       \u251c\u2500\u2500 backend-ci.yml     # Go build + test + deploy\n\u2502       \u2514\u2500\u2500 integration-test.yml # E2E Gherkin tests\n\u2502\n\u251c\u2500\u2500 features/                  # BDD Scenarios (Gherkin)\n\u2502   \u251c\u2500\u2500 agent_orchestration.feature\n\u2502   \u251c\u2500\u2500 rag_self_correction.feature\n\u2502   \u2514\u2500\u2500 steps/\n\u2502       \u2514\u2500\u2500 agent_steps.py     # Step implementations (Behave)\n\u2502\n\u2514\u2500\u2500 docs/\n    \u2514\u2500\u2500 ARCHITECTURE.md\n</code></pre>"},{"location":"arquitetura/visao-geral/#cicd-pipeline-com-github-actions","title":"CI/CD Pipeline com GitHub Actions:","text":"<pre><code># .github/workflows/backend-ci.yml\nname: Backend Go Agent CI/CD\n\non:\n  push:\n    branches: [main]\n    paths: ['apps/backend-go/**']\n  pull_request:\n    branches: [main]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - uses: actions/setup-go@v4\n        with:\n          go-version: 1.22\n\n      - name: Run unit tests\n        run: cd apps/backend-go &amp;&amp; go test -v ./...\n\n      - name: Run BDD scenarios (Behave)\n        run: |\n          pip install behave\n          behave features/agent_orchestration.feature\n\n  deploy:\n    runs-on: ubuntu-latest\n    needs: test\n    if: github.ref == 'refs/heads/main'\n    steps:\n      - uses: actions/checkout@v3\n      - name: Build and push Docker image\n        run: |\n          docker build -t agent-backend:latest apps/backend-go/\n          docker tag agent-backend:latest ${{ secrets.REGISTRY }}/agent-backend:latest\n          docker push ${{ secrets.REGISTRY }}/agent-backend:latest\n\n      - name: Deploy to Kubernetes/Railway/Render\n        run: |\n          # Sua l\u00f3gica de deploy aqui\n</code></pre>"},{"location":"arquitetura/visao-geral/#3-bddgherkin-para-governanca-de-agentes-agentic-rag","title":"3. BDD/Gherkin para Governan\u00e7a de Agentes Agentic RAG","text":"<p>O Agentic RAG \u00e9 fundamentalmente diferente de RAG cl\u00e1ssico: ele itera, refina queries, valida contexto, e se autocorrige. BDD/Gherkin \u00e9 perfeito para codificar esses ciclos de feedback como requirements execut\u00e1veis.[14][15]</p>"},{"location":"arquitetura/visao-geral/#exemplos-de-cenarios-gherkin-para-agentes","title":"Exemplos de Cen\u00e1rios Gherkin para Agentes:","text":""},{"location":"arquitetura/visao-geral/#scenario-1-verificacao-de-confianca-em-retrieval","title":"Scenario 1: Verifica\u00e7\u00e3o de Confian\u00e7a em Retrieval","text":"<pre><code># features/agent_orchestration.feature\n\nFeature: BI Agent Orchestration with Confidence Scoring\n  As a Business Analyst\n  I want the agent to verify retrieved documents before generating answers\n  So that hallucinations and irrelevant context are minimized\n\n  Background:\n    Given the BI agent is initialized with vector database \"weaviate\"\n    And the LLM is \"claude-3-sonnet\"\n    And the confidence threshold is 0.75\n    And the audit trail is enabled\n\n  Scenario: Agent rejects low-relevance retrieval and refines query\n    Given a BI query: \"What are our Q3 revenue trends by region?\"\n    When the agent retrieves initial context from the vector store\n    Then the agent evaluates context relevance with a grading LLM\n    And if relevance score &lt; 0.75, the agent MUST:\n      | Action                        | Expected Behavior                    |\n      | Reformulate query              | Query rewritten with synonyms/clarity|\n      | Retry retrieval               | Fetch documents with new query       |\n      | Log decision in audit trail    | timestamp, old_query, new_query, reason |\n    And if relevance score &gt;= 0.75, the agent proceeds to generation\n\n  Scenario: Agent validates faithfulness of generated answer\n    Given retrieved context about \"Q3 2025 regional revenue\"\n    When the agent generates an initial answer\n    Then the agent invokes a faithfulness evaluator:\n      | Faithfulness Check               | Pass Condition                     |\n      | Answer grounded in context?      | All claims have source citations   |\n      | No hallucinations detected?      | Evaluator LLM returns \"FAITHFUL\"  |\n      | Answer addresses query fully?    | Coverage score &gt;= 0.85             |\n    And if any check fails:\n      | Failure Mode                    | Recovery Action                    |\n      | Grounding failed                | Regenerate with explicit citations |\n      | Hallucination detected          | Invoke web search for external data|\n      | Low coverage                    | Refine query + retry retrieval     |\n    And ALWAYS log to audit trail:\n      \"\"\"\n      {\n        \"timestamp\": \"2025-10-31T23:41:00Z\",\n        \"agent_id\": \"bi-consultant-v1\",\n        \"query\": \"...\",\n        \"retrieval_score\": 0.85,\n        \"faithfulness_score\": 0.92,\n        \"decision\": \"APPROVED_FOR_GENERATION\",\n        \"tool_calls\": [\n          {\"tool\": \"retrieve\", \"args\": {...}, \"result\": {...}},\n          {\"tool\": \"grade_relevance\", \"result\": \"RELEVANT\"},\n          {\"tool\": \"generate\", \"result\": \"...\"}\n        ]\n      }\n      \"\"\"\n</code></pre>"},{"location":"arquitetura/visao-geral/#scenario-2-multi-step-orchestration-com-correcao-automatica","title":"Scenario 2: Multi-Step Orchestration com Corre\u00e7\u00e3o Autom\u00e1tica","text":"<pre><code>Feature: Self-Correcting RAG Agent Loop\n  As a Data Engineer\n  I want the agent to execute corrective actions autonomously\n  So that complex BI queries are resolved without manual intervention\n\n  Scenario: Agent dynamically chooses retrieval strategy based on query type\n    Given the agent has access to these retrieval strategies:\n      | Strategy        | Use Case                            | Score Weight |\n      | Vector search   | Semantic/NLP queries                | 0.6          |\n      | BM25 lexical    | Exact keyword matching              | 0.3          |\n      | GraphRAG        | Relationship/network analysis       | 0.4          |\n      | Hypothetical    | Sparse/ambiguous queries            | 0.5          |\n\n    When a query like \"How do revenue cycles correlate with market trends?\" arrives\n    Then the agent:\n      1. Classifies query type (entity? relationship? trend?)\n      2. Scores each strategy relevance (via LLM or heuristics)\n      3. Selects top-2 strategies and runs in parallel\n      4. Merges results using hybrid reranking\n      5. Logs selected strategy to audit trail\n\n    And the audit trail entry includes:\n      \"\"\"\n      {\n        \"query_classification\": \"relationship_trend\",\n        \"strategies_selected\": [\"GraphRAG\", \"vector_search\"],\n        \"strategy_scores\": {\"GraphRAG\": 0.8, \"vector_search\": 0.75},\n        \"retrieval_latency_ms\": 342,\n        \"result_count\": 12,\n        \"reranked_top_5\": [...]\n      }\n      \"\"\"\n\n  Scenario: Agent detects conflicting data and resolves via external source\n    Given the agent retrieved conflicting facts from internal docs\n    And Fact A: \"2025 Q3 revenue = $50M\"\n    And Fact B: \"2025 Q3 revenue = $48.5M\"\n\n    When the agent detects conflict (&gt;5% discrepancy)\n    Then the agent MUST:\n      1. Flag conflict in audit trail\n      2. Invoke web search for authoritative source (earnings report, press release)\n      3. Compare external source with internal facts\n      4. Update retrieved context with highest-confidence source\n      5. Generate answer noting the discrepancy and resolution\n      6. Log resolution rationale\n\n    And audit trail shows conflict resolution:\n      \"\"\"\n      {\n        \"conflict_detected\": true,\n        \"conflicting_facts\": [\n          {\"source\": \"internal_doc_1\", \"fact\": \"$50M\", \"confidence\": 0.7},\n          {\"source\": \"internal_doc_2\", \"fact\": \"$48.5M\", \"confidence\": 0.6}\n        ],\n        \"external_source_invoked\": \"web_search\",\n        \"external_result\": \"$49.2M (official earnings)\",\n        \"resolution\": \"USED_EXTERNAL_SOURCE\",\n        \"final_answer_includes\": \"Per latest earnings report: $49.2M\"\n      }\n      \"\"\"\n</code></pre>"},{"location":"arquitetura/visao-geral/#scenario-3-governanca-e-compliance-com-audit-trail","title":"Scenario 3: Governan\u00e7a e Compliance com Audit Trail","text":"<pre><code>Feature: Agent Governance and Compliance Logging\n  As a Compliance Officer\n  I want immutable audit trails of every agent decision\n  So that we meet GDPR, SOC 2, and audit requirements\n\n  Background:\n    Given audit logs are persisted in immutable store (e.g., PostgreSQL with JSONB)\n    And OpenTelemetry tracing is enabled\n    And log retention policy = 7 years (GDPR compliant)\n\n  Scenario: Complete trace of agent reasoning with justifications\n    Given a BI query from user \"analyst@company.com\"\n    When the agent processes the query end-to-end\n    Then every decision node MUST log:\n      | Field                    | Value                              |\n      | timestamp                | ISO 8601 UTC                      |\n      | user_id                  | analyst@company.com               |\n      | query_hash               | SHA256 of original query           |\n      | agent_version            | v1.2.3                            |\n      | decision_type            | retrieve/refine/generate/validate |\n      | justification            | LLM reasoning or heuristic logic  |\n      | confidence_score         | 0.0-1.0 numeric                  |\n      | tool_call_details        | {tool, params, result, latency}  |\n      | data_sources_accessed    | [doc_ids, db_tables, api_calls]  |\n      | personal_data_detected   | true/false (GDPR check)           |\n      | compliance_checks_passed | {GDPR: true, SOC2: true, ...}    |\n\n    And all logs are cryptographically signed (to prevent tampering)\n    And query result includes provenance info for user:\n      \"\"\"\n      {\n        \"answer\": \"Q3 2025 revenue is $49.2M\",\n        \"confidence\": 0.92,\n        \"sources\": [\n          {\"type\": \"document\", \"id\": \"doc_12345\", \"excerpt\": \"...\", \"relevance\": 0.95},\n          {\"type\": \"web\", \"url\": \"earnings.company.com\", \"date\": \"2025-10-15\"}\n        ],\n        \"agent_trace\": \"uuid-12345\",  # Link to full audit trail\n        \"decision_log\": [\n          {\"step\": 1, \"action\": \"retrieve\", \"tool\": \"vector_search\", \"result_count\": 8},\n          {\"step\": 2, \"action\": \"grade\", \"tool\": \"relevance_evaluator\", \"score\": 0.88},\n          {\"step\": 3, \"action\": \"generate\", \"tool\": \"claude\", \"tokens_used\": 412},\n          {\"step\": 4, \"action\": \"validate\", \"tool\": \"faithfulness_check\", \"passed\": true}\n        ]\n      }\n      \"\"\"\n</code></pre>"},{"location":"arquitetura/visao-geral/#implementacao-em-python-behave","title":"Implementa\u00e7\u00e3o em Python (Behave):","text":"<pre><code># features/steps/agent_steps.py\n\nfrom behave import given, when, then\nfrom agent_client import AgentOrchestratorClient\nimport json\nimport logging\n\nlogger = logging.getLogger(\"bdd_agent_tests\")\n\n@given('the BI agent is initialized with vector database \"{db_name}\"')\ndef step_init_agent(context, db_name):\n    context.agent = AgentOrchestratorClient(vector_db=db_name)\n    context.audit_trail = []\n    logger.info(f\"Agent initialized with {db_name}\")\n\n@given('the confidence threshold is {threshold}')\ndef step_set_confidence_threshold(context, threshold):\n    context.confidence_threshold = float(threshold)\n\n@when('the agent retrieves initial context from the vector store')\ndef step_retrieve_context(context):\n    context.retrieval_result = context.agent.retrieve(\n        query=context.query,\n        top_k=5\n    )\n    context.audit_trail.append({\n        \"action\": \"retrieve\",\n        \"result_count\": len(context.retrieval_result),\n        \"query\": context.query\n    })\n    logger.info(f\"Retrieved {len(context.retrieval_result)} documents\")\n\n@then('the agent evaluates context relevance with a grading LLM')\ndef step_grade_relevance(context):\n    relevance_score = context.agent.grade_relevance(\n        query=context.query,\n        context=context.retrieval_result\n    )\n    context.relevance_score = relevance_score\n    context.audit_trail.append({\n        \"action\": \"grade_relevance\",\n        \"score\": relevance_score,\n        \"threshold\": context.confidence_threshold\n    })\n    logger.info(f\"Relevance score: {relevance_score}\")\n\n@then('if relevance score &lt; {threshold}, the agent MUST')\ndef step_low_relevance_actions(context, threshold):\n    if context.relevance_score &lt; float(threshold):\n        # Reformulate query\n        context.refined_query = context.agent.reformulate_query(context.query)\n        context.audit_trail.append({\n            \"action\": \"reformulate_query\",\n            \"old_query\": context.query,\n            \"new_query\": context.refined_query,\n            \"reason\": \"LOW_RELEVANCE\"\n        })\n\n        # Retry retrieval\n        context.retrieval_result = context.agent.retrieve(\n            query=context.refined_query,\n            top_k=5\n        )\n        context.audit_trail.append({\n            \"action\": \"retry_retrieve\",\n            \"new_result_count\": len(context.retrieval_result)\n        })\n\n        logger.info(f\"Query refined and retrieval retried. New result count: {len(context.retrieval_result)}\")\n\n@when('the agent generates an initial answer')\ndef step_generate_answer(context):\n    context.answer = context.agent.generate(\n        query=context.query,\n        context=context.retrieval_result\n    )\n    context.audit_trail.append({\n        \"action\": \"generate\",\n        \"answer_length\": len(context.answer)\n    })\n    logger.info(f\"Answer generated: {context.answer[:100]}...\")\n\n@then('the agent invokes a faithfulness evaluator')\ndef step_evaluate_faithfulness(context):\n    faithfulness_score = context.agent.evaluate_faithfulness(\n        answer=context.answer,\n        context=context.retrieval_result\n    )\n    context.faithfulness_score = faithfulness_score\n    context.audit_trail.append({\n        \"action\": \"evaluate_faithfulness\",\n        \"score\": faithfulness_score\n    })\n    assert faithfulness_score &gt;= 0.75, f\"Faithfulness score {faithfulness_score} below threshold\"\n\n@then('ALWAYS log to audit trail')\ndef step_log_audit_trail(context):\n    audit_entry = {\n        \"timestamp\": context.agent.get_timestamp(),\n        \"agent_id\": \"bi-consultant-v1\",\n        \"query\": context.query,\n        \"retrieval_score\": context.relevance_score,\n        \"faithfulness_score\": context.faithfulness_score,\n        \"decision\": \"APPROVED_FOR_GENERATION\",\n        \"tool_calls\": context.audit_trail\n    }\n    # Persist to audit DB\n    context.agent.persist_audit_trail(audit_entry)\n    logger.info(f\"Audit trail logged: {json.dumps(audit_entry, indent=2)}\")\n</code></pre>"},{"location":"arquitetura/visao-geral/#4-padrao-de-orquestracao-com-golangchaingo-e-state-machine","title":"4. Padr\u00e3o de Orquestra\u00e7\u00e3o com Go/LangChainGo e State Machine","text":""},{"location":"arquitetura/visao-geral/#definicao-grpc-para-agente","title":"Defini\u00e7\u00e3o gRPC para Agente:","text":"<pre><code>// proto/agent.proto\n\nsyntax = \"proto3\";\n\npackage agent;\n\noption go_package = \"github.com/nation/agent-backend/proto/agent\";\n\nimport \"google/protobuf/timestamp.proto\";\n\nservice AgentOrchestratorService {\n  rpc ProcessQuery(QueryRequest) returns (QueryResponse);\n  rpc GetAuditTrail(AuditTrailRequest) returns (AuditTrailResponse);\n}\n\nmessage QueryRequest {\n  string query = 1;\n  string user_id = 2;\n  map&lt;string, string&gt; metadata = 3;  // user_role, department, etc.\n}\n\nmessage QueryResponse {\n  string answer = 1;\n  float confidence_score = 2;\n  repeated Source sources = 3;\n  string trace_id = 4;\n  repeated DecisionLogEntry decision_log = 5;\n}\n\nmessage Source {\n  string id = 1;\n  string type = 2;  // \"document\", \"web\", \"database\"\n  string excerpt = 3;\n  float relevance_score = 4;\n}\n\nmessage DecisionLogEntry {\n  int32 step = 1;\n  string action = 2;  // \"retrieve\", \"grade\", \"refine\", \"generate\", \"validate\"\n  string tool = 3;\n  bytes result = 4;  // serialized JSON\n  int64 latency_ms = 5;\n  google.protobuf.Timestamp timestamp = 6;\n}\n\nmessage AuditTrailRequest {\n  string trace_id = 1;\n}\n\nmessage AuditTrailResponse {\n  repeated AuditLogEntry entries = 1;\n}\n\nmessage AuditLogEntry {\n  string trace_id = 1;\n  string user_id = 2;\n  string action = 3;\n  bytes data = 4;\n  google.protobuf.Timestamp timestamp = 5;\n  string compliance_status = 6;\n}\n</code></pre>"},{"location":"arquitetura/visao-geral/#implementacao-do-agent-em-go","title":"Implementa\u00e7\u00e3o do Agent em Go:","text":"<pre><code>// internal/agent/orchestrator.go\n\npackage agent\n\nimport (\n    \"context\"\n    \"fmt\"\n    \"log\"\n\n    \"genkit.dev/ai\"\n    \"github.com/nation/agent-backend/internal/lm\"\n    \"github.com/nation/agent-backend/internal/retrieval\"\n    \"go.opentelemetry.io/api/trace\"\n)\n\ntype OrchestratorState struct {\n    Query              string\n    UserID             string\n    Metadata           map[string]string\n    RetrievalResult    []retrieval.Document\n    RelevanceScore     float32\n    RefinedQuery       string\n    GeneratedAnswer    string\n    FaithfulnessScore  float32\n    DecisionLog        []DecisionLogEntry\n    AuditTrail         []AuditLogEntry\n}\n\ntype DecisionLogEntry struct {\n    Step      int32\n    Action    string\n    Tool      string\n    Result    interface{}\n    LatencyMs int64\n}\n\ntype AuditLogEntry struct {\n    TraceID            string\n    UserID             string\n    Action             string\n    Data               interface{}\n    Timestamp          string\n    ComplianceStatus   string\n}\n\ntype Orchestrator struct {\n    llm              *lm.LMClient\n    retriever        *retrieval.Retriever\n    tracer           trace.Tracer\n    auditDB          AuditStore\n}\n\n// NewOrchestrator initializes the agent orchestrator\nfunc NewOrchestrator(llm *lm.LMClient, retriever *retrieval.Retriever, tracer trace.Tracer, db AuditStore) *Orchestrator {\n    return &amp;Orchestrator{\n        llm:       llm,\n        retriever: retriever,\n        tracer:    tracer,\n        auditDB:   db,\n    }\n}\n\n// ProcessQuery executes the full agentic RAG loop\nfunc (o *Orchestrator) ProcessQuery(ctx context.Context, query string, userID string) (*OrchestratorState, error) {\n    _, span := o.tracer.Start(ctx, \"ProcessQuery\")\n    defer span.End()\n\n    state := &amp;OrchestratorState{\n        Query:  query,\n        UserID: userID,\n    }\n\n    // Step 1: Retrieve initial context\n    if err := o.retrieveStep(ctx, state); err != nil {\n        return nil, fmt.Errorf(\"retrieval failed: %w\", err)\n    }\n\n    // Step 2: Grade relevance\n    if err := o.gradeRelevanceStep(ctx, state); err != nil {\n        return nil, fmt.Errorf(\"relevance grading failed: %w\", err)\n    }\n\n    // Step 3: Refine if needed (loop back)\n    if state.RelevanceScore &lt; 0.75 {\n        if err := o.refineQueryStep(ctx, state); err != nil {\n            return nil, fmt.Errorf(\"query refinement failed: %w\", err)\n        }\n        // Retry retrieval with refined query\n        if err := o.retrieveStep(ctx, state); err != nil {\n            return nil, fmt.Errorf(\"retrieval retry failed: %w\", err)\n        }\n    }\n\n    // Step 4: Generate answer\n    if err := o.generateStep(ctx, state); err != nil {\n        return nil, fmt.Errorf(\"generation failed: %w\", err)\n    }\n\n    // Step 5: Validate faithfulness\n    if err := o.validateFaithfulnessStep(ctx, state); err != nil {\n        return nil, fmt.Errorf(\"faithfulness validation failed: %w\", err)\n    }\n\n    // Step 6: Persist audit trail\n    if err := o.persistAuditTrail(ctx, state); err != nil {\n        log.Printf(\"Warning: audit trail persistence failed: %v\", err)\n    }\n\n    return state, nil\n}\n\nfunc (o *Orchestrator) retrieveStep(ctx context.Context, state *OrchestratorState) error {\n    _, span := o.tracer.Start(ctx, \"RetrievalStep\")\n    defer span.End()\n\n    query := state.Query\n    if state.RefinedQuery != \"\" {\n        query = state.RefinedQuery\n    }\n\n    docs, err := o.retriever.Retrieve(ctx, query, 5)\n    if err != nil {\n        return err\n    }\n\n    state.RetrievalResult = docs\n    state.DecisionLog = append(state.DecisionLog, DecisionLogEntry{\n        Step:   1,\n        Action: \"retrieve\",\n        Tool:   \"vector_search\",\n        Result: map[string]interface{}{\n            \"query\":        query,\n            \"result_count\": len(docs),\n        },\n    })\n\n    return nil\n}\n\nfunc (o *Orchestrator) gradeRelevanceStep(ctx context.Context, state *OrchestratorState) error {\n    _, span := o.tracer.Start(ctx, \"GradeRelevanceStep\")\n    defer span.End()\n\n    score, err := o.llm.GradeRelevance(ctx, state.Query, state.RetrievalResult)\n    if err != nil {\n        return err\n    }\n\n    state.RelevanceScore = score\n    state.DecisionLog = append(state.DecisionLog, DecisionLogEntry{\n        Step:   2,\n        Action: \"grade_relevance\",\n        Tool:   \"relevance_evaluator\",\n        Result: map[string]interface{}{\n            \"score\":     score,\n            \"threshold\": 0.75,\n        },\n    })\n\n    return nil\n}\n\nfunc (o *Orchestrator) refineQueryStep(ctx context.Context, state *OrchestratorState) error {\n    _, span := o.tracer.Start(ctx, \"RefineQueryStep\")\n    defer span.End()\n\n    refined, err := o.llm.RefineQuery(ctx, state.Query)\n    if err != nil {\n        return err\n    }\n\n    state.RefinedQuery = refined\n    state.DecisionLog = append(state.DecisionLog, DecisionLogEntry{\n        Step:   2.5,\n        Action: \"refine_query\",\n        Result: map[string]interface{}{\n            \"old_query\": state.Query,\n            \"new_query\": refined,\n            \"reason\":    \"LOW_RELEVANCE\",\n        },\n    })\n\n    return nil\n}\n\nfunc (o *Orchestrator) generateStep(ctx context.Context, state *OrchestratorState) error {\n    _, span := o.tracer.Start(ctx, \"GenerateStep\")\n    defer span.End()\n\n    answer, err := o.llm.Generate(ctx, state.Query, state.RetrievalResult)\n    if err != nil {\n        return err\n    }\n\n    state.GeneratedAnswer = answer\n    state.DecisionLog = append(state.DecisionLog, DecisionLogEntry{\n        Step:   3,\n        Action: \"generate\",\n        Tool:   \"claude-3\",\n        Result: map[string]interface{}{\n            \"answer_length\": len(answer),\n        },\n    })\n\n    return nil\n}\n\nfunc (o *Orchestrator) validateFaithfulnessStep(ctx context.Context, state *OrchestratorState) error {\n    _, span := o.tracer.Start(ctx, \"ValidateFaithfulnessStep\")\n    defer span.End()\n\n    score, err := o.llm.EvaluateFaithfulness(ctx, state.GeneratedAnswer, state.RetrievalResult)\n    if err != nil {\n        return err\n    }\n\n    state.FaithfulnessScore = score\n    state.DecisionLog = append(state.DecisionLog, DecisionLogEntry{\n        Step:   4,\n        Action: \"validate_faithfulness\",\n        Result: map[string]interface{}{\n            \"score\":     score,\n            \"threshold\": 0.75,\n        },\n    })\n\n    if score &lt; 0.75 {\n        // Trigger external search or regeneration\n        log.Printf(\"Warning: Faithfulness score %f below threshold. Consider external search.\", score)\n    }\n\n    return nil\n}\n\nfunc (o *Orchestrator) persistAuditTrail(ctx context.Context, state *OrchestratorState) error {\n    _, span := o.tracer.Start(ctx, \"PersistAuditTrail\")\n    defer span.End()\n\n    for i, entry := range state.DecisionLog {\n        auditEntry := AuditLogEntry{\n            TraceID:          ctx.Value(\"trace_id\").(string),\n            UserID:           state.UserID,\n            Action:           entry.Action,\n            Data:             entry.Result,\n            Timestamp:        time.Now().UTC().String(),\n            ComplianceStatus: \"GDPR_COMPLIANT\",\n        }\n\n        if err := o.auditDB.Insert(ctx, auditEntry); err != nil {\n            return fmt.Errorf(\"failed to persist audit entry %d: %w\", i, err)\n        }\n    }\n\n    return nil\n}\n</code></pre>"},{"location":"arquitetura/visao-geral/#5-padroes-de-implantacao-e-observabilidade","title":"5. Padr\u00f5es de Implanta\u00e7\u00e3o e Observabilidade","text":""},{"location":"arquitetura/visao-geral/#configuracao-de-opentelemetry-em-go","title":"Configura\u00e7\u00e3o de OpenTelemetry em Go:","text":"<pre><code>// internal/observability/otel.go\n\npackage observability\n\nimport (\n    \"go.opentelemetry.io/exporters/otlp/otlptrace\"\n    \"go.opentelemetry.io/exporters/otlp/otlptrace/otlptracegrpc\"\n    \"go.opentelemetry.io/sdk/trace\"\n    \"go.opentelemetry.io/api/global\"\n)\n\nfunc InitTracer(endpoint string) error {\n    exporter, err := otlptrace.New(\n        context.Background(),\n        otlptracegrpc.NewClient(\n            otlptracegrpc.WithEndpoint(endpoint),\n        ),\n    )\n    if err != nil {\n        return err\n    }\n\n    tp := trace.NewTracerProvider(\n        trace.WithBatcher(exporter),\n    )\n\n    global.SetTracerProvider(tp)\n    return nil\n}\n</code></pre>"},{"location":"arquitetura/visao-geral/#deployment-no-renderrailway","title":"Deployment no Render/Railway:","text":"<pre><code># apps/backend-go/Dockerfile\n\nFROM golang:1.22-alpine AS builder\nWORKDIR /app\nCOPY go.mod go.sum ./\nRUN go mod download\nCOPY . .\nRUN CGO_ENABLED=0 GOOS=linux go build -o agent-server cmd/server/main.go\n\nFROM alpine:3.18\nWORKDIR /app\nCOPY --from=builder /app/agent-server .\nEXPOSE 50051 8080\nCMD [\"./agent-server\"]\n</code></pre>"},{"location":"arquitetura/visao-geral/#docker-compose-para-desenvolvimento-local","title":"Docker Compose para desenvolvimento local:","text":"<pre><code># docker-compose.yml\n\nversion: '3.8'\n\nservices:\n  agent-backend:\n    build:\n      context: .\n      dockerfile: apps/backend-go/Dockerfile\n    ports:\n      - \"50051:50051\"  # gRPC\n      - \"8080:8080\"    # REST/gRPC-Gateway\n    environment:\n      - OTEL_EXPORTER_OTLP_ENDPOINT=http://jaeger:4317\n      - VECTOR_DB_URL=http://weaviate:8080\n      - LLM_API_KEY=${OPENAI_API_KEY}\n    depends_on:\n      - weaviate\n      - jaeger\n\n  weaviate:\n    image: semitechnologies/weaviate:latest\n    ports:\n      - \"8081:8080\"\n    environment:\n      - QUERY_DEFAULTS_LIMIT=25\n      - AUTHENTICATION_ANONYMOUS_ACCESS_ENABLED=true\n\n  jaeger:\n    image: jaegertracing/all-in-one:latest\n    ports:\n      - \"16686:16686\"  # Web UI\n      - \"4317:4317\"    # OTLP gRPC receiver\n</code></pre>"},{"location":"arquitetura/visao-geral/#resumo-executivo-recomendacoes-finais","title":"Resumo Executivo: Recomenda\u00e7\u00f5es Finais","text":"Aspecto Recomenda\u00e7\u00e3o Justificativa Backend Principal Go + Genkit/LangChainGo Concorr\u00eancia superior, deployment simplificado, observabilidade via OTEL Orquestra\u00e7\u00e3o de Agentes LangGraph (Python) OU State Machine em Go Go para performance; Python se l\u00f3gica de agent \u00e9 muito complexa Padr\u00e3o de Comunica\u00e7\u00e3o gRPC-Gateway + REST gRPC para backend-to-backend; REST para Next.js consumir Frontend nation.fun (Next.js) + GitHub Pages Mant\u00e9m filosofia cleancode; fetch via API Gateway Observabilidade OpenTelemetry + Jaeger/Datadog Traces de tool calls, estado do agente, lat\u00eancia de retrieval BDD/Gherkin Behave + Cucumber Codifica ciclos de self-correction, governan\u00e7a, compliance como tests execut\u00e1veis Audit Trail PostgreSQL + immutable logs (signed) GDPR/SOC2/HIPAA compliant; forensics para debugging CI/CD GitHub Actions (Node + Go) Builds paralelos, deploys autom\u00e1ticos em Kubernetes/Render <p>Benef\u00edcios dessa arquitetura: 1. \u2705 Debugging reduzido: State machine em Go (determin\u00edstico) + tracing OTEL = visibilidade total. 2. \u2705 Deployment simplificado: Binary \u00fanico (Go), sem depend\u00eancias Python; deploy em minutos. 3. \u2705 Governan\u00e7a clara: BDD Gherkin + audit trails = compliance auditable. 4. \u2705 Escalabilidade: Goroutines para m\u00faltiplos agentes; gRPC para throughput. 5. \u2705 Integra\u00e7\u00e3o nation.fun: gRPC-Gateway exp\u00f5e REST que Next.js consome facilmente.</p> <p>1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49</p>"},{"location":"dialog-management/dialog-management/","title":"Gest\u00e3o de Di\u00e1logos: Mantendo Conversas Coerentes","text":"<p>A gest\u00e3o de di\u00e1logos \u00e9 a tecnologia que permite ao seu agente ir al\u00e9m de simplesmente responder a uma pergunta de cada vez. \u00c9 a habilidade de manter o contexto, entender conversas de m\u00faltiplos turnos e lidar com intera\u00e7\u00f5es complexas de forma natural e inteligente.</p>"},{"location":"dialog-management/dialog-management/#para-microempreendedores","title":"Para Microempreendedores","text":""},{"location":"dialog-management/dialog-management/#o-que-e-gestao-de-dialogos","title":"O que \u00e9 gest\u00e3o de di\u00e1logos?","text":"<p>Imagine que voc\u00ea est\u00e1 conversando com um assistente humano. Voc\u00ea n\u00e3o repete todas as informa\u00e7\u00f5es a cada frase, certo? O assistente lembra o que foi dito antes. A gest\u00e3o de di\u00e1logos d\u00e1 essa \"mem\u00f3ria\" ao seu agente.</p> <p>Exemplo de conversa sem gest\u00e3o de di\u00e1logos:</p> <ul> <li>Voc\u00ea: \"Quero agendar um corte de cabelo.\"</li> <li>Agente: \"Para qual servi\u00e7o?\"</li> <li>Voc\u00ea: \"Corte masculino.\"</li> <li>Agente: \"Ok. Para qual servi\u00e7o voc\u00ea quer agendar?\" (O agente j\u00e1 esqueceu)</li> </ul> <p>Exemplo de conversa com boa gest\u00e3o de di\u00e1logos:</p> <ul> <li>Voc\u00ea: \"Quero agendar um corte de cabelo.\"</li> <li>Agente: \"Claro. \u00c9 para um corte masculino ou feminino?\"</li> <li>Voc\u00ea: \"Masculino.\"</li> <li>Agente: \"Perfeito. Para o corte masculino, qual o melhor dia para voc\u00ea?\" (O agente lembrou o servi\u00e7o e continuou o fluxo)</li> </ul>"},{"location":"dialog-management/dialog-management/#por-que-isso-e-importante","title":"Por que isso \u00e9 importante?","text":"<ul> <li>Naturalidade: Torna a conversa com o agente menos rob\u00f3tica e mais parecida com uma intera\u00e7\u00e3o humana.</li> <li>Efici\u00eancia: Evita que o cliente precise repetir informa\u00e7\u00f5es, tornando o processo mais r\u00e1pido e menos frustrante.</li> <li>Capacidades Avan\u00e7adas: Permite que o agente realize tarefas mais complexas, como preencher um formul\u00e1rio com v\u00e1rias perguntas ou ajudar um cliente a solucionar um problema em etapas.</li> </ul>"},{"location":"dialog-management/dialog-management/#para-desenvolvedores","title":"Para Desenvolvedores","text":""},{"location":"dialog-management/dialog-management/#conceitos-chave-em-gestao-de-dialogos-dialogue-management","title":"Conceitos Chave em Gest\u00e3o de Di\u00e1logos (Dialogue Management)","text":"<p>O Gerenciador de Di\u00e1logos (Dialog Manager) \u00e9 o componente central respons\u00e1vel por manter o estado da conversa e decidir a pr\u00f3xima a\u00e7\u00e3o do agente. Ele orquestra a intera\u00e7\u00e3o entre o NLU e o Gerador de Respostas.</p>"},{"location":"dialog-management/dialog-management/#1-rastreamento-de-estado-dialogue-state-tracking-dst","title":"1. Rastreamento de Estado (Dialogue State Tracking - DST)","text":"<p>O DST \u00e9 o processo de manter o \"estado\" atual da conversa. O estado geralmente inclui:</p> <ul> <li>Inten\u00e7\u00e3o mais recente do usu\u00e1rio: Qual foi a \u00faltima coisa que o usu\u00e1rio quis fazer?</li> <li>Entidades coletadas (Slots): Quais informa\u00e7\u00f5es j\u00e1 foram fornecidas? (Ex: <code>servico = \"Corte Masculino\"</code>, <code>data = \"amanh\u00e3\"</code>).</li> <li>Hist\u00f3rico da conversa: Um registro dos turnos anteriores.</li> <li>Estado da tarefa atual: O agente est\u00e1 no meio de um agendamento, de uma venda, etc.</li> </ul>"},{"location":"dialog-management/dialog-management/#2-politica-de-dialogo-dialogue-policy","title":"2. Pol\u00edtica de Di\u00e1logo (Dialogue Policy)","text":"<p>A pol\u00edtica \u00e9 o c\u00e9rebro que decide o que fazer a seguir. Com base no estado atual (fornecido pelo DST), a pol\u00edtica seleciona a pr\u00f3xima a\u00e7\u00e3o do agente. As a\u00e7\u00f5es podem ser:</p> <ul> <li><code>ask_for_info</code>: Solicitar uma informa\u00e7\u00e3o que est\u00e1 faltando (ex: \"Para qual data voc\u00ea gostaria de agendar?\").</li> <li><code>confirm_action</code>: Confirmar uma a\u00e7\u00e3o com o usu\u00e1rio (ex: \"Posso confirmar o agendamento para amanh\u00e3 \u00e0s 15h?\").</li> <li><code>execute_api_call</code>: Executar uma chamada de API externa (ex: consultar a disponibilidade no Google Calendar).</li> <li><code>send_response</code>: Enviar uma resposta informativa (ex: \"O pre\u00e7o do produto \u00e9 R$ 50,00.\").</li> </ul> <p>As pol\u00edticas podem ser baseadas em regras (rule-based), como uma m\u00e1quina de estados, ou treinadas com aprendizado por refor\u00e7o (Reinforcement Learning), onde o modelo aprende a melhor a\u00e7\u00e3o a tomar com base em conversas passadas.</p>"},{"location":"dialog-management/dialog-management/#3-preenchimento-de-slots-slot-filling","title":"3. Preenchimento de Slots (Slot Filling)","text":"<p>Este \u00e9 um padr\u00e3o comum em agentes orientados a tarefas. O objetivo do agente \u00e9 preencher um conjunto de \"slots\" (informa\u00e7\u00f5es necess\u00e1rias) para completar uma tarefa.</p> <p>Exemplo: Agendar um servi\u00e7o *   Slots necess\u00e1rios: <code>[servico, data, hora]</code> *   A conversa \u00e9 uma s\u00e9rie de perguntas do agente para preencher cada um desses slots. O Dialog Manager rastreia quais slots j\u00e1 foram preenchidos e quais ainda est\u00e3o faltando.</p>"},{"location":"dialog-management/dialog-management/#arquitetura-e-frameworks","title":"Arquitetura e Frameworks","text":"<p>Frameworks como Rasa e Google Dialogflow abstraem muitos desses conceitos.</p> <ul> <li>Rasa: \u00c9 uma plataforma open-source que permite um controle granular sobre o pipeline. O <code>Rasa Core</code> \u00e9 o componente de Dialogue Management, que pode usar pol\u00edticas baseadas em regras ou em machine learning (ex: a pol\u00edtica TED).</li> <li>Dialogflow: \u00c9 um servi\u00e7o gerenciado do Google Cloud. Voc\u00ea define <code>Intents</code>, <code>Entities</code> e <code>Fulfillment</code>. O Fulfillment (via webhooks) \u00e9 onde sua l\u00f3gica de neg\u00f3cios \u00e9 executada para realizar a\u00e7\u00f5es.</li> </ul>"},{"location":"dialog-management/dialog-management/#principais-desafios","title":"Principais Desafios","text":"<ul> <li>Gerenciamento de Contexto a Longo Prazo: Manter o contexto em conversas muito longas ou que s\u00e3o retomadas ap\u00f3s um longo per\u00edodo \u00e9 tecnicamente desafiador.</li> <li>Lidar com Ambiguidade e Corre\u00e7\u00e3o: Um usu\u00e1rio pode dizer \"n\u00e3o, me refiro \u00e0 ter\u00e7a-feira que vem\". O sistema de gest\u00e3o de di\u00e1logo precisa ser capaz de entender a corre\u00e7\u00e3o e atualizar o estado da conversa (os slots).</li> <li>Design da Pol\u00edtica: Projetar uma pol\u00edtica de di\u00e1logo que cubra todos os cen\u00e1rios poss\u00edveis \u00e9 complexo. Uma pol\u00edtica mal projetada pode levar a loops de conversa ou a um comportamento frustrante do agente.</li> <li>Integra\u00e7\u00e3o com L\u00f3gica de Neg\u00f3cios: O Dialog Manager precisa se comunicar de forma eficaz com os sistemas externos (APIs, bancos de dados) para executar a\u00e7\u00f5es e trazer informa\u00e7\u00f5es relevantes para a conversa.</li> </ul>"},{"location":"dialog-management/service-flow/","title":"Desenhando o Fluxo de Atendimento","text":"<p>Um fluxo de atendimento bem estruturado \u00e9 a espinha dorsal de um agente eficaz. Ele define a jornada do usu\u00e1rio, desde a primeira sauda\u00e7\u00e3o at\u00e9 a resolu\u00e7\u00e3o do seu problema, garantindo uma experi\u00eancia consistente, coerente e inteligente.</p>"},{"location":"dialog-management/service-flow/#para-microempreendedores","title":"Para Microempreendedores","text":""},{"location":"dialog-management/service-flow/#o-que-e-um-fluxo-de-atendimento","title":"O que \u00e9 um fluxo de atendimento?","text":"<p>Pense no fluxo de atendimento como um roteiro ou um fluxograma para a conversa. Ele mapeia os diferentes caminhos que a intera\u00e7\u00e3o com um cliente pode seguir. Por exemplo:</p> <ul> <li>Sauda\u00e7\u00e3o: O agente come\u00e7a com uma mensagem de boas-vindas.</li> <li>Identifica\u00e7\u00e3o da Inten\u00e7\u00e3o: O agente pergunta: \"Como posso ajudar?\". O cliente pode responder \"Quero agendar um hor\u00e1rio\" ou \"Qual o pre\u00e7o do produto X?\".</li> <li>Caminhos Diferentes:<ul> <li>Para agendamento, o agente pergunta o melhor dia e hora.</li> <li>Para informa\u00e7\u00f5es de pre\u00e7o, o agente fornece o valor e pergunta se o cliente deseja comprar.</li> </ul> </li> <li>Resolu\u00e7\u00e3o: O agente confirma o agendamento ou finaliza a venda.</li> <li>Despedida: O agente encerra a conversa de forma amig\u00e1vel.</li> </ul> <p>Ter um fluxo bem definido garante que seu agente n\u00e3o se perca e consiga guiar o cliente de forma eficiente, sem frustra\u00e7\u00e3o.</p>"},{"location":"dialog-management/service-flow/#por-que-isso-e-importante","title":"Por que isso \u00e9 importante?","text":"<ul> <li>Consist\u00eancia: Garante que todos os clientes recebam o mesmo n\u00edvel de qualidade no atendimento.</li> <li>Efici\u00eancia: Resolve as solicita\u00e7\u00f5es dos clientes mais rapidamente, seguindo um caminho l\u00f3gico.</li> <li>Experi\u00eancia do Cliente: Um fluxo claro e intuitivo torna a intera\u00e7\u00e3o com o agente agrad\u00e1vel e produtiva.</li> </ul>"},{"location":"dialog-management/service-flow/#para-desenvolvedores","title":"Para Desenvolvedores","text":""},{"location":"dialog-management/service-flow/#modelagem-do-fluxo-de-atendimento","title":"Modelagem do Fluxo de Atendimento","text":"<p>Um fluxo de atendimento (ou \"\u00e1rvore de di\u00e1logo\") \u00e9 tipicamente modelado como uma M\u00e1quina de Estados Finitos (Finite State Machine - FSM). Cada estado representa um ponto na conversa, e as transi\u00e7\u00f5es entre os estados s\u00e3o acionadas pela inten\u00e7\u00e3o do usu\u00e1rio ou por a\u00e7\u00f5es do sistema.</p> <ul> <li> <p>Estados (States): Representam os est\u00e1gios do di\u00e1logo.</p> <ul> <li><code>SAUDACAO_INICIAL</code></li> <li><code>AGUARDANDO_INTENCAO</code></li> <li><code>COLETANDO_DADOS_AGENDAMENTO</code> (ex: precisa da data e do servi\u00e7o)</li> <li><code>CONFIRMANDO_AGENDAMENTO</code></li> <li><code>RESPONDENDO_DUVIDA_PRODUTO</code></li> <li><code>FINALIZADO</code></li> </ul> </li> <li> <p>Inten\u00e7\u00f5es (Intents): Representam o que o usu\u00e1rio quer fazer. S\u00e3o identificadas por um modelo de NLU (Natural Language Understanding).</p> <ul> <li><code>agendar_servico</code></li> <li><code>consultar_preco</code></li> <li><code>saudacao</code></li> <li><code>despedida</code></li> </ul> </li> <li> <p>Transi\u00e7\u00f5es (Transitions): Regras que definem como passar de um estado para outro com base na inten\u00e7\u00e3o do usu\u00e1rio.</p> <ul> <li>Do estado <code>AGUARDANDO_INTENCAO</code>, se a inten\u00e7\u00e3o for <code>agendar_servico</code>, transite para <code>COLETANDO_DADOS_AGENDAMENTO</code>.</li> <li>Do estado <code>COLETANDO_DADOS_AGENDAMENTO</code>, se todos os dados foram coletados, transite para <code>CONFIRMANDO_AGENDAMENTO</code>.</li> </ul> </li> </ul>"},{"location":"dialog-management/service-flow/#componentes-da-arquitetura","title":"Componentes da Arquitetura","text":"<ol> <li> <p>NLU (Natural Language Understanding):</p> <ul> <li>Identifica\u00e7\u00e3o de Inten\u00e7\u00e3o: Classifica a frase do usu\u00e1rio em uma inten\u00e7\u00e3o pr\u00e9-definida.</li> <li>Extra\u00e7\u00e3o de Entidades: Identifica e extrai informa\u00e7\u00f5es importantes do texto, como datas (\"amanh\u00e3 \u00e0s 15h\"), nomes de produtos (\"Agente Nation Pro\") ou locais.</li> </ul> </li> <li> <p>Gerenciador de Di\u00e1logo (Dialog Manager):</p> <ul> <li>\u00c9 o c\u00e9rebro do fluxo. Ele mant\u00e9m o estado atual da conversa.</li> <li>Recebe a inten\u00e7\u00e3o e as entidades do NLU.</li> <li>Com base no estado atual e na inten\u00e7\u00e3o, decide qual \u00e9 o pr\u00f3ximo estado e qual a\u00e7\u00e3o deve ser executada.</li> </ul> </li> <li> <p>Gerador de Respostas (Response Generator):</p> <ul> <li>Com base na a\u00e7\u00e3o definida pelo Dialog Manager, ele formula a resposta que ser\u00e1 enviada ao usu\u00e1rio. As respostas podem ser templates de texto, respostas geradas por um LLM, ou uma combina\u00e7\u00e3o de ambos.</li> </ul> </li> </ol>"},{"location":"dialog-management/service-flow/#exemplo-de-estrutura-em-pseudocodigo-ou-yaml","title":"Exemplo de Estrutura (em pseudoc\u00f3digo ou YAML)","text":"<p>Voc\u00ea pode definir o fluxo de forma declarativa, usando formatos como YAML, o que facilita a manuten\u00e7\u00e3o por n\u00e3o desenvolvedores.</p> <pre><code>states:\n  - name: AGUARDANDO_INTENCAO\n    on_intent:\n      - intent: agendar_servico\n        target: COLETANDO_DADOS_AGENDAMENTO\n        action: perguntar_data_servico\n      - intent: consultar_preco\n        target: RESPONDENDO_DUVIDA_PRODUTO\n        action: buscar_preco_produto\n\n  - name: COLETANDO_DADOS_AGENDAMENTO\n    # L\u00f3gica para coletar entidades como data, hora e tipo de servi\u00e7o\n    ...\n</code></pre>"},{"location":"dialog-management/service-flow/#principais-desafios","title":"Principais Desafios","text":"<ul> <li>Quebra de Fluxo (Digression): O usu\u00e1rio nem sempre segue o caminho esperado. Ele pode estar no meio de um agendamento e de repente perguntar sobre o hor\u00e1rio de funcionamento. O Dialog Manager precisa ser robusto o suficiente para lidar com essas digress\u00f5es e retornar ao fluxo original.</li> <li>Ambiguidade: O NLU pode ter dificuldade em diferenciar inten\u00e7\u00f5es parecidas. Um bom design de inten\u00e7\u00f5es e dados de treinamento de alta qualidade s\u00e3o essenciais.</li> <li>Gerenciamento de Contexto: Manter o contexto ao longo de uma conversa longa \u00e9 complexo. O sistema precisa lembrar informa\u00e7\u00f5es fornecidas anteriormente para evitar perguntas repetitivas.</li> <li>Escalabilidade: Um fluxo de atendimento simples pode se tornar uma \"\u00e1rvore\" gigante e dif\u00edcil de manter. Projetar o fluxo de forma modular, com sub-fluxos reutiliz\u00e1veis, \u00e9 uma boa pr\u00e1tica.</li> </ul>"},{"location":"guides/getting-started/","title":"Guia de Instala\u00e7\u00e3o e Primeiros Passos","text":"<p>Este guia ir\u00e1 ajud\u00e1-lo a configurar o ambiente de desenvolvimento e a executar o projeto nation.fun localmente.</p>"},{"location":"guides/getting-started/#pre-requisitos","title":"Pr\u00e9-requisitos","text":"<p>Antes de come\u00e7ar, certifique-se de que voc\u00ea tem os seguintes softwares instalados:</p> <ul> <li>Node.js (vers\u00e3o 16 ou superior)</li> <li>npm ou yarn como gerenciador de pacotes</li> <li>Git</li> </ul>"},{"location":"guides/getting-started/#instalacao","title":"Instala\u00e7\u00e3o","text":"<p>Siga os passos abaixo para clonar o reposit\u00f3rio e instalar as depend\u00eancias necess\u00e1rias.</p> <ol> <li> <p>Clone o reposit\u00f3rio: <code>bash     git clone https://github.com/govinda777/nation.fun.git     cd nation.fun</code></p> </li> <li> <p>Instale as depend\u00eancias: <code>bash     npm install     # ou     yarn install</code></p> </li> <li> <p>Execute o projeto em modo de desenvolvimento: <code>bash     npm run dev     # ou     yarn dev</code></p> </li> <li> <p>Abra no seu navegador:     Acesse <code>http://localhost:3000</code> para ver a aplica\u00e7\u00e3o em execu\u00e7\u00e3o.</p> </li> </ol>"},{"location":"guides/getting-started/#estrutura-do-projeto","title":"Estrutura do Projeto","text":"<p>A estrutura de pastas do projeto \u00e9 organizada da seguinte forma:</p> <pre><code>nation.fun/\n\u251c\u2500\u2500 public/              # Arquivos est\u00e1ticos\n\u251c\u2500\u2500 components/          # Componentes React reutiliz\u00e1veis\n\u251c\u2500\u2500 pages/              # P\u00e1ginas da aplica\u00e7\u00e3o\n\u251c\u2500\u2500 styles/             # Arquivos de estilo CSS\n\u251c\u2500\u2500 features/           # Especifica\u00e7\u00f5es BDD (.feature)\n\u251c\u2500\u2500 tests/              # Testes unit\u00e1rios\n\u251c\u2500\u2500 next.config.js      # Configura\u00e7\u00e3o Next.js\n\u251c\u2500\u2500 package.json        # Depend\u00eancias do projeto\n\u2514\u2500\u2500 README.md           # Documenta\u00e7\u00e3o principal\n</code></pre>"},{"location":"guides/getting-started/#como-executar-os-testes","title":"Como Executar os Testes","text":"<p>O projeto possui uma su\u00edte de testes para garantir a qualidade e a estabilidade do c\u00f3digo.</p>"},{"location":"guides/getting-started/#testes-unitarios","title":"Testes Unit\u00e1rios","text":"<p>Para rodar os testes unit\u00e1rios, execute o comando:</p> <pre><code>npm run test\n</code></pre>"},{"location":"guides/getting-started/#testes-bdd-behavior-driven-development","title":"Testes BDD (Behavior-Driven Development)","text":"<p>Os testes de comportamento s\u00e3o escritos com Gherkin e podem ser executados com:</p> <pre><code>npm run test:bdd\n</code></pre>"},{"location":"guides/getting-started/#cobertura-de-testes","title":"Cobertura de Testes","text":"<p>Para gerar um relat\u00f3rio de cobertura de testes, utilize:</p> <pre><code>npm run test:coverage\n</code></pre>"},{"location":"guides/getting-started/#processo-de-deploy","title":"Processo de Deploy","text":"<p>O deploy da aplica\u00e7\u00e3o \u00e9 feito automaticamente para o GitHub Pages.</p> <ol> <li> <p>Crie uma build de produ\u00e7\u00e3o: <code>bash     npm run build</code></p> </li> <li> <p>Execute o deploy: <code>bash     npm run deploy</code></p> </li> </ol> <p>A aplica\u00e7\u00e3o ser\u00e1 publicada e estar\u00e1 acess\u00edvel em: https://govinda777.github.io/nation.fun/</p>"},{"location":"integrations/business-integrations/","title":"Integra\u00e7\u00f5es de Neg\u00f3cios: Conectando seu Agente ao Ecossistema da Sua Empresa","text":"<p>Leve a automa\u00e7\u00e3o para o pr\u00f3ximo n\u00edvel conectando seu Agente Nation a ferramentas essenciais do dia a dia, como calend\u00e1rios, CRMs e bases de conhecimento internas. Isso transforma seu agente de um simples chatbot para um verdadeiro assistente de neg\u00f3cios.</p>"},{"location":"integrations/business-integrations/#para-microempreendedores","title":"Para Microempreendedores","text":""},{"location":"integrations/business-integrations/#por-que-integrar-com-outras-ferramentas","title":"Por que integrar com outras ferramentas?","text":"<p>Integrar seu agente com as ferramentas que voc\u00ea j\u00e1 usa potencializa a efici\u00eancia do seu neg\u00f3cio de maneira incr\u00edvel.</p> <ul> <li> <p>Agendamento Inteligente (Integra\u00e7\u00e3o com Calendar):</p> <ul> <li>Benef\u00edcio: Pare de trocar e-mails para marcar reuni\u00f5es. Seu agente pode verificar sua disponibilidade em tempo real e agendar eventos diretamente no seu Google Calendar, Outlook Calendar, etc. Seus clientes recebem o convite instantaneamente.</li> </ul> </li> <li> <p>Gest\u00e3o de Clientes (Integra\u00e7\u00e3o com CRM):</p> <ul> <li>Benef\u00edcio: Nunca mais perca um lead. Quando um novo cliente em potencial conversa com seu agente, seus dados (nome, e-mail, interesse) podem ser enviados automaticamente para o seu sistema de CRM (como HubSpot, Salesforce, Pipedrive). Sua equipe de vendas recebe o lead qualificado e pronto para o contato.</li> </ul> </li> <li> <p>Conhecimento Centralizado (Integra\u00e7\u00e3o com RAG):</p> <ul> <li>Benef\u00edcio: Deixe seu agente responder a perguntas espec\u00edficas sobre seu neg\u00f3cio. Conecte-o a uma base de conhecimento (documentos, planilhas, PDFs) e ele usar\u00e1 essa informa\u00e7\u00e3o para dar respostas precisas sobre seus produtos, pol\u00edticas ou processos internos, como se fosse um funcion\u00e1rio treinado.</li> </ul> </li> </ul>"},{"location":"integrations/business-integrations/#para-desenvolvedores","title":"Para Desenvolvedores","text":""},{"location":"integrations/business-integrations/#arquitetura-de-integracao","title":"Arquitetura de Integra\u00e7\u00e3o","text":"<p>A maioria das integra\u00e7\u00f5es com servi\u00e7os de terceiros (SaaS) \u00e9 baseada em APIs RESTful e autentica\u00e7\u00e3o via OAuth 2.0 ou tokens de API.</p>"},{"location":"integrations/business-integrations/#integracao-com-calendar","title":"Integra\u00e7\u00e3o com Calendar","text":"<ul> <li>APIs Comuns: Google Calendar API, Microsoft Graph API (para Outlook Calendar).</li> <li>Autentica\u00e7\u00e3o: Geralmente OAuth 2.0. O usu\u00e1rio precisa autorizar o agente a acessar seu calend\u00e1rio. O fluxo envolve:<ol> <li>Redirecionar o usu\u00e1rio para a tela de consentimento do provedor (Google, Microsoft).</li> <li>O usu\u00e1rio autoriza o acesso.</li> <li>O provedor retorna um <code>authorization_code</code> para sua aplica\u00e7\u00e3o.</li> <li>Sua aplica\u00e7\u00e3o troca esse c\u00f3digo por um <code>access_token</code> e um <code>refresh_token</code>. O <code>refresh_token</code> \u00e9 armazenado de forma segura para obter novos <code>access_tokens</code> no futuro sem a interven\u00e7\u00e3o do usu\u00e1rio.</li> </ol> </li> <li>Funcionalidades:<ul> <li><code>GET /events</code>: Listar eventos para verificar a disponibilidade.</li> <li><code>POST /events</code>: Criar um novo evento (agendamento).</li> <li><code>DELETE /events/{id}</code>: Cancelar um evento.</li> </ul> </li> <li>Placeholder de Configura\u00e7\u00e3o: <code>GOOGLE_CLIENT_ID=&lt;SEU_CLIENT_ID&gt;     GOOGLE_CLIENT_SECRET=&lt;SEU_CLIENT_SECRET&gt;     GOOGLE_REDIRECT_URI=&lt;SUA_URI_DE_REDIRECIONAMENTO&gt;</code></li> </ul>"},{"location":"integrations/business-integrations/#integracao-com-crm","title":"Integra\u00e7\u00e3o com CRM","text":"<ul> <li>APIs Comuns: HubSpot API, Salesforce API, Pipedrive API.</li> <li>Autentica\u00e7\u00e3o: Pode ser via OAuth 2.0 (para acesso em nome de um usu\u00e1rio) ou tokens de API (para acesso geral da aplica\u00e7\u00e3o).</li> <li>Funcionalidades:<ul> <li><code>POST /crm/v3/objects/contacts</code>: Criar um novo contato (lead).</li> <li><code>GET /crm/v3/objects/contacts/{id}</code>: Buscar um contato existente.</li> <li><code>PATCH /crm/v3/objects/contacts/{id}</code>: Atualizar um contato com novas informa\u00e7\u00f5es.</li> <li><code>POST /crm/v3/objects/notes</code>: Adicionar uma nota a um contato, registrando a intera\u00e7\u00e3o do agente.</li> </ul> </li> <li>Placeholder de Configura\u00e7\u00e3o: <code>HUBSPOT_API_KEY=&lt;SUA_CHAVE_DE_API&gt;</code></li> </ul>"},{"location":"integrations/business-integrations/#integracao-com-rag-retrieval-augmented-generation","title":"Integra\u00e7\u00e3o com RAG (Retrieval-Augmented Generation)","text":"<ul> <li>Conceito: O RAG permite que o modelo de linguagem do agente consulte uma base de conhecimento externa antes de gerar uma resposta.</li> <li>Arquitetura:<ol> <li>Indexa\u00e7\u00e3o (Offline): Seus documentos (PDFs, .md, .txt) s\u00e3o quebrados em peda\u00e7os (chunks), transformados em vetores num\u00e9ricos (embeddings) usando um modelo como o <code>text-embedding-ada-002</code> da OpenAI, e armazenados em um Banco de Dados Vetorial (ex: Pinecone, ChromaDB, Weaviate).</li> <li>Consulta (Online): Quando o usu\u00e1rio faz uma pergunta, a pergunta tamb\u00e9m \u00e9 transformada em um vetor.</li> <li>Busca: O sistema realiza uma busca de similaridade no banco de dados vetorial para encontrar os chunks de texto mais relevantes para a pergunta.</li> <li>Aumento do Prompt: Os chunks de texto recuperados s\u00e3o inseridos no prompt do modelo de linguagem junto com a pergunta original.</li> <li>Gera\u00e7\u00e3o: O modelo de linguagem gera uma resposta com base no contexto fornecido.</li> </ol> </li> <li>Placeholder de Configura\u00e7\u00e3o: <code>PINECONE_API_KEY=&lt;SUA_CHAVE_DE_API_DO_PINECONE&gt;     PINECONE_ENVIRONMENT=&lt;SUA_REGIAO_DO_PINECONE&gt;     OPENAI_API_KEY=&lt;SUA_CHAVE_DE_API_DA_OPENAI&gt;</code></li> </ul>"},{"location":"integrations/business-integrations/#principais-desafios","title":"Principais Desafios","text":"<ul> <li>Autentica\u00e7\u00e3o (OAuth 2.0): O fluxo OAuth 2.0 pode ser complexo de implementar e gerenciar, especialmente o armazenamento seguro e a rota\u00e7\u00e3o dos <code>refresh_tokens</code>.</li> <li>Mapeamento de Dados: Cada CRM e sistema tem um esquema de dados diferente. Mapear corretamente os campos (ex: \"nome\" do agente para \"firstname\" no CRM) \u00e9 crucial e pode exigir uma camada de transforma\u00e7\u00e3o de dados.</li> <li>Qualidade da Base de Conhecimento (RAG): A efic\u00e1cia do RAG depende inteiramente da qualidade e da organiza\u00e7\u00e3o dos seus documentos. Documentos mal escritos ou desatualizados levar\u00e3o a respostas incorretas.</li> <li>Lat\u00eancia: A busca em um banco de dados vetorial e a chamada adicional \u00e0 API de embeddings podem aumentar a lat\u00eancia da resposta do agente. Otimizar o processo de busca \u00e9 fundamental.</li> </ul>"},{"location":"integrations/communication-channels/","title":"Conectando seu Agente a Canais de Comunica\u00e7\u00e3o","text":"<p>Conectar seu Agente Nation a plataformas de mensagens como WhatsApp, Telegram e Discord \u00e9 fundamental para interagir com seus clientes onde eles j\u00e1 est\u00e3o. Esta documenta\u00e7\u00e3o guia voc\u00ea pelo processo, seja voc\u00ea um empreendedor querendo expandir seu alcance ou um desenvolvedor integrando a solu\u00e7\u00e3o.</p>"},{"location":"integrations/communication-channels/#para-microempreendedores","title":"Para Microempreendedores","text":""},{"location":"integrations/communication-channels/#por-que-conectar-seu-agente","title":"Por que conectar seu agente?","text":"<p>Imagine seu neg\u00f3cio funcionando 24/7, respondendo a perguntas, agendando servi\u00e7os e capturando leads, tudo isso diretamente nos aplicativos de mensagens que seus clientes mais usam. Integrar seu agente permite exatamente isso:</p> <ul> <li>Esteja Onde Seus Clientes Est\u00e3o: Aumente o engajamento e a conveni\u00eancia, oferecendo suporte e vendas nos canais de comunica\u00e7\u00e3o preferidos do seu p\u00fablico.</li> <li>Automatize o Atendimento: Libere seu tempo enquanto o agente cuida de tarefas repetitivas, como responder a perguntas frequentes ou qualificar clientes.</li> <li>Nunca Perca uma Oportunidade: Capture contatos e inicie conversas de vendas automaticamente, mesmo fora do hor\u00e1rio comercial.</li> </ul>"},{"location":"integrations/communication-channels/#como-funciona-em-cada-canal","title":"Como funciona em cada canal?","text":"<ul> <li>WhatsApp: Ideal para comunica\u00e7\u00e3o direta e profissional. Use-o para enviar notifica\u00e7\u00f5es, confirma\u00e7\u00f5es de agendamento e oferecer suporte ao cliente de forma personalizada.</li> <li>Telegram: Excelente para criar comunidades e engajar grupos de usu\u00e1rios. O agente pode atuar como um moderador, enviar atualiza\u00e7\u00f5es ou interagir com os membros do grupo.</li> <li>Discord: Perfeito para comunidades de nicho, gamers ou projetos colaborativos. Seu agente pode gerenciar cargos, responder a comandos e integrar-se a um ecossistema de bots.</li> </ul>"},{"location":"integrations/communication-channels/#para-desenvolvedores","title":"Para Desenvolvedores","text":""},{"location":"integrations/communication-channels/#visao-geral-da-arquitetura","title":"Vis\u00e3o Geral da Arquitetura","text":"<p>A integra\u00e7\u00e3o com canais de comunica\u00e7\u00e3o geralmente segue um padr\u00e3o baseado em Webhooks.</p> <ol> <li>Configura\u00e7\u00e3o: Voc\u00ea registra um Bot ou Aplicativo na plataforma desejada (ex: Meta for Developers para WhatsApp, BotFather para Telegram).</li> <li>Webhook: Voc\u00ea informa \u00e0 plataforma um URL de webhook (um endpoint da sua aplica\u00e7\u00e3o).</li> <li>Recebimento de Mensagens: Quando um usu\u00e1rio envia uma mensagem para o seu bot, a plataforma envia uma requisi\u00e7\u00e3o HTTP (geralmente <code>POST</code>) para o seu URL de webhook com os dados da mensagem.</li> <li>Processamento: Sua aplica\u00e7\u00e3o recebe a requisi\u00e7\u00e3o, processa a mensagem com a l\u00f3gica do Agente Nation e determina uma resposta.</li> <li>Envio de Respostas: Sua aplica\u00e7\u00e3o utiliza a API da plataforma para enviar a resposta de volta ao usu\u00e1rio.</li> </ol>"},{"location":"integrations/communication-channels/#configuracao-tecnica","title":"Configura\u00e7\u00e3o T\u00e9cnica","text":""},{"location":"integrations/communication-channels/#whatsapp","title":"WhatsApp","text":"<ul> <li>Plataforma: A integra\u00e7\u00e3o \u00e9 feita atrav\u00e9s da API do WhatsApp Business, gerenciada pela Meta.</li> <li>Passos:<ol> <li>Crie um aplicativo no Meta for Developers.</li> <li>Configure o produto \"WhatsApp\" no seu aplicativo.</li> <li>Obtenha um <code>ID de n\u00famero de telefone</code> e um <code>Token de acesso</code>.</li> <li>Configure um endpoint de webhook no seu servidor para receber as mensagens. Verifique a assinatura da requisi\u00e7\u00e3o para garantir que ela veio da Meta.</li> <li>Use a API de Mensagens para enviar respostas. Lembre-se que conversas iniciadas pelo bot fora da \"janela de 24 horas\" exigem o uso de Message Templates pr\u00e9-aprovados.</li> </ol> </li> <li>Placeholder de Configura\u00e7\u00e3o: <code>WHATSAPP_ACCESS_TOKEN=&lt;SEU_TOKEN_DE_ACESSO&gt;     WHATSAPP_PHONE_ID=&lt;SEU_ID_DE_TELEFONE&gt;     WHATSAPP_VERIFY_TOKEN=&lt;SUA_CHAVE_SECRETA_PARA_WEBHOOK&gt;</code></li> </ul>"},{"location":"integrations/communication-channels/#telegram","title":"Telegram","text":"<ul> <li>Plataforma: A cria\u00e7\u00e3o de bots \u00e9 gerenciada pelo BotFather.</li> <li>Passos:<ol> <li>Inicie uma conversa com o @BotFather no Telegram.</li> <li>Use o comando <code>/newbot</code> para criar um novo bot e obter seu token de acesso.</li> <li>Configure o webhook usando o m\u00e9todo <code>setWebhook</code> da API do Telegram, apontando para o seu endpoint.</li> <li>Trate os diferentes tipos de <code>Update</code> (mensagens, comandos, callbacks de bot\u00f5es).</li> </ol> </li> <li>Placeholder de Configura\u00e7\u00e3o: <code>TELEGRAM_BOT_TOKEN=&lt;SEU_TOKEN_DO_BOTFATHER&gt;</code></li> </ul>"},{"location":"integrations/communication-channels/#discord","title":"Discord","text":"<ul> <li>Plataforma: Os aplicativos e bots s\u00e3o criados no Discord Developer Portal.</li> <li>Passos:<ol> <li>Crie uma \"Application\" no Discord Developer Portal.</li> <li>Na aba \"Bot\", crie um novo bot e obtenha seu token.</li> <li>Configure os Gateway Intents para definir quais eventos seu bot ir\u00e1 receber (ex: <code>GUILD_MESSAGES</code> para mensagens em servidores).</li> <li>A comunica\u00e7\u00e3o pode ser feita via WebSockets (Gateway API) para tempo real ou via Webhooks para intera\u00e7\u00f5es mais simples. Para um agente de conversa\u00e7\u00e3o, a Gateway API \u00e9 a mais indicada.</li> </ol> </li> <li>Placeholder de Configura\u00e7\u00e3o: <code>DISCORD_BOT_TOKEN=&lt;SEU_TOKEN_DE_BOT&gt;     DISCORD_CLIENT_ID=&lt;SEU_CLIENT_ID_DE_APLICATIVO&gt;</code></li> </ul>"},{"location":"integrations/communication-channels/#principais-desafios","title":"Principais Desafios","text":"<ul> <li>Verifica\u00e7\u00e3o e Pol\u00edticas (WhatsApp): O processo de verifica\u00e7\u00e3o da empresa e a aprova\u00e7\u00e3o de templates de mensagem no WhatsApp podem ser lentos e rigorosos.</li> <li>Gerenciamento de Estado: Manter o contexto da conversa entre diferentes mensagens e plataformas \u00e9 um desafio. \u00c9 crucial implementar um bom sistema de gerenciamento de sess\u00e3o.</li> <li>Limites de Taxa (Rate Limiting): Todas as plataformas imp\u00f5em limites no n\u00famero de mensagens que voc\u00ea pode enviar em um determinado per\u00edodo. Sua aplica\u00e7\u00e3o deve ser capaz de lidar com esses limites de forma elegante.</li> <li>Seguran\u00e7a de Webhooks: Seu endpoint de webhook deve ser protegido. Verifique sempre as assinaturas das requisi\u00e7\u00f5es (ex: <code>X-Hub-Signature-256</code> do WhatsApp) para garantir que a solicita\u00e7\u00e3o \u00e9 leg\u00edtima.</li> </ul>"},{"location":"introduction/what-is-an-agent/","title":"Desvendando os Agentes de IA Aut\u00f4nomos: Um Guia para Iniciantes","text":""},{"location":"introduction/what-is-an-agent/#10-introducao-o-que-e-um-agente-de-ia-autonomo","title":"1.0 Introdu\u00e7\u00e3o: O que \u00e9 um Agente de IA Aut\u00f4nomo?","text":"<p>Um agente de IA aut\u00f4nomo \u00e9, de forma simples, um programa de software que pode realizar tarefas complexas para voc\u00ea, de forma independente e sem necessidade de interven\u00e7\u00e3o humana constante. Ele age com base em um conjunto de regras e objetivos pr\u00e9-definidos pelo seu criador.</p> <p>Para facilitar a compreens\u00e3o, podemos fazer uma analogia: imagine um \"estagi\u00e1rio digital\" ou um \"assistente pessoal\" que voc\u00ea pode configurar para realizar trabalhos espec\u00edficos para voc\u00ea, 24 horas por dia, 7 dias por semana. Esse assistente pode aprender, interagir e executar a\u00e7\u00f5es complexas de forma proativa. Mais do que simples automa\u00e7\u00e3o, eles representam uma nova forma de criar assistentes digitais que pensam, aprendem e agem em seu nome.</p> <p>Neste guia, exploraremos como esses agentes s\u00e3o constru\u00eddos, usando dois exemplos pr\u00e1ticos como refer\u00eancia:</p> <ul> <li>Um agente que gerencia intera\u00e7\u00f5es em uma conta do Twitter, respondendo a perguntas e engajando com a comunidade.</li> <li>Um agente que analisa o mercado de criptomoedas, coleta dados de sentimento e executa negocia\u00e7\u00f5es de forma aut\u00f4noma.</li> </ul> <p>Agora que entendemos o que \u00e9 um agente, vamos mergulhar em como ele \u00e9 constru\u00eddo, come\u00e7ando por sua parte mais importante: o \"c\u00e9rebro\".</p>"},{"location":"introduction/what-is-an-agent/#20-os-componentes-essenciais-de-um-agente","title":"2.0 Os Componentes Essenciais de um Agente","text":"<p>Seja para gerenciar redes sociais ou para negociar criptoativos, todo agente de IA aut\u00f4nomo \u00e9 constru\u00eddo sobre os mesmos tr\u00eas pilares fundamentais: um \"c\u00e9rebro\" que define seu comportamento, um conjunto de \"habilidades\" que lhe permite agir e uma \"mem\u00f3ria\" que armazena conhecimento.</p>"},{"location":"introduction/what-is-an-agent/#21-o-cerebro-a-personalidade-e-as-regras-do-agente","title":"2.1 O \"C\u00e9rebro\": A Personalidade e as Regras do Agente","text":"<p>O \"c\u00e9rebro\" \u00e9 o n\u00facleo de configura\u00e7\u00e3o onde a identidade, o prop\u00f3sito e as diretrizes de comportamento do agente s\u00e3o definidos. \u00c9 aqui que o criador molda como o agente deve \"pensar\" e se comportar.</p> <p>Os tr\u00eas elementos principais da configura\u00e7\u00e3o do c\u00e9rebro s\u00e3o:</p> <ul> <li>Prop\u00f3sito: Define a fun\u00e7\u00e3o principal do agente, sua raz\u00e3o de existir. Por exemplo: \"voc\u00ea \u00e9 um agente que interage automaticamente com os usu\u00e1rios do Twitter\". Esta diretriz orienta todas as suas a\u00e7\u00f5es.</li> <li>Personalidade: Define o tom da comunica\u00e7\u00e3o e o estilo de intera\u00e7\u00e3o do agente. Isso pode ser qualquer coisa, desde profissional e anal\u00edtico at\u00e9 descontra\u00eddo, como no exemplo: \"voc\u00ea \u00e9 brincalh\u00e3o\".</li> <li>Princ\u00edpios (Regras): Estabelecem os limites operacionais do agente \u2014 suas regras de \"o que fazer e o que n\u00e3o fazer\". Essas regras garantem que o agente opere de forma segura e alinhada com as inten\u00e7\u00f5es do criador.<ul> <li>O que fazer: \"use suas habilidades para fornecer informa\u00e7\u00f5es precisas\".</li> <li>O que n\u00e3o fazer: \"nunca d\u00ea conselhos financeiros\" ou \"nunca minta\".</li> </ul> </li> </ul> <p>Esses elementos combinados garantem que o agente atue de maneira previs\u00edvel e consistente, cumprindo os objetivos para os quais foi criado.</p>"},{"location":"introduction/what-is-an-agent/#22-as-habilidades-skills-a-caixa-de-ferramentas-do-agente","title":"2.2 As \"Habilidades\" (Skills): A Caixa de Ferramentas do Agente","text":"<p>As \"habilidades\" s\u00e3o as a\u00e7\u00f5es espec\u00edficas que um agente pode executar. Elas funcionam como aplicativos que voc\u00ea instala em um smartphone: cada habilidade adiciona uma nova funcionalidade, permitindo que o agente interaja com diferentes plataformas, APIs ou fontes de dados.</p> <p>A tabela abaixo mostra a diversidade de habilidades que um agente pode ter, com base em nossos exemplos:</p> Categoria da Habilidade Exemplos e Finalidade Intera\u00e7\u00e3o Social Twitter: Permite ao agente buscar men\u00e7\u00f5es, curtir tweets e postar respostas. Coleta de Conhecimento Fire Crawler: Permite que o agente \"raspe\" (scrape) o conte\u00fado de URLs espec\u00edficas ou \"rasteje\" (crawl) sites e blogs inteiros para construir uma base de conhecimento e responder perguntas. An\u00e1lise Financeira Crypto Panic &amp; Alpha: Usado para obter o sentimento do mercado e de usu\u00e1rios do Twitter sobre criptoativos. Opera\u00e7\u00f5es Financeiras Wallet (Carteira): Permite que o agente verifique saldos, realize trocas (swaps) e transfer\u00eancias de criptomoedas. <p>Um ponto crucial sobre as habilidades \u00e9 a seguran\u00e7a. O criador pode restringir o uso de habilidades cr\u00edticas, como transferir fundos ou realizar trocas financeiras, para que apenas o propriet\u00e1rio do agente possa acion\u00e1-las. Isso garante que outros usu\u00e1rios n\u00e3o possam explorar o agente para realizar a\u00e7\u00f5es maliciosas ou n\u00e3o autorizadas.</p>"},{"location":"introduction/what-is-an-agent/#23-a-memoria-a-base-de-conhecimento","title":"2.3 A \"Mem\u00f3ria\": A Base de Conhecimento","text":"<p>Para ser \u00fatil e inteligente, um agente precisa de acesso \u00e0 informa\u00e7\u00e3o. Essa informa\u00e7\u00e3o constitui sua \"mem\u00f3ria\" ou base de conhecimento. Sem ela, o agente n\u00e3o conseguiria responder a perguntas ou tomar decis\u00f5es informadas.</p> <p>O processo de constru\u00e7\u00e3o dessa mem\u00f3ria pode ser feito de forma automatizada. Usando a habilidade Fire Crawler, por exemplo, o agente pode:</p> <ol> <li>Receber o URL de um blog, site de documenta\u00e7\u00e3o ou qualquer outra fonte de informa\u00e7\u00e3o online.</li> <li>\"Rastejar\" (crawl) o conte\u00fado, extraindo e processando as informa\u00e7\u00f5es dos artigos e p\u00e1ginas.</li> <li>Indexar essas informa\u00e7\u00f5es em sua base de conhecimento para poder consult\u00e1-las rapidamente no futuro.</li> </ol> <p>Com essa mem\u00f3ria, o agente pode responder a perguntas espec\u00edficas de usu\u00e1rios, como: \"quais s\u00e3o as datas importantes do hackathon?\", usando o conhecimento que adquiriu.</p> <p>Com um c\u00e9rebro para pensar, habilidades para agir e uma mem\u00f3ria para consultar, o pr\u00f3ximo passo \u00e9 colocar o agente para trabalhar de forma independente.</p>"},{"location":"introduction/what-is-an-agent/#30-autonomia-em-acao-executando-tarefas-sozinho","title":"3.0 Autonomia em A\u00e7\u00e3o: Executando Tarefas Sozinho","text":"<p>A verdadeira magia dos agentes aut\u00f4nomos reside em sua capacidade de executar \"tarefas aut\u00f4nomas\" \u2014 a\u00e7\u00f5es programadas que rodam sozinhas em intervalos de tempo definidos, como a cada hora ou uma vez por dia. A frequ\u00eancia ideal de cada tarefa depende de sua finalidade, como veremos nos exemplos a seguir. Isso permite que o agente opere continuamente sem supervis\u00e3o direta.</p> <p>Vamos ver como isso funciona nos nossos dois exemplos:</p> <ul> <li>Exemplo 1: O Agente de Twitter<ul> <li>Tarefa: \"a cada 60 minutos, buscar men\u00e7\u00f5es no Twitter e respond\u00ea-las usando a base de conhecimento.\"</li> <li>Resultado: O agente monitora a plataforma e interage proativamente com a comunidade, respondendo a perguntas e engajando usu\u00e1rios, mesmo que o propriet\u00e1rio esteja offline.</li> </ul> </li> <li>Exemplo 2: O Agente de Criptomoedas<ul> <li>Tarefa: \"a cada 10 horas, fazer uma avalia\u00e7\u00e3o do mercado de ETH e negociar (trocar ETH por USDC ou vice-versa) com base no sentimento.\"</li> <li>Resultado: O agente gerencia ativamente um portf\u00f3lio de investimentos, tomando decis\u00f5es de compra ou venda com base em dados que ele mesmo coleta e analisa de forma cont\u00ednua.</li> </ul> </li> </ul> <p>Vimos os componentes e como eles funcionam, mas o que isso significa na pr\u00e1tica?</p>"},{"location":"introduction/what-is-an-agent/#40-conclusao-seu-assistente-pessoal-de-ia","title":"4.0 Conclus\u00e3o: Seu Assistente Pessoal de IA","text":"<p>Em resumo, um agente de IA aut\u00f4nomo \u00e9 uma ferramenta poderosa composta por um c\u00e9rebro (com regras e personalidade), um conjunto de habilidades (a\u00e7\u00f5es que pode executar) e a capacidade de realizar tarefas aut\u00f4nomas (a\u00e7\u00f5es programadas).</p> <p>Ao combinar esses tr\u00eas componentes, qualquer pessoa pode projetar e implantar agentes especializados para automatizar uma infinidade de processos. Desde o gerenciamento de engajamento em redes sociais at\u00e9 an\u00e1lises complexas de mercado e execu\u00e7\u00e3o de negocia\u00e7\u00f5es financeiras, os agentes aut\u00f4nomos representam o pr\u00f3ximo passo na automa\u00e7\u00e3o inteligente, abrindo a porta para a cria\u00e7\u00e3o de servi\u00e7os e at\u00e9 mesmo neg\u00f3cios inteiros que operam de forma aut\u00f4noma.</p>"},{"location":"reference/whatsapp-integration/","title":"Configurar o Agente Nation com WhatsApp Business API","text":""},{"location":"reference/whatsapp-integration/#1-pre-requisitos","title":"1. Pr\u00e9-requisitos","text":"<ul> <li>Conta Meta Business Manager verificada.</li> <li>N\u00famero de telefone aprovado para uso com WhatsApp Business API.</li> <li>Cria\u00e7\u00e3o de um App no Meta for Developers.</li> <li>Acesso \u00e0 plataforma Nation com permiss\u00e3o para configurar um agente.</li> </ul>"},{"location":"reference/whatsapp-integration/#2-obter-credenciais-oficiais-da-meta","title":"2. Obter credenciais oficiais da Meta","text":"<p>No Meta Developer Dashboard:</p> <ol> <li>Acesse Meus Apps \u2192 selecione ou crie um novo app.</li> <li>Ative o produtor do WhatsApp no painel.</li> <li>Localize e copie com seguran\u00e7a:<ul> <li><code>App ID</code></li> <li><code>App Secret</code></li> <li><code>Access Token</code> (token de longa dura\u00e7\u00e3o)</li> <li><code>Phone Number ID</code></li> <li><code>Business Account ID</code></li> </ul> </li> </ol> <p>!!! tip \"Dica de seguran\u00e7a\"     *   Nunca salve credenciais em arquivos p\u00fablicos do Git.     *   Use vari\u00e1veis de ambiente (<code>.env</code>) no servidor ou no pipeline do Nation.     *   Configure permiss\u00f5es de leitura restritas (ex.: <code>chmod 600 .env</code> no Linux).     *   Evite inserir tokens diretamente em c\u00f3digos ou logs.</p>"},{"location":"reference/whatsapp-integration/#3-configurar-autenticacao-no-agente-nation","title":"3. Configurar autentica\u00e7\u00e3o no agente Nation","text":"<p>No painel do Nation:</p> <ol> <li>V\u00e1 at\u00e9 Integra\u00e7\u00f5es &gt; APIs externas &gt; WhatsApp Business.</li> <li> <p>Insira vari\u00e1veis com valores seguros de ambiente:</p> <p><code>bash WHATSAPP_APP_ID=your_app_id WHATSAPP_ACCESS_TOKEN=your_long_lived_token WHATSAPP_BUSINESS_ID=your_business_id WHATSAPP_PHONE_ID=your_phone_number_id</code> 3.  Valide as permiss\u00f5es via requisi\u00e7\u00e3o de teste: <code>bash curl -X GET \"https://graph.facebook.com/v21.0/${WHATSAPP_PHONE_ID}/?access_token=${WHATSAPP_ACCESS_TOKEN}\"</code> A resposta JSON deve conter detalhes do n\u00famero cadastrado e confirmar a autentica\u00e7\u00e3o.</p> </li> </ol>"},{"location":"reference/whatsapp-integration/#4-configurar-o-fluxo-basico-de-mensagens","title":"4. Configurar o fluxo b\u00e1sico de mensagens","text":""},{"location":"reference/whatsapp-integration/#envio-de-mensagem-nation-whatsapp","title":"Envio de mensagem (Nation \u2192 WhatsApp)","text":"<pre><code>curl -X POST \"https://graph.facebook.com/v21.0/${WHATSAPP_PHONE_ID}/messages\" \\\n-H \"Authorization: Bearer ${WHATSAPP_ACCESS_TOKEN}\" \\\n-H \"Content-Type: application/json\" \\\n-d '{\n  \"messaging_product\": \"whatsapp\",\n  \"to\": \"55XXXXXXXXXX\",\n  \"type\": \"text\",\n  \"text\": { \"body\": \"Ol\u00e1, este \u00e9 um teste via agente Nation!\" }\n}'\n</code></pre>"},{"location":"reference/whatsapp-integration/#recepcao-de-mensagem-webhook-nation","title":"Recep\u00e7\u00e3o de mensagem (Webhook \u2192 Nation)","text":"<ol> <li>No Meta Developer Dashboard, v\u00e1 at\u00e9 Webhooks \u2192 WhatsApp Business Account.</li> <li>Configure a URL p\u00fablica do Nation:     <code>https://seuagente.nation.io/api/webhook/whatsapp</code></li> <li>Defina o Verify Token (mesmo valor no Nation e no Meta).</li> <li>Selecione os eventos: <code>messages</code>, <code>message_status</code>, <code>template_status</code>.</li> </ol> <p>O Nation agora processar\u00e1 automaticamente entradas e sa\u00eddas de mensagens via o agente configurado.</p>"},{"location":"reference/whatsapp-integration/#5-boas-praticas-de-seguranca-e-conformidade","title":"5. Boas pr\u00e1ticas de seguran\u00e7a e conformidade","text":"<ul> <li>Utilize HTTPS com certificado v\u00e1lido no servidor do Nation.</li> <li>Atualize tokens regularmente (tokens de longa dura\u00e7\u00e3o expiram ap\u00f3s ~60 dias).</li> <li>Monitore o uso com logs seguros e mascaramento de dados pessoais.</li> <li>Respeite a pol\u00edtica da Meta: n\u00e3o envie mensagens sem opt-in do usu\u00e1rio.</li> <li>Use webhooks para auditoria e detec\u00e7\u00e3o de erros antes do deploy final.</li> <li>Teste apenas em ambientes sandbox (Meta Sandbox Numbers) antes de enviar ao p\u00fablico.</li> </ul>"},{"location":"reference/whatsapp-integration/#6-testes-seguros-antes-do-deploy-final","title":"6. Testes seguros antes do deploy final","text":"<ol> <li>Crie um ambiente chamado <code>staging</code> no Nation.</li> <li>Configure vari\u00e1veis <code>.env.staging</code> separadas das de produ\u00e7\u00e3o.</li> <li>Use <code>curl</code> ou testers integrados do Meta para simular mensagens.</li> <li>Realize testes com limite de TPS (Transactions per second) baixo.</li> <li>Monitore os retornos no console do Nation e ajuste o parsing JSON conforme necess\u00e1rio.</li> </ol> <p>Dica extra: automatize seus testes com frameworks como Jest ou Mocha integrados ao fluxo BDD do Nation para validar endpoints antes do deploy.</p>"},{"location":"seguranca/gerenciamento-de-tokens/","title":"Gerenciamento de Tokens de Acesso","text":"<p>A seguran\u00e7a \u00e9 um pilar fundamental na plataforma Nation.fun. O gerenciamento adequado de tokens de acesso (API keys, tokens de autentica\u00e7\u00e3o, etc.) \u00e9 crucial para proteger seus agentes e dados.</p>"},{"location":"seguranca/gerenciamento-de-tokens/#melhores-praticas","title":"Melhores Pr\u00e1ticas","text":"<ul> <li>N\u00e3o exponha tokens no c\u00f3digo-fonte: Nunca comite tokens de acesso diretamente no seu reposit\u00f3rio Git. Use vari\u00e1veis de ambiente para armazenar informa\u00e7\u00f5es sens\u00edveis.</li> <li>Use escopos limitados: Ao criar um token, conceda apenas as permiss\u00f5es necess\u00e1rias para a tarefa que ele ir\u00e1 executar.</li> <li>Rotacione tokens regularmente: Altere seus tokens de acesso periodicamente para limitar o dano em caso de comprometimento.</li> <li>Revogue tokens n\u00e3o utilizados: Se um token n\u00e3o for mais necess\u00e1rio, revogue-o para reduzir a superf\u00edcie de ataque.</li> </ul>"},{"location":"seguranca/gerenciamento-de-tokens/#como-criar-e-revogar-tokens-na-plataforma-nationfun","title":"Como Criar e Revogar Tokens na Plataforma Nation.fun","text":"<p>(Esta se\u00e7\u00e3o ser\u00e1 expandida com o passo a passo detalhado de como gerenciar tokens na interface da plataforma Nation.fun assim que a funcionalidade for implementada.)</p>"},{"location":"seguranca/token-security/","title":"Seguran\u00e7a: Como a Plataforma Protege Seus Tokens e Segredos","text":"<p>A seguran\u00e7a dos seus dados de acesso, como tokens de API, chaves secretas e outras credenciais, \u00e9 uma prioridade m\u00e1xima na arquitetura do Agente Nation. Esta documenta\u00e7\u00e3o explica as medidas que tomamos para garantir que suas informa\u00e7\u00f5es permane\u00e7am seguras.</p>"},{"location":"seguranca/token-security/#para-microempreendedores","title":"Para Microempreendedores","text":""},{"location":"seguranca/token-security/#por-que-a-seguranca-dos-tokens-e-importante","title":"Por que a seguran\u00e7a dos tokens \u00e9 importante?","text":"<p>Pense em um token de acesso (ou \"chave de API\") como a chave digital da sua casa. Se algu\u00e9m mal-intencionado a captura, pode entrar e ter acesso n\u00e3o autorizado \u00e0s suas contas de servi\u00e7os (WhatsApp, CRM, etc.), visualizar dados de clientes e agir em seu nome.</p> <p>\u00c9 por isso que proteger essas chaves \u00e9 t\u00e3o crucial. Nossa plataforma foi constru\u00edda com v\u00e1rias camadas de seguran\u00e7a para garantir que apenas voc\u00ea e seu agente tenham acesso a elas.</p>"},{"location":"seguranca/token-security/#o-que-nos-fazemos-para-te-proteger","title":"O que n\u00f3s fazemos para te proteger?","text":"<ul> <li>Cofre de Segredos: Suas credenciais n\u00e3o ficam salvas em planilhas ou arquivos de texto. Elas s\u00e3o armazenadas em um \"cofre\" digital, altamente protegido e criptografado.</li> <li>Criptografia de Ponta a Ponta: Desde o momento em que voc\u00ea insere uma chave no nosso sistema at\u00e9 o momento em que ela \u00e9 usada para se comunicar com outro servi\u00e7o, ela permanece criptografada, como uma mensagem em um envelope lacrado.</li> <li>Acesso M\u00ednimo: Nossos sistemas s\u00e3o projetados para que nem mesmo nossos desenvolvedores tenham acesso direto \u00e0s suas chaves. O acesso \u00e9 estritamente limitado e monitorado.</li> </ul>"},{"location":"seguranca/token-security/#para-desenvolvedores","title":"Para Desenvolvedores","text":""},{"location":"seguranca/token-security/#arquitetura-de-gerenciamento-de-segredos","title":"Arquitetura de Gerenciamento de Segredos","text":"<p>Adotamos uma abordagem robusta para o gerenciamento de segredos, utilizando um Vault (Cofre) como o pilar central da nossa estrat\u00e9gia de seguran\u00e7a. As credenciais nunca s\u00e3o armazenadas diretamente no c\u00f3digo-fonte, em vari\u00e1veis de ambiente de produ\u00e7\u00e3o de forma plana, ou no banco de dados da aplica\u00e7\u00e3o.</p> <ol> <li> <p>Armazenamento Seguro: Utilizamos um servi\u00e7o de gerenciamento de segredos, como AWS Secrets Manager, Google Cloud Secret Manager ou HashiCorp Vault.</p> <ul> <li>Criptografia em Repouso (at rest): Todos os segredos s\u00e3o criptografados no cofre usando algoritmos padr\u00e3o da ind\u00fastria (ex: AES-256).</li> <li>Controle de Acesso (IAM): O acesso ao cofre \u00e9 rigorosamente controlado por pol\u00edticas de IAM (Identity and Access Management). Somente servi\u00e7os e fun\u00e7\u00f5es autorizadas (como o servi\u00e7o de execu\u00e7\u00e3o do agente) podem solicitar acesso a um segredo espec\u00edfico.</li> </ul> </li> <li> <p>Inje\u00e7\u00e3o de Segredos em Tempo de Execu\u00e7\u00e3o (runtime):</p> <ul> <li>As credenciais n\u00e3o s\u00e3o empacotadas com o c\u00f3digo da aplica\u00e7\u00e3o. Em vez disso, quando um agente precisa de uma chave para se comunicar com uma API externa, o servi\u00e7o respons\u00e1vel solicita o segredo ao Vault em tempo de execu\u00e7\u00e3o.</li> <li>Isso significa que as chaves ficam expostas na mem\u00f3ria do servidor apenas pelo tempo estritamente necess\u00e1rio para realizar a opera\u00e7\u00e3o.</li> </ul> </li> <li> <p>Rota\u00e7\u00e3o de Chaves (Key Rotation):</p> <ul> <li>A plataforma incentiva e oferece mecanismos para a rota\u00e7\u00e3o regular de segredos. A rota\u00e7\u00e3o autom\u00e1tica pode ser configurada para servi\u00e7os compat\u00edveis, garantindo que mesmo que uma chave seja comprometida, sua validade seja curta.</li> </ul> </li> </ol>"},{"location":"seguranca/token-security/#boas-praticas-implementadas","title":"Boas Pr\u00e1ticas Implementadas","text":"<ul> <li>Princ\u00edpio do Menor Privil\u00e9gio: Cada agente ou servi\u00e7o tem permiss\u00e3o para acessar apenas os segredos estritamente necess\u00e1rios para sua fun\u00e7\u00e3o. Um agente configurado para usar a API do Google Calendar n\u00e3o ter\u00e1 permiss\u00e3o para ler a chave da API do WhatsApp.</li> <li>Auditoria e Monitoramento: Todas as solicita\u00e7\u00f5es de acesso aos segredos s\u00e3o registradas (logadas). Isso nos permite monitorar atividades suspeitas e auditar o acesso, identificando quem acessou qual segredo e quando.</li> <li>Seguran\u00e7a de Transporte (in transit): Toda a comunica\u00e7\u00e3o entre nossos servi\u00e7os e o cofre de segredos, bem como entre nossos servi\u00e7os e as APIs externas, \u00e9 feita sobre TLS (HTTPS), garantindo que os dados sejam criptografados durante o transporte.</li> </ul>"},{"location":"seguranca/token-security/#principais-desafios","title":"Principais Desafios","text":"<ul> <li>Complexidade de Implementa\u00e7\u00e3o: Configurar e manter uma infraestrutura de gerenciamento de segredos \u00e9 complexo. \u00c9 um equil\u00edbrio constante entre seguran\u00e7a e usabilidade para a equipe de desenvolvimento.</li> <li>Risco de Exposi\u00e7\u00e3o Acidental: O maior risco muitas vezes \u00e9 o erro humano, como um desenvolvedor que acidentalmente comete uma chave para um reposit\u00f3rio Git. Utilizamos ferramentas de pre-commit hooks e scan de reposit\u00f3rios para mitigar esse risco.</li> <li>Gerenciamento do Ciclo de Vida das Chaves: Garantir que as chaves sejam rotacionadas regularmente e revogadas quando n\u00e3o s\u00e3o mais necess\u00e1rias exige processos automatizados e disciplina operacional.</li> </ul>"},{"location":"skills/bot-para-x-com/","title":"Bot para X.com","text":"<p>Para criar um bot que responde coment\u00e1rios no X.com integrado \u00e0 comunidade usando Next.js, GitHub Pages e Vercel, o processo envolve construir uma API para interagir com o X.com, hospedar o projeto no Vercel (backend Next.js), automatizar o deploy com GitHub Actions e planejar estrat\u00e9gias para engajamento real. N\u00e3o \u00e9 necess\u00e1rio usar n8n, o fluxo \u00e9 todo na stack moderna.[1][2][3]</p>"},{"location":"skills/bot-para-x-com/#estrutura-de-integracao","title":"Estrutura de integra\u00e7\u00e3o","text":"<ul> <li>API do X.com: Crie um projeto no X Developer Portal, gere os tokens OAuth e Access Token. Isto permite que o seu backend Next.js fa\u00e7a requisi\u00e7\u00f5es autenticadas para buscar coment\u00e1rios e postar respostas via API.[3]</li> <li>Backend Next.js: Utilize o Next.js no backend para criar rotas (em <code>/api/</code>) que interagem com o X.com. Por exemplo, uma rota <code>/api/reply</code> que recebe dados do coment\u00e1rio, processa e responde usando a API do X.com.</li> <li>Deploy autom\u00e1tico: Configure o deploy cont\u00ednuo usando GitHub Pages para o front-end est\u00e1tico e Vercel para fun\u00e7\u00f5es serverless/backend. Ao integrar seu repo do GitHub ao Vercel, cada push faz um deploy instant\u00e2neo.[4][5][6]</li> </ul>"},{"location":"skills/bot-para-x-com/#estrategias-para-engajar-a-comunidade","title":"Estrat\u00e9gias para engajar a comunidade","text":"<ul> <li>Programe respostas amig\u00e1veis, personalizadas e informativas para cada tipo de coment\u00e1rio, usando templates e IA simples (OpenAI API pode ser integrada se desejado, protegendo as keys no <code>.env.local</code> e evitando expor no GitHub).[1]</li> <li>Implemente detec\u00e7\u00e3o de tend\u00eancias e temas do momento utilizando an\u00e1lise simples das hashtags, hashtags populares e mencione usu\u00e1rios relevantes para aumentar alcance.[7][8]</li> <li>Incentive os seguidores a interagir criando concursos, perguntas ou desafios respondidos pelo bot, sempre agregando valor \u00e0s discuss\u00f5es reais.</li> <li>Monitore o engajamento (likes, replies, RTs) e ajuste a l\u00f3gica do bot, refinando templates de resposta conforme o feedback da comunidade.[9]</li> </ul>"},{"location":"skills/bot-para-x-com/#passos-tecnicos-para-inicio","title":"Passos t\u00e9cnicos para in\u00edcio","text":"<ol> <li>Crie o projeto Next.js (<code>npx create-next-app seu-bot-next-x</code>) e inicialize o repo no GitHub.</li> <li>Implemente as rotas API para autentica\u00e7\u00e3o e replies utilizando os tokens OAuth do X.com, protegendo-os via <code>.env.local</code>.</li> <li>Fa\u00e7a testes locais e depois conecte o reposit\u00f3rio ao Vercel. Configure deploy autom\u00e1tico com GitHub Actions para produ\u00e7\u00e3o sem esfor\u00e7o.</li> <li>Adote testes unit\u00e1rios e boas pr\u00e1ticas de BDD para garantir qualidade e confian\u00e7a no c\u00f3digo antes do deploy.[1]</li> <li>Compartilhe e ajuste o bot conforme a comunidade evolui e surgem novas necessidades.</li> </ol> <p>Seguindo esse planejamento, seu bot pode ser mantido e evolu\u00eddo facilmente na plataforma Nation, usando Next.js, GitHub Pages e Vercel integrados ao fluxo de automa\u00e7\u00e3o moderno.[2][6][1]</p> <p>Fontes [1] IA em Next.js: como criar chatbots inteligentes em minutos https://rocketseat.com.br/blog/artigos/post/ia-nextjs-chatbot-inteligente [2] Construindo um chatbot em Next.js usando o Vercel AI SDK https://www.reddit.com/r/nextjs/comments/14yhphn/building_a_chatbot_in_nextjs_using_vercel_ai_sdk/ [3] Como criar um bot X com a vers\u00c3\u00a3o 2 da API X https://translate.google.com/translate?u=https%3A%2F%2Fdeveloper.x.com%2Fen%2Fdocs%2Ftutorials%2Fhow-to-create-a-twitter-bot-with-twitter-api-v2&amp;hl=pt&amp;sl=en&amp;tl=pt&amp;client=srp [4] Guia passo a passo para implantar um projeto no Vercel ... https://translate.google.com/translate?u=https%3A%2F%2Fdev.to%2Ftobidelly%2Fstep-by-step-guide-to-deploying-a-project-to-vercel-using-github-actions-for-free-l61&amp;hl=pt&amp;sl=en&amp;tl=pt&amp;client=srp [5] Condicionando deployments no Vercel ao sucesso da ... https://rafaelcamargo.com/blog/condicionando-deployments-no-vercel-ao-sucesso-da-integracao-continua-no-circleci/ [6] Implantando projetos do GitHub com Vercel https://translate.google.com/translate?u=https%3A%2F%2Fvercel.com%2Fdocs%2Fgit%2Fvercel-for-github&amp;hl=pt&amp;sl=en&amp;tl=pt&amp;client=srp [7] CRIAR UM BOT PARA RESPONDER ... https://www.reddit.com/r/microsaas/comments/1hawy7x/create_a_bot_to_automatically_respond_to_comments/ [8] Como obter mais engajamento no X (Twitter)? 17 maneiras f\u00e1ceis https://brand24.com/blog/pt/mais-engajamento-no-twitter/ [9] dicas para aumentar a taxa de engajamento da sua marca - Reportei https://reportei.com/engajamento-no-twitter/ [10] Como fiz um Chatbot no WhatsApp (com c\u00f3digo) usando ... https://www.youtube.com/watch?v=vWYOXhGPQOQ [11] Como criar um um chatbot com next.js e gzappy https://www.youtube.com/watch?v=TooiHiPyChQ [12] O manual do Next.js para iniciantes https://www.freecodecamp.org/portuguese/news/o-manual-do-next-js-para-iniciantes/ [13] Next.js da Vercel - O Framework React https://translate.google.com/translate?u=https%3A%2F%2Fnextjs.org%2Fblog&amp;hl=pt&amp;sl=en&amp;tl=pt&amp;client=srp [14] Projeto de post com coment\u00e1rio utilizando o Nextjs 13 App ... https://cursos.alura.com.br/vitrinedev/livioalvarenga/project/react-post-with-comment/18294495 [15] Dominando Next JS completo do zero \ud83d\udd25 https://www.youtube.com/watch?v=e6FigV2fLC8 [16] Intelig\u00eancia Artificial com Nextjs https://www.youtube.com/watch?v=k-Hmd1Pww1Y [17] [Projeto] Vercel x GitHub Pages | HTML e CSS https://cursos.alura.com.br/forum/topico-projeto-vercel-x-github-pages-372050 [18] Desempenho no Next.js: Melhores Pr\u00e1ticas para Otimizar a ... https://blog.updev.dev.br/posts/desempenho-no-next-js-melhores-praticas-para-otimizar-a-performance-de-um-projeto-next-js [19] Chatbot do ZERO com Next, AI SDK, OpenAI e Shadcn/UI https://www.youtube.com/watch?v=CPRx_WVkJ8g [20] Tutorial Completo com Vercel e GitHub https://www.youtube.com/watch?v=e7L_8XVQBik [21] MINI CURSO PR\u00c1TICO DE NEXT.JS https://www.youtube.com/watch?v=2CVTFPI1rKM [22] NextJS: por que usar? https://www.alura.com.br/artigos/next-js-vantagens</p>"},{"location":"skills/ecommerce/","title":"Guia Completo: Agente de E-Commerce Aut\u00f4nomo na Plataforma Nation com Pagamentos USDC via x402","text":""},{"location":"skills/ecommerce/#visao-geral","title":"Vis\u00e3o Geral","text":"<p>Criei um framework completo para construir um agente de e-commerce aut\u00f4nomo na plataforma Nation com capacidades nativas de gerenciamento de cat\u00e1logo, processamento de pedidos, pagamentos em USDC sem taxas e auditoria on-chain. A solu\u00e7\u00e3o integra:</p> <ul> <li>Plataforma Nation: Agentes aut\u00f4nomos de IA com suporte a m\u00faltiplas skills</li> <li>Protocolo x402: Pagamentos HTTP-nativas com USDC instant\u00e2neo</li> <li>Blockchain Base: Layer 2 Ethereum otimizada para micropagamentos</li> <li>CDP Facilitador: Servi\u00e7o hosted da Coinbase para verifica\u00e7\u00e3o de pagamentos</li> </ul>"},{"location":"skills/ecommerce/#panorama-de-opcoes-de-pagamento","title":"Panorama de Op\u00e7\u00f5es de Pagamento","text":""},{"location":"skills/ecommerce/#1-usdc-mainnet-recomendado","title":"1. USDC Mainnet (Recomendado)","text":"Caracter\u00edstica Detalhe Blockchain Base (Coinbase L2) Token USD Coin (EIP-3009 compatible) Taxa de Protocolo 0% (zero) Tempo de Liquida\u00e7\u00e3o &lt;2 segundos Custo por Transa\u00e7\u00e3o ~$0.0001 Facilitador CDP Facilitator (Coinbase) Status Production-ready <p>Vantagens: Sem taxas, pagamentos instant\u00e2neos, est\u00e1vel, suporte Coinbase</p>"},{"location":"skills/ecommerce/#2-usdc-base-sepolia-testnet","title":"2. USDC Base Sepolia (Testnet)","text":"<ul> <li>Faucet gratuito para testes</li> <li>Facilitador: x402.org (community)</li> <li>Zero custos reais</li> <li>Perfeito para desenvolvimento</li> </ul>"},{"location":"skills/ecommerce/#3-outros-tokens-eip-3009","title":"3. Outros Tokens EIP-3009","text":"<p>Qualquer token que implemente EIP-3009 \u00e9 suportado (EURC, CBDCs futuras, tokens customizados)</p>"},{"location":"skills/ecommerce/#4-solana-spl-tokens","title":"4. Solana SPL Tokens","text":"<p>Se usar Solana: todos os tokens SPL e Token-2022 s\u00e3o suportados</p>"},{"location":"skills/ecommerce/#skills-nativas-da-nation-recomendadas","title":"Skills Nativas da Nation Recomendadas","text":""},{"location":"skills/ecommerce/#skill-1-catalog-manager","title":"Skill 1: Catalog Manager","text":"<ul> <li>Fun\u00e7\u00e3o: Gerenciar e apresentar cat\u00e1logo de produtos</li> <li>Opera\u00e7\u00f5es: Listar, filtrar, buscar produtos; exibir pre\u00e7os em USDC e estoque</li> <li>Tipo: Data Query &amp; Retrieval</li> <li>Permiss\u00f5es: Read-only</li> </ul>"},{"location":"skills/ecommerce/#skill-2-order-processor","title":"Skill 2: Order Processor","text":"<ul> <li>Fun\u00e7\u00e3o: Validar e registrar pedidos</li> <li>Opera\u00e7\u00f5es: Validar estoque, calcular totais, gerar ORDER_ID, reservar items</li> <li>Tipo: State Management &amp; Validation</li> <li>Permiss\u00f5es: Write (criar pedidos), Read (dados)</li> </ul>"},{"location":"skills/ecommerce/#skill-3-payment-processor","title":"Skill 3: Payment Processor","text":"<ul> <li>Fun\u00e7\u00e3o: Processar pagamentos USDC via x402</li> <li>Opera\u00e7\u00f5es: Initiate x402 request, verify payment signature, manage settlement</li> <li>Integra\u00e7\u00e3o: x402 Protocol (Base mainnet/testnet)</li> <li>Permiss\u00f5es: Verificar pagamentos, criar recibos</li> </ul>"},{"location":"skills/ecommerce/#skill-4-audit-manager","title":"Skill 4: Audit Manager","text":"<ul> <li>Fun\u00e7\u00e3o: Registrar todas as transa\u00e7\u00f5es on-chain</li> <li>Opera\u00e7\u00f5es: Log imut\u00e1vel, validar integridade, gerar relat\u00f3rios, detectar anomalias</li> <li>Storage: Smart Contract + Database (write-append only)</li> <li>Permiss\u00f5es: Indefinida (auditoria permanente)</li> </ul>"},{"location":"skills/ecommerce/#passo-a-passo-de-configuracao","title":"Passo a Passo de Configura\u00e7\u00e3o","text":""},{"location":"skills/ecommerce/#fase-1-preparacao-inicial-testnet","title":"Fase 1: Prepara\u00e7\u00e3o Inicial (Testnet)","text":"<ol> <li>Criar carteira e obter USDC de teste</li> <li>Criar carteira EVM no MetaMask</li> <li>Adicionar rede Base Sepolia</li> <li>Obter testnet ETH (faucet Sepolia)</li> <li> <p>Obter testnet USDC (faucets.circle.com)</p> </li> <li> <p>Criar agente na Nation</p> </li> <li>Acessar https://nation.fun</li> <li>Conectar carteira MetaMask</li> <li>\"Create Agent\" com nome e descri\u00e7\u00e3o</li> <li> <p>Nation gera carteira nativa do agente</p> </li> <li> <p>Configurar Skills do Agente<code>Skill 1: Catalog Manager (API: /api/catalog)    Skill 2: Order Processor (API: /api/orders)    Skill 3: Payment Processor (API: /api/payment/process)    Skill 4: Audit Manager (API: /api/audit)</code></p> </li> </ol>"},{"location":"skills/ecommerce/#fase-2-backend-com-x402","title":"Fase 2: Backend com x402","text":"<pre><code>npm install express @coinbase/x402 x402-express ethers dotenv\n</code></pre> <p>Configurar middleware x402:</p> <pre><code>app.use(\n  paymentMiddleware(\n    process.env.AGENT_WALLET_ADDRESS,\n    {\n      \"POST /api/payment/process\": {\n        price: \"$0.001\",\n        network: \"base-sepolia\",\n      },\n    },\n    { facilitator }\n  )\n);\n</code></pre>"},{"location":"skills/ecommerce/#fase-3-implementar-endpoints","title":"Fase 3: Implementar Endpoints","text":"<ul> <li><code>GET /api/catalog</code> - Listar produtos</li> <li><code>POST /api/orders</code> - Criar pedido</li> <li><code>POST /api/payment/process</code> - Processar pagamento (x402)</li> <li><code>GET /api/audit</code> - Consultar logs</li> </ul>"},{"location":"skills/ecommerce/#fase-4-deploy-para-producao","title":"Fase 4: Deploy para Produ\u00e7\u00e3o","text":"<ol> <li>Migrar Base Sepolia \u2192 Base Mainnet</li> <li>Configurar CDP API Keys para mainnet</li> <li>Transferir USDC real para carteira do agente</li> <li>Testar com transa\u00e7\u00f5es pequenas ($1-5)</li> <li>Ativar monitoramento e alertas</li> </ol>"},{"location":"skills/ecommerce/#exemplos-praticos-de-interacoes","title":"Exemplos Pr\u00e1ticos de Intera\u00e7\u00f5es","text":""},{"location":"skills/ecommerce/#exemplo-1-cliente-consulta-catalogo","title":"Exemplo 1: Cliente Consulta Cat\u00e1logo","text":"<p>Cliente: \"Mostre-me laptops dispon\u00edveis\"</p> <p>Agente (retorna via skill CATALOG):</p> <pre><code>Encontrei 2 laptops:\n\n\ud83d\udcf1 1. Laptop Premium 15\"\n   Pre\u00e7o: 1,200.00 USDC\n   Processador: Intel i7, RAM: 16GB\n   Estoque: 5 unidades\n\n\ud83d\udcf1 2. Laptop Ultrabook 13\"\n   Pre\u00e7o: 899.99 USDC\n   Processador: Intel i5, RAM: 8GB\n   Estoque: 3 unidades\n</code></pre>"},{"location":"skills/ecommerce/#exemplo-2-cliente-cria-pedido","title":"Exemplo 2: Cliente Cria Pedido","text":"<p>Cliente: \"Quero 1 Laptop Premium e 2 Mouse Wireless\"</p> <p>Agente (skill ORDER_PROCESSOR):</p> <pre><code>\u2713 Pedido criado: ORD-20251030-001\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Laptop Premium      1  $1,200 \u2502\n\u2502 Mouse Wireless      2  $71.00 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Subtotal:              $1,271 \u2502\n\u2502 Frete:                   $25  \u2502\n\u2502 TOTAL:  1,296.00 USDC (final) \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\ud83d\udcb3 Autorize pagamento x402\n</code></pre>"},{"location":"skills/ecommerce/#exemplo-3-pagamento-via-x402","title":"Exemplo 3: Pagamento via x402","text":"<p>Fluxo autom\u00e1tico (HTTP 402): 1. Agente envia HTTP 402 \"Payment Required\" 2. Cliente assina transa\u00e7\u00e3o USDC em carteira 3. Transa\u00e7\u00e3o enviada ao blockchain Base 4. CDP Facilitator verifica (~200ms) 5. Servidor confirma pedido</p> <p>Agente (skill PAYMENT):</p> <pre><code>\u2713 Pagamento confirmado!\n\n\ud83d\udccb Recibo de Transa\u00e7\u00e3o\n\u251c\u2500 Pedido: ORD-20251030-001\n\u251c\u2500 Valor: 1,296.00 USDC\n\u251c\u2500 TX Hash: 0xabc123def456...\n\u251c\u2500 Blockchain: Base Mainnet\n\u251c\u2500 Confirma\u00e7\u00f5es: 12 (finalizado)\n\u2514\u2500 Link: https://basescan.org/tx/0xabc123...\n</code></pre>"},{"location":"skills/ecommerce/#exemplo-4-auditoria-on-chain-skill-audit","title":"Exemplo 4: Auditoria On-Chain (skill AUDIT)","text":"<p>Cliente: \"Mostrar auditoria do pedido ORD-20251030-001\"</p> <pre><code>\ud83d\udcca Log Imut\u00e1vel no Blockchain\n\n23:25:00 UTC [INFO] Pedido criado\n           \u2514\u2500 Total: 1,296.00 USDC\n\n23:28:30 UTC [PAYMENT] x402 requisi\u00e7\u00e3o enviada\n           \u2514\u2500 HTTP 402 Payment Required\n\n23:29:15 UTC [BLOCKCHAIN] Transa\u00e7\u00e3o confirmada\n           \u2514\u2500 TX: 0xabc123def456...\n           \u2514\u2500 Block: 12345678\n           \u2514\u2500 Value: 1,296.00 USDC\n\n23:29:45 UTC [VERIFIED] Pagamento verificado\n           \u2514\u2500 12 confirma\u00e7\u00f5es \u2713\n\n23:30:00 UTC [COMPLETED] Pedido finalizado\n           \u2514\u2500 Receipt: REC-20251030-001\n           \u2514\u2500 Status: COMPLETED\n</code></pre>"},{"location":"skills/ecommerce/#arquivos-entregues","title":"Arquivos Entregues","text":""},{"location":"skills/ecommerce/#1-guia-pdf-23-paginas","title":"1. Guia PDF (23 p\u00e1ginas)","text":"<p>Documento completo com: - Vis\u00e3o geral arquitetura - Op\u00e7\u00f5es de pagamento suportadas - Skills nativas da Nation (detalhado) - Passo a passo configura\u00e7\u00e3o (testnet + produ\u00e7\u00e3o) - Exemplos pr\u00e1ticos de intera\u00e7\u00e3o - Seguran\u00e7a e compliance - Troubleshooting</p>"},{"location":"skills/ecommerce/#2-aplicativo-interativo-demo","title":"2. Aplicativo Interativo (Demo)","text":"<p>Interface web funcional que demonstra: - Navega\u00e7\u00e3o por cat\u00e1logo de produtos - Carrinho de compras - Fluxo de checkout - Simula\u00e7\u00e3o de pagamento x402 (com delays realistas) - Confirma\u00e7\u00e3o com recibo - Hist\u00f3rico de pedidos - Explica\u00e7\u00e3o do protocolo x402</p>"},{"location":"skills/ecommerce/#3-exemplos-de-codigo-markdown","title":"3. Exemplos de C\u00f3digo (Markdown)","text":"<p>Pronto para implementa\u00e7\u00e3o: - Backend Express.js completo com x402 - Cliente Next.js com Web3 - Hook de assinatura USDC (EIP-712) - Smart Contract de Auditoria (Solidity) - Arquivo .env de configura\u00e7\u00e3o - Exemplos de cURL para testar API</p>"},{"location":"skills/ecommerce/#seguranca-compliance","title":"Seguran\u00e7a &amp; Compliance","text":""},{"location":"skills/ecommerce/#wallet-security","title":"Wallet Security","text":"<p><code>javascript // Criptografia de chave privada encryptPrivateKey(privateKey) \u2192 encrypted // Recomendado: usar CDP Wallet (custodial)</code>### Payment Validation 1. Verificar assinatura USDC 2. Validar valor e endere\u00e7o 3. Verificar timestamp (n\u00e3o expirado) 4. Confirmar on-chain via facilitador</p>"},{"location":"skills/ecommerce/#compliance-kycaml","title":"Compliance (KYC/AML)","text":"<ul> <li>Integrar com Onfido para KYC</li> <li>Verificar lista OFAC</li> <li>Implementar limites por cliente</li> </ul>"},{"location":"skills/ecommerce/#tecnologias-suportadas","title":"Tecnologias Suportadas","text":"Componente Tecnologia Detalhe Agente Nation.fun Plataforma aut\u00f4noma Blockchain Base L2 Ethereum camada 2 Pagamento x402 HTTP 402 + USDC Facilitador CDP (Coinbase) Zero taxas Backend Node.js/Express Middleware x402 Frontend React/Next.js Web3 integration Smart Contracts Solidity Auditoria on-chain Wallet MetaMask Cliente EVM"},{"location":"skills/ecommerce/#proximos-passos-recomendados","title":"Pr\u00f3ximos Passos Recomendados","text":"<ol> <li>\u2705 Testnet (1-2 semanas)</li> <li>Setup ambiente de desenvolvimento</li> <li>Implementar as 4 skills</li> <li>Testar fluxo completo de pedido</li> <li> <p>Validar x402 integration</p> </li> <li> <p>\u2705 Produ\u00e7\u00e3o (2-4 semanas)</p> </li> <li>Migrar Base Sepolia \u2192 Base Mainnet</li> <li>Configurar CDP API Keys mainnet</li> <li>Deploy em produ\u00e7\u00e3o</li> <li> <p>Come\u00e7ar com USDC pequenos valores</p> </li> <li> <p>\u2705 Escala (ongoing)</p> </li> <li>Monitoramento 24/7</li> <li>Rate limiting e seguran\u00e7a</li> <li>Caching de cat\u00e1logo</li> <li>Multi-threading para pagamentos</li> </ol>"},{"location":"skills/ecommerce/#resumo-executivo","title":"Resumo Executivo","text":"<p>Voc\u00ea agora tem um blueprint completo para construir um agente de e-commerce que:</p> <ul> <li>\ud83e\udd16 Funciona 24/7 sem intermedi\u00e1rios</li> <li>\ud83d\udcb0 Aceita pagamentos em USDC sem taxas (x402)</li> <li>\ud83d\udce6 Gerencia cat\u00e1logo e estoque automaticamente</li> <li>\u2705 Valida pagamentos em ~200ms no blockchain Base</li> <li>\ud83d\udcca Registra tudo on-chain para total rastreabilidade</li> <li>\ud83d\udd12 Seguro e aud\u00edvel com smart contracts</li> </ul> <p>O agente pode ser deployado hoje em Base Sepolia (testnet) e escalado para produ\u00e7\u00e3o em Base Mainnet com USDC real!</p> <p>Fontes [1] Bazaar (Discovery Layer) | x402 https://x402.gitbook.io/x402/core-concepts/bazaar-discovery-layer [2] Nation | Autonomous AI agents https://nation.fun/agent/0x668027864C3cbBFE23d4a10aCad67b9CaFD74884?chat=true [3] E-Commerce Nation | eTail Palm Springs https://etailwest.wbresearch.com/mediapartners/e-commerce-nation [4] Blockchain for Payments in 2025 https://www.scnsoft.com/blockchain/payments [5] EU Skills Profile Tool for Third Country Nationals https://employment-social-affairs.ec.europa.eu/policies-and-activities/skills-and-qualifications/skills-jobs/eu-skills-profile-tool-third-country-nationals_en [6] eCommerce Nation - eTail Germany https://etailgermany.wbresearch.com/mediapartners/ecommerce-nation [7] x402: Revolutionizing How AI Agents Pay for Services https://www.youtube.com/watch?v=UQJl8jCDMlo [8] What's NSP - NSP PAK https://pnsp.pk/what_nsp/ [9] NATION Agency https://digitalagencynetwork.com/agency/nation/ [10] Blockchain in Payments | Blockchain Use Cases https://www.leewayhertz.com/blockchain-in-payments/ [11] Skill Nation \u2013 Be Future Ready, Today! https://skillnation.ai [12] Viral Nation: The Global Leader in Social Media ... https://www.viralnation.com [13] Autonomous Agents in Action: Multi-Industry Applications ... https://www.accelirate.com/autonomous-agents/ [14] Blockchain and AI Agents for Transparent Supply Chains https://www.auxiliobits.com/blog/blockchain-integration-with-ai-agents-for-supply-chain-transparency/ [15] Product Catalog Management software for eCommerce &amp; ... https://www.n41.com/product-catalog-management/ [16] Autonomous Agents: Building the Future ... https://www.automationanywhere.com/rpa/autonomous-agents [17] 9 best cryptocurrency payment gateways for international ... https://bvnk.com/blog/best-crypto-payment-gateway [18] Easy Product Inventory Management and Catalogs https://www.catalogmachine.com/inventory-management [19] What are autonomous agents? https://www.servicenow.com/uk/ai/what-are-autonomous-agents.html [20] Blockchain for Global Payments: Use Cases and Benefits https://scand.com/company/blog/blockchain-in-payments/ [21] Catalog Management: Best Practices, Solutions, and ... https://www.plytix.com/blog/catalog-management [22] What are Autonomous Agents? A Complete Guide https://www.salesforce.com/agentforce/ai-agents/autonomous-agents/ [23] Agent configuration https://documentation.fusioninventory.org/FusionInventory_agent/configuration/configuration/ [24] AI Agents in Skills Training: Proven, Powerful Gains https://digiqt.com/blog/ai-agents-in-skills-training/ [25] Circle Enables AI Agents to Pay for Online Services Using ... https://finance.yahoo.com/news/circle-enables-ai-agents-pay-171727075.html [26] fusioninventory-agent https://documentation.fusioninventory.org/FusionInventory_agent/manpage/fusioninventory-agent/ [27] AI Agent Tool Integration Implementation Guide https://zenvanriel.nl/ai-engineer-blog/ai-agent-tool-integration-guide/ [28] Enabling AI Agents with Blockchain https://www.circle.com/blog/enabling-ai-agents-with-blockchain [29] How to Build Autonomous Trading Agents with Nation.fun https://www.youtube.com/watch?v=-WMDz1nT9q0 [30] Tools &amp; Integration https://docs.agent.ai/knowledge-agents/tools-integration [31] AI agents can now pay APIs with USDC in 200 ms as ... https://cryptoslate.com/ai-agents-can-now-pay-apis-with-usdc-in-200-ms-as-coinbase-activates-x402-bazaar/ [32] Manual Installation\u2014Windows Agent https://documentation.n-able.com/remote-management/userguide/Content/manual_installation2.htm [33] tmgthb/Autonomous-Agents https://github.com/tmgthb/Autonomous-Agents [34] How to build an AI Commerce Agent on WhatsApp for ... https://www.youtube.com/watch?v=ymqoqbA8Vhg [35] Embrace the Fun: FUN Token Integration https://nowpayments.io/blog/embrace-the-fun [36] HeyNina101/ai-agent-starter-kit https://github.com/HeyNina101/ai-agent-starter-kit [37] Create AI Chat Agent for WooCommerce with n8n https://www.youtube.com/watch?v=OtJNMP-bsuU [38] What Is FUNToken? All You Need to Know About FUN https://www.gate.com/learn/articles/what-is-funtoken/781 [39] I created a 100% AUTONOMOUS AI Agent with MCP in ... https://www.youtube.com/watch?v=0zuRil7M7IY [40] Building an AI-Powered E-commerce Chat Assistant with ... https://www.youtube.com/watch?v=9tANiA0LKn4 [41] Leveraging tokenisation for payments and financial ... https://www.bis.org/publ/othp92.pdf [42] Nation | Autonomous AI agents https://nation.fun/agent/0xba9FEb3A55694f556bB3BA8bbfafaE2b3B37B5d1 [43] Network &amp; Token Support | x402 https://x402.gitbook.io/x402/core-concepts/network-and-token-support [44] Quickstart for Sellers | x402 https://x402.gitbook.io/x402/getting-started/quickstart-for-sellers [45] What is x402? https://blog.crossmint.com/what-is-x402/ [46] Facilitator - Coinbase Developer Documentation https://docs.cdp.coinbase.com/x402/core-concepts/facilitator [47] X402 Protocol: The HTTP-native Payment Standard for ... https://blockeden.xyz/blog/2025/10/26/x402-protocol-the-http-native-payment-standard-for-autonomous-ai-commerce/ [48] Welcome to x402 - Coinbase Developer Documentation https://docs.cdp.coinbase.com/x402/welcome [49] Quickstart for Sellers - Coinbase Developer Documentation https://docs.cdp.coinbase.com/x402/quickstart-for-sellers [50] Launch AI Agents on Base https://docs.base.org/cookbook/launch-ai-agents [51] Enabling Machine-to-Machine Micropayments with ... https://www.circle.com/blog/enabling-machine-to-machine-micropayments-with-gateway-and-usdc [52] Network &amp; Token Support - x402 https://docs.cdp.coinbase.com/x402/network-support [53] Kite AI, Building the Blockchain Rails for Agentic Payments https://x.com/Xangle_official/status/1973645616149570043 [54] What Is X402? A Beginner's Guide to the AI Payment ... https://www.kucoin.com/blog/en-what-is-x402-a-beginner-s-guide-to-the-ai-payment-revolution</p>"},{"location":"skills/integracao-github/","title":"Integra\u00e7\u00e3o com GitHub","text":""},{"location":"skills/integracao-github/#tutorial-completo-criando-um-webhook-github-que-interage-com-o-agente-nation-usando-smee","title":"Tutorial Completo: Criando um Webhook GitHub que Interage com o Agente Nation usando Smee","text":""},{"location":"skills/integracao-github/#objetivo","title":"Objetivo","text":"<p>Configurar seu reposit\u00f3rio GitHub para disparar eventos de commit (push) e fazer seu agente Next.js reagir automaticamente a esses eventos, com a ajuda do Smee para encaminhar os webhooks para seu ambiente local.</p>"},{"location":"skills/integracao-github/#1-preparar-seu-projeto-do-agente-nextjs","title":"1. Preparar seu projeto do Agente Next.js","text":"<ul> <li>Crie uma aplica\u00e7\u00e3o Next.js (ou similar).</li> <li>Implemente uma rota API para receber os webhooks, por exemplo, <code>pages/api/webhook.js</code>.</li> </ul> <pre><code>// pages/api/webhook.js\nexport default async function handler(req, res) {\n  const eventType = req.headers['x-github-event'];\n  const payload = req.body;\n\n  // Exemplo: reagir a evento de push\n  if (eventType === 'push') {\n    console.log('Push recebido:', payload.head_commit.message);\n    // Aqui voc\u00ea pode disparar a\u00e7\u00f5es adicionais, como rodar testes, enviar notifica\u00e7\u00f5es, etc.\n  }\n\n  res.status(200).json({ message: 'Evento processado' });\n}\n</code></pre>"},{"location":"skills/integracao-github/#2-criar-uma-url-publica-de-webhook-com-smee","title":"2. Criar uma URL p\u00fablica de webhook com Smee","text":"<ul> <li>Acesse https://smee.io</li> <li>Clique em Start a new channel.</li> <li>Copie a URL gerada, por exemplo: <code>https://smee.io/abc123</code>.</li> </ul>"},{"location":"skills/integracao-github/#3-configurar-o-webhook-no-github","title":"3. Configurar o Webhook no GitHub","text":"<ul> <li>V\u00e1 at\u00e9 Settings &gt; Webhooks do seu reposit\u00f3rio GitHub.</li> <li>Clique em Add webhook.</li> <li>Cole a URL do Smee no campo Payload URL.</li> <li>Selecione application/json para o formato.</li> <li>Marque o evento Push (ou outros conforme sua necessidade).</li> <li>Opcionalmente, configure um segredo para valida\u00e7\u00e3o.</li> <li>Clique em Add webhook.</li> </ul>"},{"location":"skills/integracao-github/#4-rodar-o-cliente-smee-localmente","title":"4. Rodar o cliente Smee localmente","text":"<ul> <li>Instale o cliente do Smee:</li> </ul> <pre><code>npm install -g smee-client\n</code></pre> <ul> <li>Execute o comando para redirecionar os eventos para seu servidor local:</li> </ul> <pre><code>smee --url https://smee.io/abc123 --target http://localhost:3000/api/webhook\n</code></pre> <p>Importante: Certifique-se de que seu servidor local (Next.js) est\u00e1 rodando na porta 3000.</p>"},{"location":"skills/integracao-github/#5-testar-a-integracao","title":"5. Testar a integra\u00e7\u00e3o","text":"<ul> <li>Fa\u00e7a um push no seu reposit\u00f3rio GitHub.</li> <li>Voc\u00ea dever\u00e1 ver, no console do seu agente, a mensagem do commit, indicando que recebeu o evento.</li> </ul>"},{"location":"skills/integracao-github/#resumo","title":"Resumo","text":"<ul> <li>Crie uma rota API no seu agente para receber webhooks.</li> <li>Gerar uma URL p\u00fablica com Smee.</li> <li>Configurar o Webhook no GitHub apontando para essa URL.</li> <li>Usar o Smee para encaminhar os eventos para seu ambiente de desenvolvimento local.</li> <li>Seu agente reage ao evento de push e executa as a\u00e7\u00f5es desejadas.</li> </ul> <p>Assim, voc\u00ea tem um fluxo automatizado completo que permite que seu agente do Nation interaja e reaja a eventos espec\u00edficos do seu reposit\u00f3rio GitHub, como commits, pull requests ou outros, facilitando automa\u00e7\u00f5es, testes e integra\u00e7\u00f5es cont\u00ednuas.</p> <p>Se desejar, posso tamb\u00e9m ajudar a criar scripts mais avan\u00e7ados ou exemplos de rea\u00e7\u00f5es espec\u00edficas a diferentes eventos.</p>"},{"location":"web3/","title":"Bem-vindo \u00e0 Na\u00e7\u00e3o Web3","text":"<p>Nesta se\u00e7\u00e3o, voc\u00ea encontrar\u00e1 tudo o que precisa saber sobre como usamos a tecnologia Web3 para potenciar os Agentes da Nation.fun.</p> <p>Nosso objetivo \u00e9 tornar essa tecnologia poderosa acess\u00edvel a todos, mesmo para quem n\u00e3o tem familiaridade com criptomoedas ou blockchain.</p> <p>Aqui voc\u00ea aprender\u00e1 sobre:</p> <ul> <li>Como suas chaves e ativos digitais s\u00e3o protegidos com a Privy.</li> <li>O que \u00e9 o \"NFT Nation Pass\" e como ele lhe d\u00e1 controle sobre seu Agente.</li> <li>Como as taxas de transa\u00e7\u00e3o funcionam de forma transparente.</li> <li>Como voc\u00ea tem total autonomia para mover seus ativos para outras carteiras.</li> </ul> <p>Explore os t\u00f3picos para entender como garantimos seguran\u00e7a, transpar\u00eancia e propriedade real dos seus ativos digitais.</p>"},{"location":"web3/como-as-taxas-sao-cobradas/","title":"Como Funcionam as Taxas na Plataforma?","text":"<p>A transpar\u00eancia \u00e9 fundamental na Nation.fun. Usamos a tecnologia de \"carteiras inteligentes\" (ERC-4337) n\u00e3o apenas para seguran\u00e7a, mas tamb\u00e9m para automatizar a cobran\u00e7a de taxas de forma clara e eficiente.</p>"},{"location":"web3/como-as-taxas-sao-cobradas/#o-papel-do-smart-contract","title":"O Papel do Smart Contract","text":"<p>As taxas na nossa plataforma s\u00e3o gerenciadas por um Smart Contract \u2014 um programa aut\u00f4nomo e transparente que fica na blockchain da Base. Este contrato est\u00e1 conectado \u00e0 sua carteira inteligente Privy e executa as regras de cobran\u00e7a de forma autom\u00e1tica.</p> <p>Como as taxas s\u00e3o definidas?</p> <p>O Smart Contract \u00e9 programado para aplicar taxas de duas maneiras:</p> <ol> <li>Valor Fixo: Uma quantia espec\u00edfica por transa\u00e7\u00e3o (ex: 0,50 USD por compra).</li> <li>Porcentagem: Uma porcentagem sobre o valor da transa\u00e7\u00e3o (ex: 2% sobre a venda de uma NFT).</li> </ol> <p>A regra aplicada (fixa ou porcentagem) \u00e9 definida diretamente na l\u00f3gica do Smart Contract, garantindo que as cobran\u00e7as sejam previs\u00edveis e consistentes para todos os usu\u00e1rios.</p>"},{"location":"web3/como-as-taxas-sao-cobradas/#situacoes-em-que-as-taxas-se-aplicam","title":"Situa\u00e7\u00f5es em que as Taxas se Aplicam","text":"<p>Gra\u00e7as ao padr\u00e3o ERC-4337, as taxas podem ser cobradas de forma integrada em diversas opera\u00e7\u00f5es, sem que o usu\u00e1rio final precise se preocupar em ter criptomoedas para pagar por elas. O sistema pode deduzir a taxa diretamente do valor da transa\u00e7\u00e3o.</p> <p>Exemplos de cobran\u00e7a:</p> <ul> <li>Compra de Tokens (<code>NATO</code>): Ao comprar tokens, uma pequena taxa pode ser adicionada para cobrir os custos da opera\u00e7\u00e3o.</li> <li>Compra e Venda de NFTs (<code>Nation Pass</code>): Uma taxa pode ser aplicada no momento da compra ou sobre o valor da venda de uma NFT.</li> <li>Uso do Agente: Para certas intera\u00e7\u00f5es avan\u00e7adas ou transa\u00e7\u00f5es mediadas pelo Agente (como fechar uma venda), o Smart Contract pode cobrar uma taxa de servi\u00e7o. Isso se aplica tanto a transa\u00e7\u00f5es dentro da sua carteira Privy quanto a intera\u00e7\u00f5es com outras carteiras inteligentes.</li> </ul> <p>O objetivo deste sistema \u00e9 criar um ecossistema sustent\u00e1vel, onde os custos de opera\u00e7\u00e3o da rede s\u00e3o cobertos de maneira transparente, permitindo que a plataforma continue a oferecer servi\u00e7os de alta qualidade.</p>"},{"location":"web3/como-criar-agente/","title":"Como Criar Seu Agente e Cunhar Sua NFT","text":"<p>Para criar um Agente na Nation.fun, voc\u00ea primeiro precisa \"cunhar\" (criar) um NFT Nation Pass. Este NFT \u00e9 a sua chave de propriedade: ele prova que voc\u00ea \u00e9 o dono do seu Agente e lhe d\u00e1 acesso para configur\u00e1-lo.</p> <p>O processo \u00e9 projetado para ser simples e direto, mesmo que voc\u00ea nunca tenha interagido com NFTs antes.</p>"},{"location":"web3/como-criar-agente/#passo-a-passo-para-criar-seu-agente","title":"Passo a Passo para Criar seu Agente","text":"<ol> <li> <p>Acesse a Plataforma: Fa\u00e7a login na sua conta Nation.fun. Usamos a Privy para garantir que seu acesso seja seguro e simples, geralmente conectado ao seu e-mail.</p> </li> <li> <p>Inicie a Cria\u00e7\u00e3o do Agente: Na sua dashboard, voc\u00ea encontrar\u00e1 a op\u00e7\u00e3o para criar um novo Agente. Ao iniciar este processo, voc\u00ea ser\u00e1 guiado para a etapa de cunhagem da sua NFT.</p> </li> <li> <p>Cunhagem do NFT Nation Pass:</p> <ul> <li>O que Acontece: \"Cunhar\" (ou \"mintar\") significa criar um ativo digital \u00fanico na blockchain da Base e registr\u00e1-lo em seu nome, dentro da sua carteira inteligente Privy.</li> <li>Confirma\u00e7\u00e3o: Voc\u00ea precisar\u00e1 aprovar a transa\u00e7\u00e3o. Gra\u00e7as \u00e0 tecnologia ERC-4337, este processo \u00e9 simplificado. As taxas de rede (conhecidas como \"gas fees\") podem ser pagas de forma transparente, sem que voc\u00ea precise comprar criptomoedas separadamente.</li> <li>Recebimento: Uma vez confirmada, a NFT aparecer\u00e1 na sua carteira Privy como prova de propriedade.</li> </ul> </li> <li> <p>Configure Seu Agente: Com o NFT Nation Pass em sua carteira, o acesso para configurar seu Agente \u00e9 liberado. Agora voc\u00ea pode definir as fun\u00e7\u00f5es, o conhecimento e o comportamento do seu Agente para atender \u00e0s necessidades do seu neg\u00f3cio.</p> </li> </ol>"},{"location":"web3/como-criar-agente/#por-que-uma-nft","title":"Por que uma NFT?","text":"<p>Usar uma NFT como \"chave\" para o seu Agente garante que:</p> <ul> <li>Voc\u00ea tem a Propriedade Real: O Agente \u00e9 seu. Voc\u00ea pode provar a propriedade e, no futuro, at\u00e9 mesmo transferi-la ou vend\u00ea-la.</li> <li>Acesso Seguro e Descentralizado: Apenas a carteira que det\u00e9m a NFT pode fazer altera\u00e7\u00f5es no Agente, garantindo que ningu\u00e9m mais possa control\u00e1-lo.</li> </ul> <p>Este processo combina a simplicidade de uma aplica\u00e7\u00e3o web moderna com a seguran\u00e7a e a propriedade da tecnologia Web3.</p>"},{"location":"web3/como-transferir-seus-ativos/","title":"Liberdade Total: Como Transferir Seus Ativos Para Outra Carteira","text":"<p>Um dos principais benef\u00edcios da tecnologia Web3 \u00e9 a propriedade real. Seus ativos digitais \u2014 como o <code>NFT Nation Pass</code> e os tokens <code>NATO</code> \u2014 s\u00e3o verdadeiramente seus. Isso significa que voc\u00ea tem total liberdade para mov\u00ea-los da sua carteira inteligente Privy para qualquer outra carteira que desejar.</p>"},{"location":"web3/como-transferir-seus-ativos/#por-que-transferir-meus-ativos","title":"Por que Transferir Meus Ativos?","text":"<p>Embora a carteira Privy ofere\u00e7a uma experi\u00eancia de uso simples e segura, voc\u00ea pode querer mover seus ativos por diversos motivos:</p> <ul> <li>Consolida\u00e7\u00e3o: Para juntar todos os seus ativos digitais em uma \u00fanica carteira pessoal (como MetaMask, Rainbow, etc.).</li> <li>Venda em Marketplaces: Para vender seu <code>NFT Nation Pass</code> em um mercado secund\u00e1rio de NFTs.</li> <li>Prefer\u00eancia Pessoal: Simplesmente porque voc\u00ea prefere usar outra aplica\u00e7\u00e3o de carteira para gerenciar seus fundos.</li> </ul>"},{"location":"web3/como-transferir-seus-ativos/#como-realizar-a-transferencia","title":"Como Realizar a Transfer\u00eancia","text":"<p>O processo de transfer\u00eancia de ativos de uma carteira para outra \u00e9 uma funcionalidade padr\u00e3o da blockchain.</p> <ol> <li> <p>Acesse Sua Carteira Privy: Fa\u00e7a login na sua conta Nation.fun para acessar a interface da sua carteira Privy. Nela, voc\u00ea ver\u00e1 seus ativos listados.</p> </li> <li> <p>Obtenha o Endere\u00e7o da Carteira de Destino: Na sua outra carteira (para onde voc\u00ea quer enviar os ativos), encontre e copie o endere\u00e7o p\u00fablico. Ele funciona como o n\u00famero de uma conta banc\u00e1ria e geralmente come\u00e7a com <code>0x...</code>.</p> </li> <li> <p>Inicie a Transfer\u00eancia na Privy: Na interface da Privy, selecione o ativo que deseja mover (seja a NFT ou os tokens) e escolha a op\u00e7\u00e3o \"Enviar\" ou \"Transferir\".</p> </li> <li> <p>Confirme a Transa\u00e7\u00e3o:</p> <ul> <li>Cole o endere\u00e7o da carteira de destino no campo indicado.</li> <li>Revise os detalhes da transa\u00e7\u00e3o com aten\u00e7\u00e3o, incluindo o endere\u00e7o e a quantia.</li> <li>Aprove a transa\u00e7\u00e3o. Uma pequena taxa de rede (gas fee) ser\u00e1 aplicada para processar a transfer\u00eancia na blockchain da Base.</li> </ul> </li> <li> <p>Aguarde a Confirma\u00e7\u00e3o: A transfer\u00eancia pode levar alguns instantes para ser confirmada pela rede. Assim que for conclu\u00edda, seus ativos aparecer\u00e3o na carteira de destino.</p> </li> </ol> <p>Importante:</p> <ul> <li>Verifique o Endere\u00e7o: Transa\u00e7\u00f5es na blockchain s\u00e3o irrevers\u00edveis. Sempre verifique se o endere\u00e7o de destino est\u00e1 correto antes de confirmar.</li> <li>Compatibilidade da Rede: Certifique-se de que a carteira de destino \u00e9 compat\u00edvel com a rede Base. A maioria das carteiras modernas que suportam Ethereum tamb\u00e9m suporta a Base.</li> </ul> <p>Esta funcionalidade garante que voc\u00ea nunca fique \"preso\" \u00e0 nossa plataforma. Voc\u00ea tem autonomia total sobre o que \u00e9 seu.</p>"},{"location":"web3/erc4337-e-custodia/","title":"Como Protegemos Seus Ativos: Carteiras Inteligentes (ERC-4337)","text":"<p>Na Nation.fun, sua seguran\u00e7a e controle sobre seus ativos digitais s\u00e3o nossa prioridade. Usamos uma tecnologia avan\u00e7ada chamada ERC-4337, em parceria com a Privy, para criar \"carteiras inteligentes\" para cada usu\u00e1rio.</p>"},{"location":"web3/erc4337-e-custodia/#o-que-e-uma-carteira-inteligente-erc-4337","title":"O que \u00e9 uma Carteira Inteligente (ERC-4337)?","text":"<p>Pense em uma carteira inteligente como uma conta banc\u00e1ria digital super segura, mas que voc\u00ea mesmo controla, sem precisar de um banco. A tecnologia ERC-4337 permite que essa carteira tenha regras e l\u00f3gicas programadas diretamente nela.</p> <p>Principais Vantagens:</p> <ol> <li>Acesso Simplificado: Voc\u00ea n\u00e3o precisa se preocupar em guardar frases de seguran\u00e7a complicadas. Seu acesso \u00e9 gerenciado de forma simples e segura atrav\u00e9s do login que voc\u00ea j\u00e1 usa (como seu e-mail).</li> <li>Seguran\u00e7a Refor\u00e7ada: As regras dentro da carteira (um Smart Contract) protegem suas transa\u00e7\u00f5es e ativos, como o <code>NFT Nation Pass</code> e os tokens <code>NATO</code>.</li> <li>Flexibilidade: Permite automatizar pagamentos de taxas de forma transparente, para que voc\u00ea n\u00e3o precise ter criptomoedas (como ETH) apenas para pagar por transa\u00e7\u00f5es.</li> </ol>"},{"location":"web3/erc4337-e-custodia/#como-funciona-a-custodia-dos-seus-ativos","title":"Como Funciona a Cust\u00f3dia dos Seus Ativos?","text":"<p>A cust\u00f3dia dos seus ativos, como o NFT Nation Pass e o NATO \u2014 The Nation Token, \u00e9 totalmente sua.</p> <ul> <li>Voc\u00ea \u00e9 o Dono: Diferente de um sistema tradicional, onde a empresa guarda seus dados, aqui a sua carteira inteligente \u00e9 registrada na blockchain da Base. Isso significa que apenas voc\u00ea tem controle sobre ela.</li> <li>Privy Garante o Acesso: A Privy fornece a tecnologia que conecta seu login \u00e0 sua carteira. Eles gerenciam as chaves de acesso de forma segura, sem nunca tomar posse dos seus ativos. A Privy age como um cofre seguro para suas chaves, mas n\u00e3o tem acesso ao conte\u00fado.</li> <li>Transpar\u00eancia Total: Todas as suas transa\u00e7\u00f5es e a propriedade dos seus ativos s\u00e3o p\u00fablicas e verific\u00e1veis na blockchain.</li> </ul> <p>Em resumo, a Nation.fun lhe d\u00e1 a posse real dos seus ativos digitais, enquanto a Privy torna o acesso a eles t\u00e3o simples e seguro quanto usar qualquer aplicativo moderno.</p>"},{"location":"web3/onramp/","title":"Guia de Onramp: Como Adquirir Tokens NATO","text":"<p>Bem-vindo ao guia de onramp do nation.fun! Este documento explica passo a passo como converter seu dinheiro (PIX, Cart\u00e3o de Cr\u00e9dito) ou outras criptomoedas em tokens NATO, o token nativo da nossa plataforma.</p> <p>O processo \u00e9 dividido em duas etapas principais:</p> <ol> <li>Comprar ETH na Rede Base: Primeiro, voc\u00ea precisar\u00e1 de ETH na rede Base para pagar as taxas de transa\u00e7\u00e3o (g\u00e1s).</li> <li>Trocar (Swap) ETH por NATO: Com ETH em sua carteira, voc\u00ea usar\u00e1 uma corretora descentralizada (DEX) para troc\u00e1-los por NATO.</li> </ol> <p>Vamos come\u00e7ar!</p>"},{"location":"web3/onramp/#passo-1-comprar-eth-na-rede-base-com-moonpay","title":"Passo 1: Comprar ETH na Rede Base com MoonPay","text":"<p>A maneira mais f\u00e1cil de adicionar fundos \u00e0 sua carteira \u00e9 atrav\u00e9s da MoonPay, um servi\u00e7o seguro que permite comprar criptomoedas com m\u00e9todos de pagamento tradicionais.</p> <ol> <li> <p>Fa\u00e7a Login no nation.fun:</p> <ul> <li>Acesse a plataforma nation.fun.</li> <li>Clique em \"Crie agora o seu agente\" para fazer login com sua conta social. O Privy criar\u00e1 e gerenciar\u00e1 sua carteira digital automaticamente.</li> </ul> </li> <li> <p>Acesse sua Carteira e Compre Cripto:</p> <ul> <li>Dentro da sua carteira Privy, procure a op\u00e7\u00e3o \"Adicionar Fundos\" ou \"Comprar Cripto\". Isso abrir\u00e1 a interface da MoonPay.</li> <li>Selecione a Moeda: Escolha ETH.</li> <li>Selecione a Rede: \u00c9 fundamental que voc\u00ea selecione a rede Base. Caso contr\u00e1rio, os fundos n\u00e3o poder\u00e3o ser usados para a troca.</li> <li>Escolha o M\u00e9todo de Pagamento: Selecione PIX ou Cart\u00e3o de Cr\u00e9dito e siga as instru\u00e7\u00f5es na tela para concluir a compra.</li> </ul> </li> </ol> <p>Ap\u00f3s a confirma\u00e7\u00e3o, os ETH ser\u00e3o depositados em sua carteira Privy na rede Base.</p>"},{"location":"web3/onramp/#passo-2-trocar-eth-por-nato-em-uma-dex","title":"Passo 2: Trocar ETH por NATO em uma DEX","text":"<p>Agora que voc\u00ea tem ETH, o pr\u00f3ximo passo \u00e9 troc\u00e1-los por NATO. Usaremos a Uniswap, uma das corretoras descentralizadas mais populares, como exemplo.</p> <ol> <li> <p>Acesse a Uniswap:</p> <ul> <li>Abra o site da Uniswap em seu navegador.</li> </ul> </li> <li> <p>Conecte sua Carteira:</p> <ul> <li>No canto superior direito, clique em \"Conectar\".</li> <li>Escolha a op\u00e7\u00e3o de conectar com a carteira Privy. Voc\u00ea precisar\u00e1 aprovar a conex\u00e3o na janela pop-up do Privy.</li> <li>Certifique-se de que a rede selecionada na Uniswap seja a Base.</li> </ul> </li> <li> <p>Configure a Troca (Swap):</p> <ul> <li>Na interface de troca, o campo superior (de onde voc\u00ea paga) deve estar configurado para ETH.</li> <li>No campo inferior (para onde voc\u00ea recebe), clique em \"Selecionar token\" e cole o seguinte endere\u00e7o de contrato do token NATO:     <code>0xd968196fa6977c4e58f2af5ac01c655ea8332d22</code></li> <li>Clique em \"Importar\" e confirme a adi\u00e7\u00e3o do token NATO.</li> </ul> </li> <li> <p>Execute a Troca:</p> <ul> <li>Digite a quantidade de ETH que voc\u00ea deseja trocar por NATO.</li> <li>A Uniswap mostrar\u00e1 uma estimativa de quantos tokens NATO voc\u00ea receber\u00e1.</li> <li>Clique em \"Trocar\" (ou \"Swap\") e aprove a transa\u00e7\u00e3o na sua carteira Privy.</li> </ul> </li> </ol> <p>Pronto! Ap\u00f3s a confirma\u00e7\u00e3o da transa\u00e7\u00e3o na blockchain, os tokens NATO aparecer\u00e3o no saldo da sua carteira.</p>"},{"location":"web3/onramp/#informacoes-importantes","title":"Informa\u00e7\u00f5es Importantes","text":"<ul> <li>Endere\u00e7o do Contrato NATO (Rede Base): <code>0xd968196fa6977c4e58f2af5ac01c655ea8332d22</code></li> <li>Taxas de G\u00e1s: Todas as transa\u00e7\u00f5es na rede Base exigem uma pequena quantidade de ETH para pagar as taxas de g\u00e1s. Sempre mantenha um pequeno saldo de ETH em sua carteira para isso.</li> </ul> <p>Se tiver qualquer d\u00favida, entre em contato com nosso suporte.</p>"},{"location":"web3/restricoes-e-limites/","title":"Restri\u00e7\u00f5es e Limites de Acesso ao Agente","text":"<p>Para garantir a seguran\u00e7a, a integridade e o bom funcionamento da plataforma, o acesso \u00e0 configura\u00e7\u00e3o completa do seu Agente \u00e9 gerenciado pela posse do NFT Nation Pass. Este sistema garante que apenas o propriet\u00e1rio leg\u00edtimo possa realizar altera\u00e7\u00f5es.</p>"},{"location":"web3/restricoes-e-limites/#o-nft-como-chave-de-acesso","title":"O NFT como Chave de Acesso","text":"<p>A posse do <code>NFT Nation Pass</code> na sua carteira inteligente Privy funciona como uma chave de seguran\u00e7a. Apenas com essa \"chave\" \u00e9 poss\u00edvel acessar as configura\u00e7\u00f5es avan\u00e7adas do seu Agente.</p> <p>Por que isso \u00e9 importante?</p> <p>Este mecanismo foi criado para evitar contornos (bypass) nas regras da plataforma, como as taxas de transa\u00e7\u00e3o ou os limites de uso. Se o acesso fosse livre, um usu\u00e1rio mal-intencionado poderia, teoricamente, tentar reconfigurar o Agente para evitar cobran\u00e7as ou exceder os limites do plano contratado.</p>"},{"location":"web3/restricoes-e-limites/#quais-sao-os-limites-de-configuracao","title":"Quais s\u00e3o os Limites de Configura\u00e7\u00e3o?","text":"<p>Como cliente e propriet\u00e1rio do Agente, voc\u00ea tem ampla liberdade para customiz\u00e1-lo, mas dentro de certos par\u00e2metros de seguran\u00e7a definidos pela plataforma.</p> <p>O que voc\u00ea PODE fazer:</p> <ul> <li>Definir o conhecimento e a base de dados que o Agente utiliza.</li> <li>Customizar a personalidade e o tom de voz.</li> <li>Integrar com ferramentas externas aprovadas (como calend\u00e1rios e CRMs).</li> <li>Gerenciar as conversas e analisar os dados de intera\u00e7\u00e3o.</li> </ul> <p>O que \u00e9 RESTRITO (para sua seguran\u00e7a):</p> <ul> <li>Alterar a L\u00f3gica de Taxas: Voc\u00ea n\u00e3o pode modificar o Smart Contract que gerencia a cobran\u00e7a de taxas. Isso garante um ambiente justo para todos.</li> <li>Modificar o Core do Agente: A programa\u00e7\u00e3o central do Agente, que lida com a seguran\u00e7a e a conex\u00e3o com a blockchain, n\u00e3o \u00e9 edit\u00e1vel.</li> <li>Exceder Limites do Plano: As configura\u00e7\u00f5es relacionadas a limites de intera\u00e7\u00f5es mensais, acesso a funcionalidades premium ou uso de ferramentas avan\u00e7adas s\u00e3o definidas pelo seu plano e n\u00e3o podem ser alteradas diretamente pelo usu\u00e1rio.</li> </ul> <p>Este modelo de acesso garante um equil\u00edbrio perfeito: voc\u00ea tem total controle criativo e funcional sobre o seu Agente, enquanto a plataforma assegura que o ambiente permane\u00e7a seguro, est\u00e1vel e justo.</p>"},{"location":"web3/smart-contract-de-taxas/","title":"O C\u00e9rebro por Tr\u00e1s das Opera\u00e7\u00f5es: O Smart Contract na Rede Base","text":"<p>Para orquestrar as funcionalidades Web3 da Nation.fun, como a posse de NFTs, a gest\u00e3o de carteiras e a cobran\u00e7a de taxas, utilizamos um Smart Contract (contrato inteligente) espec\u00edfico, hospedado na blockchain da Base.</p>"},{"location":"web3/smart-contract-de-taxas/#o-que-e-este-smart-contract","title":"O que \u00e9 este Smart Contract?","text":"<p>Pense neste Smart Contract como o \"c\u00e9rebro\" l\u00f3gico que comanda as carteiras inteligentes (ERC-4337) dos nossos usu\u00e1rios. Ele \u00e9 um programa de computador que roda de forma aut\u00f4noma e transparente na blockchain, executando regras pr\u00e9-definidas sem a necessidade de intermedi\u00e1rios.</p> <p>Ele \u00e9 o respons\u00e1vel por:</p> <ol> <li>Gerenciar Carteiras: Supervisionar a cria\u00e7\u00e3o e o funcionamento das carteiras inteligentes de cada usu\u00e1rio.</li> <li>Executar Regras de Taxas: Aplicar as regras de cobran\u00e7a (seja um valor fixo ou uma porcentagem) sobre as transa\u00e7\u00f5es realizadas.</li> <li>Validar a Propriedade: Verificar a posse do <code>NFT Nation Pass</code> para conceder acesso \u00e0s configura\u00e7\u00f5es do Agente.</li> </ol>"},{"location":"web3/smart-contract-de-taxas/#como-ele-se-conecta-com-a-privy-e-a-sua-carteira","title":"Como ele se Conecta com a Privy e a Sua Carteira?","text":"<p>Sua carteira inteligente, criada e acessada via Privy, est\u00e1 diretamente ligada a este Smart Contract mestre. A integra\u00e7\u00e3o funciona da seguinte forma:</p> <ol> <li>Cria\u00e7\u00e3o da Carteira: Quando voc\u00ea cria sua conta, a Privy gera uma carteira inteligente para voc\u00ea. Essa carteira \u00e9 automaticamente configurada para seguir as regras do nosso Smart Contract na rede Base.</li> <li>Execu\u00e7\u00e3o de Transa\u00e7\u00f5es: Sempre que voc\u00ea realiza uma a\u00e7\u00e3o que exige uma transa\u00e7\u00e3o na blockchain (como cunhar uma NFT ou comprar tokens), sua carteira envia uma \"opera\u00e7\u00e3o de usu\u00e1rio\" (UserOperation) para a rede.</li> <li>Valida\u00e7\u00e3o pelo Smart Contract: Antes de a transa\u00e7\u00e3o ser finalizada, ela passa pelo nosso Smart Contract, que verifica se as regras est\u00e3o sendo cumpridas (ex: se a taxa correta est\u00e1 sendo aplicada). Se tudo estiver certo, a transa\u00e7\u00e3o \u00e9 aprovada e registrada na blockchain.</li> </ol>"},{"location":"web3/smart-contract-de-taxas/#por-que-na-rede-base","title":"Por que na Rede Base?","text":"<p>Escolhemos a Base (uma blockchain desenvolvida pela Coinbase) por suas baixas taxas de transa\u00e7\u00e3o, alta velocidade e seguran\u00e7a robusta. Isso nos permite oferecer uma experi\u00eancia Web3 fluida e acess\u00edvel para nossos clientes, sem os altos custos associados a outras redes.</p> <p>Em resumo, este Smart Contract \u00e9 a pe\u00e7a central que garante que todas as opera\u00e7\u00f5es Web3 na Nation.fun sejam seguras, transparentes e autom\u00e1ticas, permitindo que voc\u00ea aproveite os benef\u00edcios da tecnologia sem se preocupar com a complexidade t\u00e9cnica.</p>"}]}